function RN(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function Ag(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var tp={exports:{}},hc={},np={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function kN(){if(p0)return Je;p0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function _(V){return V===null||typeof V!="object"?null:(V=y&&V[y]||V["@@iterator"],typeof V=="function"?V:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,N={};function R(V,Q,ce){this.props=V,this.context=Q,this.refs=N,this.updater=ce||I}R.prototype.isReactComponent={},R.prototype.setState=function(V,Q){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Q,"setState")},R.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function L(){}L.prototype=R.prototype;function z(V,Q,ce){this.props=V,this.context=Q,this.refs=N,this.updater=ce||I}var F=z.prototype=new L;F.constructor=z,A(F,R.prototype),F.isPureReactComponent=!0;var K=Array.isArray,J=Object.prototype.hasOwnProperty,te={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function S(V,Q,ce){var me,de={},ue=null,ee=null;if(Q!=null)for(me in Q.ref!==void 0&&(ee=Q.ref),Q.key!==void 0&&(ue=""+Q.key),Q)J.call(Q,me)&&!C.hasOwnProperty(me)&&(de[me]=Q[me]);var ge=arguments.length-2;if(ge===1)de.children=ce;else if(1<ge){for(var we=Array(ge),Ae=0;Ae<ge;Ae++)we[Ae]=arguments[Ae+2];de.children=we}if(V&&V.defaultProps)for(me in ge=V.defaultProps,ge)de[me]===void 0&&(de[me]=ge[me]);return{$$typeof:n,type:V,key:ue,ref:ee,props:de,_owner:te.current}}function P(V,Q){return{$$typeof:n,type:V.type,key:Q,ref:V.ref,props:V.props,_owner:V._owner}}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function D(V){var Q={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ce){return Q[ce]})}var U=/\/+/g;function j(V,Q){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):Q.toString(36)}function ve(V,Q,ce,me,de){var ue=typeof V;(ue==="undefined"||ue==="boolean")&&(V=null);var ee=!1;if(V===null)ee=!0;else switch(ue){case"string":case"number":ee=!0;break;case"object":switch(V.$$typeof){case n:case e:ee=!0}}if(ee)return ee=V,de=de(ee),V=me===""?"."+j(ee,0):me,K(de)?(ce="",V!=null&&(ce=V.replace(U,"$&/")+"/"),ve(de,Q,ce,"",function(Ae){return Ae})):de!=null&&(O(de)&&(de=P(de,ce+(!de.key||ee&&ee.key===de.key?"":(""+de.key).replace(U,"$&/")+"/")+V)),Q.push(de)),1;if(ee=0,me=me===""?".":me+":",K(V))for(var ge=0;ge<V.length;ge++){ue=V[ge];var we=me+j(ue,ge);ee+=ve(ue,Q,ce,we,de)}else if(we=_(V),typeof we=="function")for(V=we.call(V),ge=0;!(ue=V.next()).done;)ue=ue.value,we=me+j(ue,ge++),ee+=ve(ue,Q,ce,we,de);else if(ue==="object")throw Q=String(V),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return ee}function be(V,Q,ce){if(V==null)return V;var me=[],de=0;return ve(V,me,"","",function(ue){return Q.call(ce,ue,de++)}),me}function ie(V){if(V._status===-1){var Q=V._result;Q=Q(),Q.then(function(ce){(V._status===0||V._status===-1)&&(V._status=1,V._result=ce)},function(ce){(V._status===0||V._status===-1)&&(V._status=2,V._result=ce)}),V._status===-1&&(V._status=0,V._result=Q)}if(V._status===1)return V._result.default;throw V._result}var ye={current:null},q={transition:null},Z={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:q,ReactCurrentOwner:te};function se(){throw Error("act(...) is not supported in production builds of React.")}return Je.Children={map:be,forEach:function(V,Q,ce){be(V,function(){Q.apply(this,arguments)},ce)},count:function(V){var Q=0;return be(V,function(){Q++}),Q},toArray:function(V){return be(V,function(Q){return Q})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Je.Component=R,Je.Fragment=t,Je.Profiler=i,Je.PureComponent=z,Je.StrictMode=r,Je.Suspense=m,Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Je.act=se,Je.cloneElement=function(V,Q,ce){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var me=A({},V.props),de=V.key,ue=V.ref,ee=V._owner;if(Q!=null){if(Q.ref!==void 0&&(ue=Q.ref,ee=te.current),Q.key!==void 0&&(de=""+Q.key),V.type&&V.type.defaultProps)var ge=V.type.defaultProps;for(we in Q)J.call(Q,we)&&!C.hasOwnProperty(we)&&(me[we]=Q[we]===void 0&&ge!==void 0?ge[we]:Q[we])}var we=arguments.length-2;if(we===1)me.children=ce;else if(1<we){ge=Array(we);for(var Ae=0;Ae<we;Ae++)ge[Ae]=arguments[Ae+2];me.children=ge}return{$$typeof:n,type:V.type,key:de,ref:ue,props:me,_owner:ee}},Je.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:a,_context:V},V.Consumer=V},Je.createElement=S,Je.createFactory=function(V){var Q=S.bind(null,V);return Q.type=V,Q},Je.createRef=function(){return{current:null}},Je.forwardRef=function(V){return{$$typeof:h,render:V}},Je.isValidElement=O,Je.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:ie}},Je.memo=function(V,Q){return{$$typeof:p,type:V,compare:Q===void 0?null:Q}},Je.startTransition=function(V){var Q=q.transition;q.transition={};try{V()}finally{q.transition=Q}},Je.unstable_act=se,Je.useCallback=function(V,Q){return ye.current.useCallback(V,Q)},Je.useContext=function(V){return ye.current.useContext(V)},Je.useDebugValue=function(){},Je.useDeferredValue=function(V){return ye.current.useDeferredValue(V)},Je.useEffect=function(V,Q){return ye.current.useEffect(V,Q)},Je.useId=function(){return ye.current.useId()},Je.useImperativeHandle=function(V,Q,ce){return ye.current.useImperativeHandle(V,Q,ce)},Je.useInsertionEffect=function(V,Q){return ye.current.useInsertionEffect(V,Q)},Je.useLayoutEffect=function(V,Q){return ye.current.useLayoutEffect(V,Q)},Je.useMemo=function(V,Q){return ye.current.useMemo(V,Q)},Je.useReducer=function(V,Q,ce){return ye.current.useReducer(V,Q,ce)},Je.useRef=function(V){return ye.current.useRef(V)},Je.useState=function(V){return ye.current.useState(V)},Je.useSyncExternalStore=function(V,Q,ce){return ye.current.useSyncExternalStore(V,Q,ce)},Je.useTransition=function(){return ye.current.useTransition()},Je.version="18.3.1",Je}var g0;function Rg(){return g0||(g0=1,np.exports=kN()),np.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function PN(){if(y0)return hc;y0=1;var n=Rg(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,m,p){var v,y={},_=null,I=null;p!==void 0&&(_=""+p),m.key!==void 0&&(_=""+m.key),m.ref!==void 0&&(I=m.ref);for(v in m)r.call(m,v)&&!a.hasOwnProperty(v)&&(y[v]=m[v]);if(h&&h.defaultProps)for(v in m=h.defaultProps,m)y[v]===void 0&&(y[v]=m[v]);return{$$typeof:e,type:h,key:_,ref:I,props:y,_owner:i.current}}return hc.Fragment=t,hc.jsx=u,hc.jsxs=u,hc}var v0;function jN(){return v0||(v0=1,tp.exports=PN()),tp.exports}var l=jN(),b=Rg();const fe=Ag(b),DN=RN({__proto__:null,default:fe},[b]);var Td={},rp={exports:{}},On={},sp={exports:{}},ip={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function MN(){return x0||(x0=1,(function(n){function e(q,Z){var se=q.length;q.push(Z);e:for(;0<se;){var V=se-1>>>1,Q=q[V];if(0<i(Q,Z))q[V]=Z,q[se]=Q,se=V;else break e}}function t(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var Z=q[0],se=q.pop();if(se!==Z){q[0]=se;e:for(var V=0,Q=q.length,ce=Q>>>1;V<ce;){var me=2*(V+1)-1,de=q[me],ue=me+1,ee=q[ue];if(0>i(de,se))ue<Q&&0>i(ee,de)?(q[V]=ee,q[ue]=se,V=ue):(q[V]=de,q[me]=se,V=me);else if(ue<Q&&0>i(ee,se))q[V]=ee,q[ue]=se,V=ue;else break e}}return Z}function i(q,Z){var se=q.sortIndex-Z.sortIndex;return se!==0?se:q.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var m=[],p=[],v=1,y=null,_=3,I=!1,A=!1,N=!1,R=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(q){for(var Z=t(p);Z!==null;){if(Z.callback===null)r(p);else if(Z.startTime<=q)r(p),Z.sortIndex=Z.expirationTime,e(m,Z);else break;Z=t(p)}}function K(q){if(N=!1,F(q),!A)if(t(m)!==null)A=!0,ie(J);else{var Z=t(p);Z!==null&&ye(K,Z.startTime-q)}}function J(q,Z){A=!1,N&&(N=!1,L(S),S=-1),I=!0;var se=_;try{for(F(Z),y=t(m);y!==null&&(!(y.expirationTime>Z)||q&&!D());){var V=y.callback;if(typeof V=="function"){y.callback=null,_=y.priorityLevel;var Q=V(y.expirationTime<=Z);Z=n.unstable_now(),typeof Q=="function"?y.callback=Q:y===t(m)&&r(m),F(Z)}else r(m);y=t(m)}if(y!==null)var ce=!0;else{var me=t(p);me!==null&&ye(K,me.startTime-Z),ce=!1}return ce}finally{y=null,_=se,I=!1}}var te=!1,C=null,S=-1,P=5,O=-1;function D(){return!(n.unstable_now()-O<P)}function U(){if(C!==null){var q=n.unstable_now();O=q;var Z=!0;try{Z=C(!0,q)}finally{Z?j():(te=!1,C=null)}}else te=!1}var j;if(typeof z=="function")j=function(){z(U)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,be=ve.port2;ve.port1.onmessage=U,j=function(){be.postMessage(null)}}else j=function(){R(U,0)};function ie(q){C=q,te||(te=!0,j())}function ye(q,Z){S=R(function(){q(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_continueExecution=function(){A||I||(A=!0,ie(J))},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(m)},n.unstable_next=function(q){switch(_){case 1:case 2:case 3:var Z=3;break;default:Z=_}var se=_;_=Z;try{return q()}finally{_=se}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(q,Z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var se=_;_=q;try{return Z()}finally{_=se}},n.unstable_scheduleCallback=function(q,Z,se){var V=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?V+se:V):se=V,q){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=se+Q,q={id:v++,callback:Z,priorityLevel:q,startTime:se,expirationTime:Q,sortIndex:-1},se>V?(q.sortIndex=se,e(p,q),t(m)===null&&q===t(p)&&(N?(L(S),S=-1):N=!0,ye(K,se-V))):(q.sortIndex=Q,e(m,q),A||I||(A=!0,ie(J))),q},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(q){var Z=_;return function(){var se=_;_=Z;try{return q.apply(this,arguments)}finally{_=se}}}})(ip)),ip}var w0;function ON(){return w0||(w0=1,sp.exports=MN()),sp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function LN(){if(_0)return On;_0=1;var n=Rg(),e=ON();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){u(s,o),u(s+"Capture",o)}function u(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},y={};function _(s){return m.call(y,s)?!0:m.call(v,s)?!1:p.test(s)?y[s]=!0:(v[s]=!0,!1)}function I(s,o,c,f){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function A(s,o,c,f){if(o===null||typeof o>"u"||I(s,o,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function N(s,o,c,f,g,x,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=o,this.sanitizeURL=x,this.removeEmptyString=T}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){R[s]=new N(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];R[o]=new N(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){R[s]=new N(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){R[s]=new N(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){R[s]=new N(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){R[s]=new N(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){R[s]=new N(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){R[s]=new N(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){R[s]=new N(s,5,!1,s.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function z(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(L,z);R[o]=new N(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(L,z);R[o]=new N(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(L,z);R[o]=new N(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){R[s]=new N(s,1,!1,s.toLowerCase(),null,!1,!1)}),R.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){R[s]=new N(s,1,!1,s.toLowerCase(),null,!0,!0)});function F(s,o,c,f){var g=R.hasOwnProperty(o)?R[o]:null;(g!==null?g.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(A(o,c,g,f)&&(c=null),f||g===null?_(o)&&(c===null?s.removeAttribute(o):s.setAttribute(o,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(o=g.attributeName,f=g.attributeNamespace,c===null?s.removeAttribute(o):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,f?s.setAttributeNS(f,o,c):s.setAttribute(o,c))))}var K=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),te=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),D=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),q=Symbol.iterator;function Z(s){return s===null||typeof s!="object"?null:(s=q&&s[q]||s["@@iterator"],typeof s=="function"?s:null)}var se=Object.assign,V;function Q(s){if(V===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);V=o&&o[1]||""}return`
`+V+s}var ce=!1;function me(s,o){if(!s||ce)return"";ce=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Y){var f=Y}Reflect.construct(s,[],o)}else{try{o.call()}catch(Y){f=Y}s.call(o.prototype)}else{try{throw Error()}catch(Y){f=Y}s()}}catch(Y){if(Y&&f&&typeof Y.stack=="string"){for(var g=Y.stack.split(`
`),x=f.stack.split(`
`),T=g.length-1,M=x.length-1;1<=T&&0<=M&&g[T]!==x[M];)M--;for(;1<=T&&0<=M;T--,M--)if(g[T]!==x[M]){if(T!==1||M!==1)do if(T--,M--,0>M||g[T]!==x[M]){var B=`
`+g[T].replace(" at new "," at ");return s.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",s.displayName)),B}while(1<=T&&0<=M);break}}}finally{ce=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?Q(s):""}function de(s){switch(s.tag){case 5:return Q(s.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return s=me(s.type,!1),s;case 11:return s=me(s.type.render,!1),s;case 1:return s=me(s.type,!0),s;default:return""}}function ue(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case te:return"Portal";case P:return"Profiler";case S:return"StrictMode";case j:return"Suspense";case ve:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case D:return(s.displayName||"Context")+".Consumer";case O:return(s._context.displayName||"Context")+".Provider";case U:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case be:return o=s.displayName||null,o!==null?o:ue(s.type)||"Memo";case ie:o=s._payload,s=s._init;try{return ue(s(o))}catch{}}return null}function ee(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(o);case 8:return o===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ge(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function we(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ae(s){var o=we(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),f=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,x=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(T){f=""+T,x.call(this,T)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(T){f=""+T},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function $e(s){s._valueTracker||(s._valueTracker=Ae(s))}function Se(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),f="";return s&&(f=we(s)?s.checked?"true":"false":s.value),s=f,s!==c?(o.setValue(s),!0):!1}function dt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Dt(s,o){var c=o.checked;return se({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function or(s,o){var c=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;c=ge(o.value!=null?o.value:c),s._wrapperState={initialChecked:f,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function bn(s,o){o=o.checked,o!=null&&F(s,"checked",o,!1)}function Wt(s,o){bn(s,o);var c=ge(o.value),f=o.type;if(c!=null)f==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?st(s,o.type,c):o.hasOwnProperty("defaultValue")&&st(s,o.type,ge(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function qr(s,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,c||o===s.value||(s.value=o),s.defaultValue=o}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function st(s,o,c){(o!=="number"||dt(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var It=Array.isArray;function qn(s,o,c,f){if(s=s.options,o){o={};for(var g=0;g<c.length;g++)o["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=o.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&f&&(s[c].defaultSelected=!0)}else{for(c=""+ge(c),o=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function Gt(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function ar(s,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(t(92));if(It(c)){if(1<c.length)throw Error(t(93));c=c[0]}o=c}o==null&&(o=""),c=o}s._wrapperState={initialValue:ge(c)}}function aa(s,o){var c=ge(o.value),f=ge(o.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),o.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),f!=null&&(s.defaultValue=""+f)}function Hr(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Wr(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oi(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Wr(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var br,ai=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,f,g){MSApp.execUnsafeLocalFunction(function(){return s(o,c,f,g)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(br=br||document.createElement("div"),br.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=br.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function An(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var Tr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sr=["Webkit","ms","Moz","O"];Object.keys(Tr).forEach(function(s){Sr.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Tr[o]=Tr[s]})});function Gr(s,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||Tr.hasOwnProperty(s)&&Tr[s]?(""+o).trim():o+"px"}function li(s,o){s=s.style;for(var c in o)if(o.hasOwnProperty(c)){var f=c.indexOf("--")===0,g=Gr(c,o[c],f);c==="float"&&(c="cssFloat"),f?s.setProperty(c,g):s[c]=g}}var ci=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rn(s,o){if(o){if(ci[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function ui(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lr=null;function Tn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ir=null,Nr=null,_t=null;function di(s){if(s=Xl(s)){if(typeof Ir!="function")throw Error(t(280));var o=s.stateNode;o&&(o=Fu(o),Ir(s.stateNode,s.type,o))}}function Fe(s){Nr?_t?_t.push(s):_t=[s]:Nr=s}function mt(){if(Nr){var s=Nr,o=_t;if(_t=Nr=null,di(s),o)for(s=0;s<o.length;s++)di(o[s])}}function Mt(s,o){return s(o)}function Jt(){}var Sn=!1;function Rt(s,o,c){if(Sn)return s(o,c);Sn=!0;try{return Mt(s,o,c)}finally{Sn=!1,(Nr!==null||_t!==null)&&(Jt(),mt())}}function Ft(s,o){var c=s.stateNode;if(c===null)return null;var f=Fu(c);if(f===null)return null;c=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,o,typeof c));return c}var Hn=!1;if(h)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){Hn=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch{Hn=!1}function fn(s,o,c,f,g,x,T,M,B){var Y=Array.prototype.slice.call(arguments,3);try{o.apply(c,Y)}catch(ae){this.onError(ae)}}var cr=!1,Zt=null,mo=!1,ur=null,yu={onError:function(s){cr=!0,Zt=s}};function vu(s,o,c,f,g,x,T,M,B){cr=!1,Zt=null,fn.apply(yu,arguments)}function Sl(s,o,c,f,g,x,T,M,B){if(vu.apply(this,arguments),cr){if(cr){var Y=Zt;cr=!1,Zt=null}else throw Error(t(198));mo||(mo=!0,ur=Y)}}function Cr(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function Il(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function xu(s){if(Cr(s)!==s)throw Error(t(188))}function wu(s){var o=s.alternate;if(!o){if(o=Cr(s),o===null)throw Error(t(188));return o!==s?null:s}for(var c=s,f=o;;){var g=c.return;if(g===null)break;var x=g.alternate;if(x===null){if(f=g.return,f!==null){c=f;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===c)return xu(g),s;if(x===f)return xu(g),o;x=x.sibling}throw Error(t(188))}if(c.return!==f.return)c=g,f=x;else{for(var T=!1,M=g.child;M;){if(M===c){T=!0,c=g,f=x;break}if(M===f){T=!0,f=g,c=x;break}M=M.sibling}if(!T){for(M=x.child;M;){if(M===c){T=!0,c=x,f=g;break}if(M===f){T=!0,f=x,c=g;break}M=M.sibling}if(!T)throw Error(t(189))}}if(c.alternate!==f)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:o}function _u(s){return s=wu(s),s!==null?po(s):null}function po(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=po(s);if(o!==null)return o;s=s.sibling}return null}var Nl=e.unstable_scheduleCallback,la=e.unstable_cancelCallback,go=e.unstable_shouldYield,Ns=e.unstable_requestPaint,Et=e.unstable_now,Pf=e.unstable_getCurrentPriorityLevel,ca=e.unstable_ImmediatePriority,Cl=e.unstable_UserBlockingPriority,yo=e.unstable_NormalPriority,Al=e.unstable_LowPriority,ua=e.unstable_IdlePriority,vo=null,Wn=null;function Eu(s){if(Wn&&typeof Wn.onCommitFiberRoot=="function")try{Wn.onCommitFiberRoot(vo,s,void 0,(s.current.flags&128)===128)}catch{}}var Gn=Math.clz32?Math.clz32:xo,Kr=Math.log,dr=Math.LN2;function xo(s){return s>>>=0,s===0?32:31-(Kr(s)/dr|0)|0}var Qr=64,hi=4194304;function ut(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Cs(s,o){var c=s.pendingLanes;if(c===0)return 0;var f=0,g=s.suspendedLanes,x=s.pingedLanes,T=c&268435455;if(T!==0){var M=T&~g;M!==0?f=ut(M):(x&=T,x!==0&&(f=ut(x)))}else T=c&~g,T!==0?f=ut(T):x!==0&&(f=ut(x));if(f===0)return 0;if(o!==0&&o!==f&&(o&g)===0&&(g=f&-f,x=o&-o,g>=x||g===16&&(x&4194240)!==0))return o;if((f&4)!==0&&(f|=c&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=f;0<o;)c=31-Gn(o),g=1<<c,f|=s[c],o&=~g;return f}function wo(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _o(s,o){for(var c=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,x=s.pendingLanes;0<x;){var T=31-Gn(x),M=1<<T,B=g[T];B===-1?((M&c)===0||(M&f)!==0)&&(g[T]=wo(M,o)):B<=o&&(s.expiredLanes|=M),x&=~M}}function Rl(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function kl(){var s=Qr;return Qr<<=1,(Qr&4194240)===0&&(Qr=64),s}function Pl(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function Eo(s,o,c){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Gn(o),s[o]=c}function jf(s,o){var c=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-Gn(c),x=1<<g;o[g]=0,f[g]=-1,s[g]=-1,c&=~x}}function jl(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var f=31-Gn(c),g=1<<f;g&o|s[f]&o&&(s[f]|=o),c&=~g}}var it=0;function Yr(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Dl,da,Ml,Ol,Ll,Xr=!1,ha=[],Jr=null,Zr=null,sn=null,bo=new Map,As=new Map,Kn=[],bu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fi(s,o){switch(s){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":sn=null;break;case"pointerover":case"pointerout":bo.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":As.delete(o.pointerId)}}function Ar(s,o,c,f,g,x){return s===null||s.nativeEvent!==x?(s={blockedOn:o,domEventName:c,eventSystemFlags:f,nativeEvent:x,targetContainers:[g]},o!==null&&(o=Xl(o),o!==null&&da(o)),s):(s.eventSystemFlags|=f,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function Tu(s,o,c,f,g){switch(o){case"focusin":return Jr=Ar(Jr,s,o,c,f,g),!0;case"dragenter":return Zr=Ar(Zr,s,o,c,f,g),!0;case"mouseover":return sn=Ar(sn,s,o,c,f,g),!0;case"pointerover":var x=g.pointerId;return bo.set(x,Ar(bo.get(x)||null,s,o,c,f,g)),!0;case"gotpointercapture":return x=g.pointerId,As.set(x,Ar(As.get(x)||null,s,o,c,f,g)),!0}return!1}function fa(s){var o=No(s.target);if(o!==null){var c=Cr(o);if(c!==null){if(o=c.tag,o===13){if(o=Il(c),o!==null){s.blockedOn=o,Ll(s.priority,function(){Ml(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function pt(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=ma(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);lr=f,c.target.dispatchEvent(f),lr=null}else return o=Xl(c),o!==null&&da(o),s.blockedOn=c,!1;o.shift()}return!0}function Su(s,o,c){pt(s)&&c.delete(o)}function Df(){Xr=!1,Jr!==null&&pt(Jr)&&(Jr=null),Zr!==null&&pt(Zr)&&(Zr=null),sn!==null&&pt(sn)&&(sn=null),bo.forEach(Su),As.forEach(Su)}function mi(s,o){s.blockedOn===o&&(s.blockedOn=null,Xr||(Xr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Df)))}function pi(s){function o(g){return mi(g,s)}if(0<ha.length){mi(ha[0],s);for(var c=1;c<ha.length;c++){var f=ha[c];f.blockedOn===s&&(f.blockedOn=null)}}for(Jr!==null&&mi(Jr,s),Zr!==null&&mi(Zr,s),sn!==null&&mi(sn,s),bo.forEach(o),As.forEach(o),c=0;c<Kn.length;c++)f=Kn[c],f.blockedOn===s&&(f.blockedOn=null);for(;0<Kn.length&&(c=Kn[0],c.blockedOn===null);)fa(c),c.blockedOn===null&&Kn.shift()}var Rs=K.ReactCurrentBatchConfig,ks=!0;function es(s,o,c,f){var g=it,x=Rs.transition;Rs.transition=null;try{it=1,Vl(s,o,c,f)}finally{it=g,Rs.transition=x}}function Iu(s,o,c,f){var g=it,x=Rs.transition;Rs.transition=null;try{it=4,Vl(s,o,c,f)}finally{it=g,Rs.transition=x}}function Vl(s,o,c,f){if(ks){var g=ma(s,o,c,f);if(g===null)Hf(s,o,f,ts,c),fi(s,f);else if(Tu(g,s,o,c,f))f.stopPropagation();else if(fi(s,f),o&4&&-1<bu.indexOf(s)){for(;g!==null;){var x=Xl(g);if(x!==null&&Dl(x),x=ma(s,o,c,f),x===null&&Hf(s,o,f,ts,c),x===g)break;g=x}g!==null&&f.stopPropagation()}else Hf(s,o,f,null,c)}}var ts=null;function ma(s,o,c,f){if(ts=null,s=Tn(f),s=No(s),s!==null)if(o=Cr(s),o===null)s=null;else if(c=o.tag,c===13){if(s=Il(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return ts=s,null}function pa(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pf()){case ca:return 1;case Cl:return 4;case yo:case Al:return 16;case ua:return 536870912;default:return 16}default:return 16}}var Qn=null,ga=null,Ps=null;function Nu(){if(Ps)return Ps;var s,o=ga,c=o.length,f,g="value"in Qn?Qn.value:Qn.textContent,x=g.length;for(s=0;s<c&&o[s]===g[s];s++);var T=c-s;for(f=1;f<=T&&o[c-f]===g[x-f];f++);return Ps=g.slice(s,1<f?1-f:void 0)}function To(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function ns(){return!0}function Fl(){return!1}function mn(s){function o(c,f,g,x,T){this._reactName=c,this._targetInst=g,this.type=f,this.nativeEvent=x,this.target=T,this.currentTarget=null;for(var M in s)s.hasOwnProperty(M)&&(c=s[M],this[M]=c?c(x):x[M]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?ns:Fl,this.isPropagationStopped=Fl,this}return se(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ns)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ns)},persist:function(){},isPersistent:ns}),o}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},So=mn(rs),gi=se({},rs,{view:0,detail:0}),ya=mn(gi),va,xa,Yn,Io=se({},gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:He,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Yn&&(Yn&&s.type==="mousemove"?(va=s.screenX-Yn.screenX,xa=s.screenY-Yn.screenY):xa=va=0,Yn=s),va)},movementY:function(s){return"movementY"in s?s.movementY:xa}}),Ul=mn(Io),Cu=se({},Io,{dataTransfer:0}),Au=mn(Cu),wa=se({},gi,{relatedTarget:0}),on=mn(wa),Ru=se({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),ku=mn(Ru),yi=se({},rs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),d=mn(yi),w=se({},rs,{data:0}),E=mn(w),k={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pe(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=X[s])?!!o[s]:!1}function He(){return pe}var Ot=se({},gi,{key:function(s){if(s.key){var o=k[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=To(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?W[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:He,charCode:function(s){return s.type==="keypress"?To(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?To(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ft=mn(Ot),zt=se({},Io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xn=mn(zt),js=se({},gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:He}),ss=mn(js),is=se({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),_a=mn(is),zl=se({},Io,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),TI=mn(zl),SI=[9,13,27,32],Mf=h&&"CompositionEvent"in window,Bl=null;h&&"documentMode"in document&&(Bl=document.documentMode);var II=h&&"TextEvent"in window&&!Bl,av=h&&(!Mf||Bl&&8<Bl&&11>=Bl),lv=" ",cv=!1;function uv(s,o){switch(s){case"keyup":return SI.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ea=!1;function NI(s,o){switch(s){case"compositionend":return dv(o);case"keypress":return o.which!==32?null:(cv=!0,lv);case"textInput":return s=o.data,s===lv&&cv?null:s;default:return null}}function CI(s,o){if(Ea)return s==="compositionend"||!Mf&&uv(s,o)?(s=Nu(),Ps=ga=Qn=null,Ea=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return av&&o.locale!=="ko"?null:o.data;default:return null}}var AI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hv(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!AI[s.type]:o==="textarea"}function fv(s,o,c,f){Fe(f),o=Ou(o,"onChange"),0<o.length&&(c=new So("onChange","change",null,c,f),s.push({event:c,listeners:o}))}var $l=null,ql=null;function RI(s){kv(s,0)}function Pu(s){var o=Na(s);if(Se(o))return s}function kI(s,o){if(s==="change")return o}var mv=!1;if(h){var Of;if(h){var Lf="oninput"in document;if(!Lf){var pv=document.createElement("div");pv.setAttribute("oninput","return;"),Lf=typeof pv.oninput=="function"}Of=Lf}else Of=!1;mv=Of&&(!document.documentMode||9<document.documentMode)}function gv(){$l&&($l.detachEvent("onpropertychange",yv),ql=$l=null)}function yv(s){if(s.propertyName==="value"&&Pu(ql)){var o=[];fv(o,ql,s,Tn(s)),Rt(RI,o)}}function PI(s,o,c){s==="focusin"?(gv(),$l=o,ql=c,$l.attachEvent("onpropertychange",yv)):s==="focusout"&&gv()}function jI(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Pu(ql)}function DI(s,o){if(s==="click")return Pu(o)}function MI(s,o){if(s==="input"||s==="change")return Pu(o)}function OI(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Rr=typeof Object.is=="function"?Object.is:OI;function Hl(s,o){if(Rr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),f=Object.keys(o);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var g=c[f];if(!m.call(o,g)||!Rr(s[g],o[g]))return!1}return!0}function vv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function xv(s,o){var c=vv(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=o&&f>=o)return{node:c,offset:o-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=vv(c)}}function wv(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?wv(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function _v(){for(var s=window,o=dt();o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=dt(s.document)}return o}function Vf(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function LI(s){var o=_v(),c=s.focusedElem,f=s.selectionRange;if(o!==c&&c&&c.ownerDocument&&wv(c.ownerDocument.documentElement,c)){if(f!==null&&Vf(c)){if(o=f.start,s=f.end,s===void 0&&(s=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(s,c.value.length);else if(s=(o=c.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,x=Math.min(f.start,g);f=f.end===void 0?x:Math.min(f.end,g),!s.extend&&x>f&&(g=f,f=x,x=g),g=xv(c,x);var T=xv(c,f);g&&T&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),s.removeAllRanges(),x>f?(s.addRange(o),s.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),s.addRange(o)))}}for(o=[],s=c;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)s=o[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var VI=h&&"documentMode"in document&&11>=document.documentMode,ba=null,Ff=null,Wl=null,Uf=!1;function Ev(s,o,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Uf||ba==null||ba!==dt(f)||(f=ba,"selectionStart"in f&&Vf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Wl&&Hl(Wl,f)||(Wl=f,f=Ou(Ff,"onSelect"),0<f.length&&(o=new So("onSelect","select",null,o,c),s.push({event:o,listeners:f}),o.target=ba)))}function ju(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var Ta={animationend:ju("Animation","AnimationEnd"),animationiteration:ju("Animation","AnimationIteration"),animationstart:ju("Animation","AnimationStart"),transitionend:ju("Transition","TransitionEnd")},zf={},bv={};h&&(bv=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function Du(s){if(zf[s])return zf[s];if(!Ta[s])return s;var o=Ta[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in bv)return zf[s]=o[c];return s}var Tv=Du("animationend"),Sv=Du("animationiteration"),Iv=Du("animationstart"),Nv=Du("transitionend"),Cv=new Map,Av="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vi(s,o){Cv.set(s,o),a(o,[s])}for(var Bf=0;Bf<Av.length;Bf++){var $f=Av[Bf],FI=$f.toLowerCase(),UI=$f[0].toUpperCase()+$f.slice(1);vi(FI,"on"+UI)}vi(Tv,"onAnimationEnd"),vi(Sv,"onAnimationIteration"),vi(Iv,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(Nv,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gl));function Rv(s,o,c){var f=s.type||"unknown-event";s.currentTarget=c,Sl(f,o,void 0,s),s.currentTarget=null}function kv(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],g=f.event;f=f.listeners;e:{var x=void 0;if(o)for(var T=f.length-1;0<=T;T--){var M=f[T],B=M.instance,Y=M.currentTarget;if(M=M.listener,B!==x&&g.isPropagationStopped())break e;Rv(g,M,Y),x=B}else for(T=0;T<f.length;T++){if(M=f[T],B=M.instance,Y=M.currentTarget,M=M.listener,B!==x&&g.isPropagationStopped())break e;Rv(g,M,Y),x=B}}}if(mo)throw s=ur,mo=!1,ur=null,s}function bt(s,o){var c=o[Xf];c===void 0&&(c=o[Xf]=new Set);var f=s+"__bubble";c.has(f)||(Pv(o,s,2,!1),c.add(f))}function qf(s,o,c){var f=0;o&&(f|=4),Pv(c,s,f,o)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function Kl(s){if(!s[Mu]){s[Mu]=!0,r.forEach(function(c){c!=="selectionchange"&&(zI.has(c)||qf(c,!1,s),qf(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Mu]||(o[Mu]=!0,qf("selectionchange",!1,o))}}function Pv(s,o,c,f){switch(pa(o)){case 1:var g=es;break;case 4:g=Iu;break;default:g=Vl}c=g.bind(null,o,c,s),g=void 0,!Hn||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(o,c,{capture:!0,passive:g}):s.addEventListener(o,c,!0):g!==void 0?s.addEventListener(o,c,{passive:g}):s.addEventListener(o,c,!1)}function Hf(s,o,c,f,g){var x=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var T=f.tag;if(T===3||T===4){var M=f.stateNode.containerInfo;if(M===g||M.nodeType===8&&M.parentNode===g)break;if(T===4)for(T=f.return;T!==null;){var B=T.tag;if((B===3||B===4)&&(B=T.stateNode.containerInfo,B===g||B.nodeType===8&&B.parentNode===g))return;T=T.return}for(;M!==null;){if(T=No(M),T===null)return;if(B=T.tag,B===5||B===6){f=x=T;continue e}M=M.parentNode}}f=f.return}Rt(function(){var Y=x,ae=Tn(c),le=[];e:{var oe=Cv.get(s);if(oe!==void 0){var _e=So,Ie=s;switch(s){case"keypress":if(To(c)===0)break e;case"keydown":case"keyup":_e=ft;break;case"focusin":Ie="focus",_e=on;break;case"focusout":Ie="blur",_e=on;break;case"beforeblur":case"afterblur":_e=on;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=Ul;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=Au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=ss;break;case Tv:case Sv:case Iv:_e=ku;break;case Nv:_e=_a;break;case"scroll":_e=ya;break;case"wheel":_e=TI;break;case"copy":case"cut":case"paste":_e=d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=Xn}var Re=(o&4)!==0,Lt=!Re&&s==="scroll",H=Re?oe!==null?oe+"Capture":null:oe;Re=[];for(var $=Y,G;$!==null;){G=$;var he=G.stateNode;if(G.tag===5&&he!==null&&(G=he,H!==null&&(he=Ft($,H),he!=null&&Re.push(Ql($,he,G)))),Lt)break;$=$.return}0<Re.length&&(oe=new _e(oe,Ie,null,c,ae),le.push({event:oe,listeners:Re}))}}if((o&7)===0){e:{if(oe=s==="mouseover"||s==="pointerover",_e=s==="mouseout"||s==="pointerout",oe&&c!==lr&&(Ie=c.relatedTarget||c.fromElement)&&(No(Ie)||Ie[Ds]))break e;if((_e||oe)&&(oe=ae.window===ae?ae:(oe=ae.ownerDocument)?oe.defaultView||oe.parentWindow:window,_e?(Ie=c.relatedTarget||c.toElement,_e=Y,Ie=Ie?No(Ie):null,Ie!==null&&(Lt=Cr(Ie),Ie!==Lt||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(_e=null,Ie=Y),_e!==Ie)){if(Re=Ul,he="onMouseLeave",H="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(Re=Xn,he="onPointerLeave",H="onPointerEnter",$="pointer"),Lt=_e==null?oe:Na(_e),G=Ie==null?oe:Na(Ie),oe=new Re(he,$+"leave",_e,c,ae),oe.target=Lt,oe.relatedTarget=G,he=null,No(ae)===Y&&(Re=new Re(H,$+"enter",Ie,c,ae),Re.target=G,Re.relatedTarget=Lt,he=Re),Lt=he,_e&&Ie)t:{for(Re=_e,H=Ie,$=0,G=Re;G;G=Sa(G))$++;for(G=0,he=H;he;he=Sa(he))G++;for(;0<$-G;)Re=Sa(Re),$--;for(;0<G-$;)H=Sa(H),G--;for(;$--;){if(Re===H||H!==null&&Re===H.alternate)break t;Re=Sa(Re),H=Sa(H)}Re=null}else Re=null;_e!==null&&jv(le,oe,_e,Re,!1),Ie!==null&&Lt!==null&&jv(le,Lt,Ie,Re,!0)}}e:{if(oe=Y?Na(Y):window,_e=oe.nodeName&&oe.nodeName.toLowerCase(),_e==="select"||_e==="input"&&oe.type==="file")var ke=kI;else if(hv(oe))if(mv)ke=MI;else{ke=jI;var Me=PI}else(_e=oe.nodeName)&&_e.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(ke=DI);if(ke&&(ke=ke(s,Y))){fv(le,ke,c,ae);break e}Me&&Me(s,oe,Y),s==="focusout"&&(Me=oe._wrapperState)&&Me.controlled&&oe.type==="number"&&st(oe,"number",oe.value)}switch(Me=Y?Na(Y):window,s){case"focusin":(hv(Me)||Me.contentEditable==="true")&&(ba=Me,Ff=Y,Wl=null);break;case"focusout":Wl=Ff=ba=null;break;case"mousedown":Uf=!0;break;case"contextmenu":case"mouseup":case"dragend":Uf=!1,Ev(le,c,ae);break;case"selectionchange":if(VI)break;case"keydown":case"keyup":Ev(le,c,ae)}var Oe;if(Mf)e:{switch(s){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Ea?uv(s,c)&&(Be="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Be="onCompositionStart");Be&&(av&&c.locale!=="ko"&&(Ea||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Ea&&(Oe=Nu()):(Qn=ae,ga="value"in Qn?Qn.value:Qn.textContent,Ea=!0)),Me=Ou(Y,Be),0<Me.length&&(Be=new E(Be,s,null,c,ae),le.push({event:Be,listeners:Me}),Oe?Be.data=Oe:(Oe=dv(c),Oe!==null&&(Be.data=Oe)))),(Oe=II?NI(s,c):CI(s,c))&&(Y=Ou(Y,"onBeforeInput"),0<Y.length&&(ae=new E("onBeforeInput","beforeinput",null,c,ae),le.push({event:ae,listeners:Y}),ae.data=Oe))}kv(le,o)})}function Ql(s,o,c){return{instance:s,listener:o,currentTarget:c}}function Ou(s,o){for(var c=o+"Capture",f=[];s!==null;){var g=s,x=g.stateNode;g.tag===5&&x!==null&&(g=x,x=Ft(s,c),x!=null&&f.unshift(Ql(s,x,g)),x=Ft(s,o),x!=null&&f.push(Ql(s,x,g))),s=s.return}return f}function Sa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function jv(s,o,c,f,g){for(var x=o._reactName,T=[];c!==null&&c!==f;){var M=c,B=M.alternate,Y=M.stateNode;if(B!==null&&B===f)break;M.tag===5&&Y!==null&&(M=Y,g?(B=Ft(c,x),B!=null&&T.unshift(Ql(c,B,M))):g||(B=Ft(c,x),B!=null&&T.push(Ql(c,B,M)))),c=c.return}T.length!==0&&s.push({event:o,listeners:T})}var BI=/\r\n?/g,$I=/\u0000|\uFFFD/g;function Dv(s){return(typeof s=="string"?s:""+s).replace(BI,`
`).replace($I,"")}function Lu(s,o,c){if(o=Dv(o),Dv(s)!==o&&c)throw Error(t(425))}function Vu(){}var Wf=null,Gf=null;function Kf(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Qf=typeof setTimeout=="function"?setTimeout:void 0,qI=typeof clearTimeout=="function"?clearTimeout:void 0,Mv=typeof Promise=="function"?Promise:void 0,HI=typeof queueMicrotask=="function"?queueMicrotask:typeof Mv<"u"?function(s){return Mv.resolve(null).then(s).catch(WI)}:Qf;function WI(s){setTimeout(function(){throw s})}function Yf(s,o){var c=o,f=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(f===0){s.removeChild(g),pi(o);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=g}while(c);pi(o)}function xi(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Ov(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}var Ia=Math.random().toString(36).slice(2),os="__reactFiber$"+Ia,Yl="__reactProps$"+Ia,Ds="__reactContainer$"+Ia,Xf="__reactEvents$"+Ia,GI="__reactListeners$"+Ia,KI="__reactHandles$"+Ia;function No(s){var o=s[os];if(o)return o;for(var c=s.parentNode;c;){if(o=c[Ds]||c[os]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=Ov(s);s!==null;){if(c=s[os])return c;s=Ov(s)}return o}s=c,c=s.parentNode}return null}function Xl(s){return s=s[os]||s[Ds],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Na(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Fu(s){return s[Yl]||null}var Jf=[],Ca=-1;function wi(s){return{current:s}}function Tt(s){0>Ca||(s.current=Jf[Ca],Jf[Ca]=null,Ca--)}function yt(s,o){Ca++,Jf[Ca]=s.current,s.current=o}var _i={},pn=wi(_i),kn=wi(!1),Co=_i;function Aa(s,o){var c=s.type.contextTypes;if(!c)return _i;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var g={},x;for(x in c)g[x]=o[x];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=g),g}function Pn(s){return s=s.childContextTypes,s!=null}function Uu(){Tt(kn),Tt(pn)}function Lv(s,o,c){if(pn.current!==_i)throw Error(t(168));yt(pn,o),yt(kn,c)}function Vv(s,o,c){var f=s.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var g in f)if(!(g in o))throw Error(t(108,ee(s)||"Unknown",g));return se({},c,f)}function zu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||_i,Co=pn.current,yt(pn,s),yt(kn,kn.current),!0}function Fv(s,o,c){var f=s.stateNode;if(!f)throw Error(t(169));c?(s=Vv(s,o,Co),f.__reactInternalMemoizedMergedChildContext=s,Tt(kn),Tt(pn),yt(pn,s)):Tt(kn),yt(kn,c)}var Ms=null,Bu=!1,Zf=!1;function Uv(s){Ms===null?Ms=[s]:Ms.push(s)}function QI(s){Bu=!0,Uv(s)}function Ei(){if(!Zf&&Ms!==null){Zf=!0;var s=0,o=it;try{var c=Ms;for(it=1;s<c.length;s++){var f=c[s];do f=f(!0);while(f!==null)}Ms=null,Bu=!1}catch(g){throw Ms!==null&&(Ms=Ms.slice(s+1)),Nl(ca,Ei),g}finally{it=o,Zf=!1}}return null}var Ra=[],ka=0,$u=null,qu=0,hr=[],fr=0,Ao=null,Os=1,Ls="";function Ro(s,o){Ra[ka++]=qu,Ra[ka++]=$u,$u=s,qu=o}function zv(s,o,c){hr[fr++]=Os,hr[fr++]=Ls,hr[fr++]=Ao,Ao=s;var f=Os;s=Ls;var g=32-Gn(f)-1;f&=~(1<<g),c+=1;var x=32-Gn(o)+g;if(30<x){var T=g-g%5;x=(f&(1<<T)-1).toString(32),f>>=T,g-=T,Os=1<<32-Gn(o)+g|c<<g|f,Ls=x+s}else Os=1<<x|c<<g|f,Ls=s}function em(s){s.return!==null&&(Ro(s,1),zv(s,1,0))}function tm(s){for(;s===$u;)$u=Ra[--ka],Ra[ka]=null,qu=Ra[--ka],Ra[ka]=null;for(;s===Ao;)Ao=hr[--fr],hr[fr]=null,Ls=hr[--fr],hr[fr]=null,Os=hr[--fr],hr[fr]=null}var Jn=null,Zn=null,St=!1,kr=null;function Bv(s,o){var c=yr(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=s,o=s.deletions,o===null?(s.deletions=[c],s.flags|=16):o.push(c)}function $v(s,o){switch(s.tag){case 5:var c=s.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Jn=s,Zn=xi(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Jn=s,Zn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=Ao!==null?{id:Os,overflow:Ls}:null,s.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=yr(18,null,null,0),c.stateNode=o,c.return=s,s.child=c,Jn=s,Zn=null,!0):!1;default:return!1}}function nm(s){return(s.mode&1)!==0&&(s.flags&128)===0}function rm(s){if(St){var o=Zn;if(o){var c=o;if(!$v(s,o)){if(nm(s))throw Error(t(418));o=xi(c.nextSibling);var f=Jn;o&&$v(s,o)?Bv(f,c):(s.flags=s.flags&-4097|2,St=!1,Jn=s)}}else{if(nm(s))throw Error(t(418));s.flags=s.flags&-4097|2,St=!1,Jn=s}}}function qv(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Jn=s}function Hu(s){if(s!==Jn)return!1;if(!St)return qv(s),St=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Kf(s.type,s.memoizedProps)),o&&(o=Zn)){if(nm(s))throw Hv(),Error(t(418));for(;o;)Bv(s,o),o=xi(o.nextSibling)}if(qv(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(o===0){Zn=xi(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}s=s.nextSibling}Zn=null}}else Zn=Jn?xi(s.stateNode.nextSibling):null;return!0}function Hv(){for(var s=Zn;s;)s=xi(s.nextSibling)}function Pa(){Zn=Jn=null,St=!1}function sm(s){kr===null?kr=[s]:kr.push(s)}var YI=K.ReactCurrentBatchConfig;function Jl(s,o,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var f=c.stateNode}if(!f)throw Error(t(147,s));var g=f,x=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===x?o.ref:(o=function(T){var M=g.refs;T===null?delete M[x]:M[x]=T},o._stringRef=x,o)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function Wu(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Wv(s){var o=s._init;return o(s._payload)}function Gv(s){function o(H,$){if(s){var G=H.deletions;G===null?(H.deletions=[$],H.flags|=16):G.push($)}}function c(H,$){if(!s)return null;for(;$!==null;)o(H,$),$=$.sibling;return null}function f(H,$){for(H=new Map;$!==null;)$.key!==null?H.set($.key,$):H.set($.index,$),$=$.sibling;return H}function g(H,$){return H=Ri(H,$),H.index=0,H.sibling=null,H}function x(H,$,G){return H.index=G,s?(G=H.alternate,G!==null?(G=G.index,G<$?(H.flags|=2,$):G):(H.flags|=2,$)):(H.flags|=1048576,$)}function T(H){return s&&H.alternate===null&&(H.flags|=2),H}function M(H,$,G,he){return $===null||$.tag!==6?($=Qm(G,H.mode,he),$.return=H,$):($=g($,G),$.return=H,$)}function B(H,$,G,he){var ke=G.type;return ke===C?ae(H,$,G.props.children,he,G.key):$!==null&&($.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===ie&&Wv(ke)===$.type)?(he=g($,G.props),he.ref=Jl(H,$,G),he.return=H,he):(he=gd(G.type,G.key,G.props,null,H.mode,he),he.ref=Jl(H,$,G),he.return=H,he)}function Y(H,$,G,he){return $===null||$.tag!==4||$.stateNode.containerInfo!==G.containerInfo||$.stateNode.implementation!==G.implementation?($=Ym(G,H.mode,he),$.return=H,$):($=g($,G.children||[]),$.return=H,$)}function ae(H,$,G,he,ke){return $===null||$.tag!==7?($=Vo(G,H.mode,he,ke),$.return=H,$):($=g($,G),$.return=H,$)}function le(H,$,G){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Qm(""+$,H.mode,G),$.return=H,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case J:return G=gd($.type,$.key,$.props,null,H.mode,G),G.ref=Jl(H,null,$),G.return=H,G;case te:return $=Ym($,H.mode,G),$.return=H,$;case ie:var he=$._init;return le(H,he($._payload),G)}if(It($)||Z($))return $=Vo($,H.mode,G,null),$.return=H,$;Wu(H,$)}return null}function oe(H,$,G,he){var ke=$!==null?$.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return ke!==null?null:M(H,$,""+G,he);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case J:return G.key===ke?B(H,$,G,he):null;case te:return G.key===ke?Y(H,$,G,he):null;case ie:return ke=G._init,oe(H,$,ke(G._payload),he)}if(It(G)||Z(G))return ke!==null?null:ae(H,$,G,he,null);Wu(H,G)}return null}function _e(H,$,G,he,ke){if(typeof he=="string"&&he!==""||typeof he=="number")return H=H.get(G)||null,M($,H,""+he,ke);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case J:return H=H.get(he.key===null?G:he.key)||null,B($,H,he,ke);case te:return H=H.get(he.key===null?G:he.key)||null,Y($,H,he,ke);case ie:var Me=he._init;return _e(H,$,G,Me(he._payload),ke)}if(It(he)||Z(he))return H=H.get(G)||null,ae($,H,he,ke,null);Wu($,he)}return null}function Ie(H,$,G,he){for(var ke=null,Me=null,Oe=$,Be=$=0,nn=null;Oe!==null&&Be<G.length;Be++){Oe.index>Be?(nn=Oe,Oe=null):nn=Oe.sibling;var ct=oe(H,Oe,G[Be],he);if(ct===null){Oe===null&&(Oe=nn);break}s&&Oe&&ct.alternate===null&&o(H,Oe),$=x(ct,$,Be),Me===null?ke=ct:Me.sibling=ct,Me=ct,Oe=nn}if(Be===G.length)return c(H,Oe),St&&Ro(H,Be),ke;if(Oe===null){for(;Be<G.length;Be++)Oe=le(H,G[Be],he),Oe!==null&&($=x(Oe,$,Be),Me===null?ke=Oe:Me.sibling=Oe,Me=Oe);return St&&Ro(H,Be),ke}for(Oe=f(H,Oe);Be<G.length;Be++)nn=_e(Oe,H,Be,G[Be],he),nn!==null&&(s&&nn.alternate!==null&&Oe.delete(nn.key===null?Be:nn.key),$=x(nn,$,Be),Me===null?ke=nn:Me.sibling=nn,Me=nn);return s&&Oe.forEach(function(ki){return o(H,ki)}),St&&Ro(H,Be),ke}function Re(H,$,G,he){var ke=Z(G);if(typeof ke!="function")throw Error(t(150));if(G=ke.call(G),G==null)throw Error(t(151));for(var Me=ke=null,Oe=$,Be=$=0,nn=null,ct=G.next();Oe!==null&&!ct.done;Be++,ct=G.next()){Oe.index>Be?(nn=Oe,Oe=null):nn=Oe.sibling;var ki=oe(H,Oe,ct.value,he);if(ki===null){Oe===null&&(Oe=nn);break}s&&Oe&&ki.alternate===null&&o(H,Oe),$=x(ki,$,Be),Me===null?ke=ki:Me.sibling=ki,Me=ki,Oe=nn}if(ct.done)return c(H,Oe),St&&Ro(H,Be),ke;if(Oe===null){for(;!ct.done;Be++,ct=G.next())ct=le(H,ct.value,he),ct!==null&&($=x(ct,$,Be),Me===null?ke=ct:Me.sibling=ct,Me=ct);return St&&Ro(H,Be),ke}for(Oe=f(H,Oe);!ct.done;Be++,ct=G.next())ct=_e(Oe,H,Be,ct.value,he),ct!==null&&(s&&ct.alternate!==null&&Oe.delete(ct.key===null?Be:ct.key),$=x(ct,$,Be),Me===null?ke=ct:Me.sibling=ct,Me=ct);return s&&Oe.forEach(function(AN){return o(H,AN)}),St&&Ro(H,Be),ke}function Lt(H,$,G,he){if(typeof G=="object"&&G!==null&&G.type===C&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case J:e:{for(var ke=G.key,Me=$;Me!==null;){if(Me.key===ke){if(ke=G.type,ke===C){if(Me.tag===7){c(H,Me.sibling),$=g(Me,G.props.children),$.return=H,H=$;break e}}else if(Me.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===ie&&Wv(ke)===Me.type){c(H,Me.sibling),$=g(Me,G.props),$.ref=Jl(H,Me,G),$.return=H,H=$;break e}c(H,Me);break}else o(H,Me);Me=Me.sibling}G.type===C?($=Vo(G.props.children,H.mode,he,G.key),$.return=H,H=$):(he=gd(G.type,G.key,G.props,null,H.mode,he),he.ref=Jl(H,$,G),he.return=H,H=he)}return T(H);case te:e:{for(Me=G.key;$!==null;){if($.key===Me)if($.tag===4&&$.stateNode.containerInfo===G.containerInfo&&$.stateNode.implementation===G.implementation){c(H,$.sibling),$=g($,G.children||[]),$.return=H,H=$;break e}else{c(H,$);break}else o(H,$);$=$.sibling}$=Ym(G,H.mode,he),$.return=H,H=$}return T(H);case ie:return Me=G._init,Lt(H,$,Me(G._payload),he)}if(It(G))return Ie(H,$,G,he);if(Z(G))return Re(H,$,G,he);Wu(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,$!==null&&$.tag===6?(c(H,$.sibling),$=g($,G),$.return=H,H=$):(c(H,$),$=Qm(G,H.mode,he),$.return=H,H=$),T(H)):c(H,$)}return Lt}var ja=Gv(!0),Kv=Gv(!1),Gu=wi(null),Ku=null,Da=null,im=null;function om(){im=Da=Ku=null}function am(s){var o=Gu.current;Tt(Gu),s._currentValue=o}function lm(s,o,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),s===c)break;s=s.return}}function Ma(s,o){Ku=s,im=Da=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(jn=!0),s.firstContext=null)}function mr(s){var o=s._currentValue;if(im!==s)if(s={context:s,memoizedValue:o,next:null},Da===null){if(Ku===null)throw Error(t(308));Da=s,Ku.dependencies={lanes:0,firstContext:s}}else Da=Da.next=s;return o}var ko=null;function cm(s){ko===null?ko=[s]:ko.push(s)}function Qv(s,o,c,f){var g=o.interleaved;return g===null?(c.next=c,cm(o)):(c.next=g.next,g.next=c),o.interleaved=c,Vs(s,f)}function Vs(s,o){s.lanes|=o;var c=s.alternate;for(c!==null&&(c.lanes|=o),c=s,s=s.return;s!==null;)s.childLanes|=o,c=s.alternate,c!==null&&(c.childLanes|=o),c=s,s=s.return;return c.tag===3?c.stateNode:null}var bi=!1;function um(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yv(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Fs(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Ti(s,o,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(at&2)!==0){var g=f.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),f.pending=o,Vs(s,c)}return g=f.interleaved,g===null?(o.next=o,cm(f)):(o.next=g.next,g.next=o),f.interleaved=o,Vs(s,c)}function Qu(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var f=o.lanes;f&=s.pendingLanes,c|=f,o.lanes=c,jl(s,c)}}function Xv(s,o){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var g=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var T={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};x===null?g=x=T:x=x.next=T,c=c.next}while(c!==null);x===null?g=x=o:x=x.next=o}else g=x=o;c={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:f.shared,effects:f.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}function Yu(s,o,c,f){var g=s.updateQueue;bi=!1;var x=g.firstBaseUpdate,T=g.lastBaseUpdate,M=g.shared.pending;if(M!==null){g.shared.pending=null;var B=M,Y=B.next;B.next=null,T===null?x=Y:T.next=Y,T=B;var ae=s.alternate;ae!==null&&(ae=ae.updateQueue,M=ae.lastBaseUpdate,M!==T&&(M===null?ae.firstBaseUpdate=Y:M.next=Y,ae.lastBaseUpdate=B))}if(x!==null){var le=g.baseState;T=0,ae=Y=B=null,M=x;do{var oe=M.lane,_e=M.eventTime;if((f&oe)===oe){ae!==null&&(ae=ae.next={eventTime:_e,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var Ie=s,Re=M;switch(oe=o,_e=c,Re.tag){case 1:if(Ie=Re.payload,typeof Ie=="function"){le=Ie.call(_e,le,oe);break e}le=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Re.payload,oe=typeof Ie=="function"?Ie.call(_e,le,oe):Ie,oe==null)break e;le=se({},le,oe);break e;case 2:bi=!0}}M.callback!==null&&M.lane!==0&&(s.flags|=64,oe=g.effects,oe===null?g.effects=[M]:oe.push(M))}else _e={eventTime:_e,lane:oe,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ae===null?(Y=ae=_e,B=le):ae=ae.next=_e,T|=oe;if(M=M.next,M===null){if(M=g.shared.pending,M===null)break;oe=M,M=oe.next,oe.next=null,g.lastBaseUpdate=oe,g.shared.pending=null}}while(!0);if(ae===null&&(B=le),g.baseState=B,g.firstBaseUpdate=Y,g.lastBaseUpdate=ae,o=g.shared.interleaved,o!==null){g=o;do T|=g.lane,g=g.next;while(g!==o)}else x===null&&(g.shared.lanes=0);Do|=T,s.lanes=T,s.memoizedState=le}}function Jv(s,o,c){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var f=s[o],g=f.callback;if(g!==null){if(f.callback=null,f=c,typeof g!="function")throw Error(t(191,g));g.call(f)}}}var Zl={},as=wi(Zl),ec=wi(Zl),tc=wi(Zl);function Po(s){if(s===Zl)throw Error(t(174));return s}function dm(s,o){switch(yt(tc,o),yt(ec,s),yt(as,Zl),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:oi(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=oi(o,s)}Tt(as),yt(as,o)}function Oa(){Tt(as),Tt(ec),Tt(tc)}function Zv(s){Po(tc.current);var o=Po(as.current),c=oi(o,s.type);o!==c&&(yt(ec,s),yt(as,c))}function hm(s){ec.current===s&&(Tt(as),Tt(ec))}var Nt=wi(0);function Xu(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var fm=[];function mm(){for(var s=0;s<fm.length;s++)fm[s]._workInProgressVersionPrimary=null;fm.length=0}var Ju=K.ReactCurrentDispatcher,pm=K.ReactCurrentBatchConfig,jo=0,Ct=null,Kt=null,en=null,Zu=!1,nc=!1,rc=0,XI=0;function gn(){throw Error(t(321))}function gm(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!Rr(s[c],o[c]))return!1;return!0}function ym(s,o,c,f,g,x){if(jo=x,Ct=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ju.current=s===null||s.memoizedState===null?tN:nN,s=c(f,g),nc){x=0;do{if(nc=!1,rc=0,25<=x)throw Error(t(301));x+=1,en=Kt=null,o.updateQueue=null,Ju.current=rN,s=c(f,g)}while(nc)}if(Ju.current=nd,o=Kt!==null&&Kt.next!==null,jo=0,en=Kt=Ct=null,Zu=!1,o)throw Error(t(300));return s}function vm(){var s=rc!==0;return rc=0,s}function ls(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Ct.memoizedState=en=s:en=en.next=s,en}function pr(){if(Kt===null){var s=Ct.alternate;s=s!==null?s.memoizedState:null}else s=Kt.next;var o=en===null?Ct.memoizedState:en.next;if(o!==null)en=o,Kt=s;else{if(s===null)throw Error(t(310));Kt=s,s={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},en===null?Ct.memoizedState=en=s:en=en.next=s}return en}function sc(s,o){return typeof o=="function"?o(s):o}function xm(s){var o=pr(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var f=Kt,g=f.baseQueue,x=c.pending;if(x!==null){if(g!==null){var T=g.next;g.next=x.next,x.next=T}f.baseQueue=g=x,c.pending=null}if(g!==null){x=g.next,f=f.baseState;var M=T=null,B=null,Y=x;do{var ae=Y.lane;if((jo&ae)===ae)B!==null&&(B=B.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),f=Y.hasEagerState?Y.eagerState:s(f,Y.action);else{var le={lane:ae,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};B===null?(M=B=le,T=f):B=B.next=le,Ct.lanes|=ae,Do|=ae}Y=Y.next}while(Y!==null&&Y!==x);B===null?T=f:B.next=M,Rr(f,o.memoizedState)||(jn=!0),o.memoizedState=f,o.baseState=T,o.baseQueue=B,c.lastRenderedState=f}if(s=c.interleaved,s!==null){g=s;do x=g.lane,Ct.lanes|=x,Do|=x,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function wm(s){var o=pr(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var f=c.dispatch,g=c.pending,x=o.memoizedState;if(g!==null){c.pending=null;var T=g=g.next;do x=s(x,T.action),T=T.next;while(T!==g);Rr(x,o.memoizedState)||(jn=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),c.lastRenderedState=x}return[x,f]}function ex(){}function tx(s,o){var c=Ct,f=pr(),g=o(),x=!Rr(f.memoizedState,g);if(x&&(f.memoizedState=g,jn=!0),f=f.queue,_m(sx.bind(null,c,f,s),[s]),f.getSnapshot!==o||x||en!==null&&en.memoizedState.tag&1){if(c.flags|=2048,ic(9,rx.bind(null,c,f,g,o),void 0,null),tn===null)throw Error(t(349));(jo&30)!==0||nx(c,o,g)}return g}function nx(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=Ct.updateQueue,o===null?(o={lastEffect:null,stores:null},Ct.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function rx(s,o,c,f){o.value=c,o.getSnapshot=f,ix(o)&&ox(s)}function sx(s,o,c){return c(function(){ix(o)&&ox(s)})}function ix(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!Rr(s,c)}catch{return!0}}function ox(s){var o=Vs(s,1);o!==null&&Mr(o,s,1,-1)}function ax(s){var o=ls();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sc,lastRenderedState:s},o.queue=s,s=s.dispatch=eN.bind(null,Ct,s),[o.memoizedState,s]}function ic(s,o,c,f){return s={tag:s,create:o,destroy:c,deps:f,next:null},o=Ct.updateQueue,o===null?(o={lastEffect:null,stores:null},Ct.updateQueue=o,o.lastEffect=s.next=s):(c=o.lastEffect,c===null?o.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,o.lastEffect=s)),s}function lx(){return pr().memoizedState}function ed(s,o,c,f){var g=ls();Ct.flags|=s,g.memoizedState=ic(1|o,c,void 0,f===void 0?null:f)}function td(s,o,c,f){var g=pr();f=f===void 0?null:f;var x=void 0;if(Kt!==null){var T=Kt.memoizedState;if(x=T.destroy,f!==null&&gm(f,T.deps)){g.memoizedState=ic(o,c,x,f);return}}Ct.flags|=s,g.memoizedState=ic(1|o,c,x,f)}function cx(s,o){return ed(8390656,8,s,o)}function _m(s,o){return td(2048,8,s,o)}function ux(s,o){return td(4,2,s,o)}function dx(s,o){return td(4,4,s,o)}function hx(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function fx(s,o,c){return c=c!=null?c.concat([s]):null,td(4,4,hx.bind(null,o,s),c)}function Em(){}function mx(s,o){var c=pr();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&gm(o,f[1])?f[0]:(c.memoizedState=[s,o],s)}function px(s,o){var c=pr();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&gm(o,f[1])?f[0]:(s=s(),c.memoizedState=[s,o],s)}function gx(s,o,c){return(jo&21)===0?(s.baseState&&(s.baseState=!1,jn=!0),s.memoizedState=c):(Rr(c,o)||(c=kl(),Ct.lanes|=c,Do|=c,s.baseState=!0),o)}function JI(s,o){var c=it;it=c!==0&&4>c?c:4,s(!0);var f=pm.transition;pm.transition={};try{s(!1),o()}finally{it=c,pm.transition=f}}function yx(){return pr().memoizedState}function ZI(s,o,c){var f=Ci(s);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},vx(s))xx(o,c);else if(c=Qv(s,o,c,f),c!==null){var g=Nn();Mr(c,s,f,g),wx(c,o,f)}}function eN(s,o,c){var f=Ci(s),g={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(vx(s))xx(o,g);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var T=o.lastRenderedState,M=x(T,c);if(g.hasEagerState=!0,g.eagerState=M,Rr(M,T)){var B=o.interleaved;B===null?(g.next=g,cm(o)):(g.next=B.next,B.next=g),o.interleaved=g;return}}catch{}finally{}c=Qv(s,o,g,f),c!==null&&(g=Nn(),Mr(c,s,f,g),wx(c,o,f))}}function vx(s){var o=s.alternate;return s===Ct||o!==null&&o===Ct}function xx(s,o){nc=Zu=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function wx(s,o,c){if((c&4194240)!==0){var f=o.lanes;f&=s.pendingLanes,c|=f,o.lanes=c,jl(s,c)}}var nd={readContext:mr,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useInsertionEffect:gn,useLayoutEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useMutableSource:gn,useSyncExternalStore:gn,useId:gn,unstable_isNewReconciler:!1},tN={readContext:mr,useCallback:function(s,o){return ls().memoizedState=[s,o===void 0?null:o],s},useContext:mr,useEffect:cx,useImperativeHandle:function(s,o,c){return c=c!=null?c.concat([s]):null,ed(4194308,4,hx.bind(null,o,s),c)},useLayoutEffect:function(s,o){return ed(4194308,4,s,o)},useInsertionEffect:function(s,o){return ed(4,2,s,o)},useMemo:function(s,o){var c=ls();return o=o===void 0?null:o,s=s(),c.memoizedState=[s,o],s},useReducer:function(s,o,c){var f=ls();return o=c!==void 0?c(o):o,f.memoizedState=f.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},f.queue=s,s=s.dispatch=ZI.bind(null,Ct,s),[f.memoizedState,s]},useRef:function(s){var o=ls();return s={current:s},o.memoizedState=s},useState:ax,useDebugValue:Em,useDeferredValue:function(s){return ls().memoizedState=s},useTransition:function(){var s=ax(!1),o=s[0];return s=JI.bind(null,s[1]),ls().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,c){var f=Ct,g=ls();if(St){if(c===void 0)throw Error(t(407));c=c()}else{if(c=o(),tn===null)throw Error(t(349));(jo&30)!==0||nx(f,o,c)}g.memoizedState=c;var x={value:c,getSnapshot:o};return g.queue=x,cx(sx.bind(null,f,x,s),[s]),f.flags|=2048,ic(9,rx.bind(null,f,x,c,o),void 0,null),c},useId:function(){var s=ls(),o=tn.identifierPrefix;if(St){var c=Ls,f=Os;c=(f&~(1<<32-Gn(f)-1)).toString(32)+c,o=":"+o+"R"+c,c=rc++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=XI++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},nN={readContext:mr,useCallback:mx,useContext:mr,useEffect:_m,useImperativeHandle:fx,useInsertionEffect:ux,useLayoutEffect:dx,useMemo:px,useReducer:xm,useRef:lx,useState:function(){return xm(sc)},useDebugValue:Em,useDeferredValue:function(s){var o=pr();return gx(o,Kt.memoizedState,s)},useTransition:function(){var s=xm(sc)[0],o=pr().memoizedState;return[s,o]},useMutableSource:ex,useSyncExternalStore:tx,useId:yx,unstable_isNewReconciler:!1},rN={readContext:mr,useCallback:mx,useContext:mr,useEffect:_m,useImperativeHandle:fx,useInsertionEffect:ux,useLayoutEffect:dx,useMemo:px,useReducer:wm,useRef:lx,useState:function(){return wm(sc)},useDebugValue:Em,useDeferredValue:function(s){var o=pr();return Kt===null?o.memoizedState=s:gx(o,Kt.memoizedState,s)},useTransition:function(){var s=wm(sc)[0],o=pr().memoizedState;return[s,o]},useMutableSource:ex,useSyncExternalStore:tx,useId:yx,unstable_isNewReconciler:!1};function Pr(s,o){if(s&&s.defaultProps){o=se({},o),s=s.defaultProps;for(var c in s)o[c]===void 0&&(o[c]=s[c]);return o}return o}function bm(s,o,c,f){o=s.memoizedState,c=c(f,o),c=c==null?o:se({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var rd={isMounted:function(s){return(s=s._reactInternals)?Cr(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var f=Nn(),g=Ci(s),x=Fs(f,g);x.payload=o,c!=null&&(x.callback=c),o=Ti(s,x,g),o!==null&&(Mr(o,s,g,f),Qu(o,s,g))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var f=Nn(),g=Ci(s),x=Fs(f,g);x.tag=1,x.payload=o,c!=null&&(x.callback=c),o=Ti(s,x,g),o!==null&&(Mr(o,s,g,f),Qu(o,s,g))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=Nn(),f=Ci(s),g=Fs(c,f);g.tag=2,o!=null&&(g.callback=o),o=Ti(s,g,f),o!==null&&(Mr(o,s,f,c),Qu(o,s,f))}};function _x(s,o,c,f,g,x,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,x,T):o.prototype&&o.prototype.isPureReactComponent?!Hl(c,f)||!Hl(g,x):!0}function Ex(s,o,c){var f=!1,g=_i,x=o.contextType;return typeof x=="object"&&x!==null?x=mr(x):(g=Pn(o)?Co:pn.current,f=o.contextTypes,x=(f=f!=null)?Aa(s,g):_i),o=new o(c,x),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=rd,s.stateNode=o,o._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=x),o}function bx(s,o,c,f){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,f),o.state!==s&&rd.enqueueReplaceState(o,o.state,null)}function Tm(s,o,c,f){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},um(s);var x=o.contextType;typeof x=="object"&&x!==null?g.context=mr(x):(x=Pn(o)?Co:pn.current,g.context=Aa(s,x)),g.state=s.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(bm(s,o,x,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&rd.enqueueReplaceState(g,g.state,null),Yu(s,c,g,f),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function La(s,o){try{var c="",f=o;do c+=de(f),f=f.return;while(f);var g=c}catch(x){g=`
Error generating stack: `+x.message+`
`+x.stack}return{value:s,source:o,stack:g,digest:null}}function Sm(s,o,c){return{value:s,source:null,stack:c??null,digest:o??null}}function Im(s,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var sN=typeof WeakMap=="function"?WeakMap:Map;function Tx(s,o,c){c=Fs(-1,c),c.tag=3,c.payload={element:null};var f=o.value;return c.callback=function(){ud||(ud=!0,zm=f),Im(s,o)},c}function Sx(s,o,c){c=Fs(-1,c),c.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;c.payload=function(){return f(g)},c.callback=function(){Im(s,o)}}var x=s.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(c.callback=function(){Im(s,o),typeof f!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),c}function Ix(s,o,c){var f=s.pingCache;if(f===null){f=s.pingCache=new sN;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(c)||(g.add(c),s=vN.bind(null,s,o,c),o.then(s,s))}function Nx(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Cx(s,o,c,f,g){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=Fs(-1,1),o.tag=2,Ti(c,o,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var iN=K.ReactCurrentOwner,jn=!1;function In(s,o,c,f){o.child=s===null?Kv(o,null,c,f):ja(o,s.child,c,f)}function Ax(s,o,c,f,g){c=c.render;var x=o.ref;return Ma(o,g),f=ym(s,o,c,f,x,g),c=vm(),s!==null&&!jn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,Us(s,o,g)):(St&&c&&em(o),o.flags|=1,In(s,o,f,g),o.child)}function Rx(s,o,c,f,g){if(s===null){var x=c.type;return typeof x=="function"&&!Km(x)&&x.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=x,kx(s,o,x,f,g)):(s=gd(c.type,null,f,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(x=s.child,(s.lanes&g)===0){var T=x.memoizedProps;if(c=c.compare,c=c!==null?c:Hl,c(T,f)&&s.ref===o.ref)return Us(s,o,g)}return o.flags|=1,s=Ri(x,f),s.ref=o.ref,s.return=o,o.child=s}function kx(s,o,c,f,g){if(s!==null){var x=s.memoizedProps;if(Hl(x,f)&&s.ref===o.ref)if(jn=!1,o.pendingProps=f=x,(s.lanes&g)!==0)(s.flags&131072)!==0&&(jn=!0);else return o.lanes=s.lanes,Us(s,o,g)}return Nm(s,o,c,f,g)}function Px(s,o,c){var f=o.pendingProps,g=f.children,x=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(Fa,er),er|=c;else{if((c&1073741824)===0)return s=x!==null?x.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,yt(Fa,er),er|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=x!==null?x.baseLanes:c,yt(Fa,er),er|=f}else x!==null?(f=x.baseLanes|c,o.memoizedState=null):f=c,yt(Fa,er),er|=f;return In(s,o,g,c),o.child}function jx(s,o){var c=o.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function Nm(s,o,c,f,g){var x=Pn(c)?Co:pn.current;return x=Aa(o,x),Ma(o,g),c=ym(s,o,c,f,x,g),f=vm(),s!==null&&!jn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,Us(s,o,g)):(St&&f&&em(o),o.flags|=1,In(s,o,c,g),o.child)}function Dx(s,o,c,f,g){if(Pn(c)){var x=!0;zu(o)}else x=!1;if(Ma(o,g),o.stateNode===null)id(s,o),Ex(o,c,f),Tm(o,c,f,g),f=!0;else if(s===null){var T=o.stateNode,M=o.memoizedProps;T.props=M;var B=T.context,Y=c.contextType;typeof Y=="object"&&Y!==null?Y=mr(Y):(Y=Pn(c)?Co:pn.current,Y=Aa(o,Y));var ae=c.getDerivedStateFromProps,le=typeof ae=="function"||typeof T.getSnapshotBeforeUpdate=="function";le||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(M!==f||B!==Y)&&bx(o,T,f,Y),bi=!1;var oe=o.memoizedState;T.state=oe,Yu(o,f,T,g),B=o.memoizedState,M!==f||oe!==B||kn.current||bi?(typeof ae=="function"&&(bm(o,c,ae,f),B=o.memoizedState),(M=bi||_x(o,c,M,f,oe,B,Y))?(le||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=B),T.props=f,T.state=B,T.context=Y,f=M):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{T=o.stateNode,Yv(s,o),M=o.memoizedProps,Y=o.type===o.elementType?M:Pr(o.type,M),T.props=Y,le=o.pendingProps,oe=T.context,B=c.contextType,typeof B=="object"&&B!==null?B=mr(B):(B=Pn(c)?Co:pn.current,B=Aa(o,B));var _e=c.getDerivedStateFromProps;(ae=typeof _e=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(M!==le||oe!==B)&&bx(o,T,f,B),bi=!1,oe=o.memoizedState,T.state=oe,Yu(o,f,T,g);var Ie=o.memoizedState;M!==le||oe!==Ie||kn.current||bi?(typeof _e=="function"&&(bm(o,c,_e,f),Ie=o.memoizedState),(Y=bi||_x(o,c,Y,f,oe,Ie,B)||!1)?(ae||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(f,Ie,B),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(f,Ie,B)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||M===s.memoizedProps&&oe===s.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&oe===s.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=Ie),T.props=f,T.state=Ie,T.context=B,f=Y):(typeof T.componentDidUpdate!="function"||M===s.memoizedProps&&oe===s.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&oe===s.memoizedState||(o.flags|=1024),f=!1)}return Cm(s,o,c,f,x,g)}function Cm(s,o,c,f,g,x){jx(s,o);var T=(o.flags&128)!==0;if(!f&&!T)return g&&Fv(o,c,!1),Us(s,o,x);f=o.stateNode,iN.current=o;var M=T&&typeof c.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,s!==null&&T?(o.child=ja(o,s.child,null,x),o.child=ja(o,null,M,x)):In(s,o,M,x),o.memoizedState=f.state,g&&Fv(o,c,!0),o.child}function Mx(s){var o=s.stateNode;o.pendingContext?Lv(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Lv(s,o.context,!1),dm(s,o.containerInfo)}function Ox(s,o,c,f,g){return Pa(),sm(g),o.flags|=256,In(s,o,c,f),o.child}var Am={dehydrated:null,treeContext:null,retryLane:0};function Rm(s){return{baseLanes:s,cachePool:null,transitions:null}}function Lx(s,o,c){var f=o.pendingProps,g=Nt.current,x=!1,T=(o.flags&128)!==0,M;if((M=T)||(M=s!==null&&s.memoizedState===null?!1:(g&2)!==0),M?(x=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),yt(Nt,g&1),s===null)return rm(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=f.children,s=f.fallback,x?(f=o.mode,x=o.child,T={mode:"hidden",children:T},(f&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=T):x=yd(T,f,0,null),s=Vo(s,f,c,null),x.return=o,s.return=o,x.sibling=s,o.child=x,o.child.memoizedState=Rm(c),o.memoizedState=Am,s):km(o,T));if(g=s.memoizedState,g!==null&&(M=g.dehydrated,M!==null))return oN(s,o,T,f,M,g,c);if(x){x=f.fallback,T=o.mode,g=s.child,M=g.sibling;var B={mode:"hidden",children:f.children};return(T&1)===0&&o.child!==g?(f=o.child,f.childLanes=0,f.pendingProps=B,o.deletions=null):(f=Ri(g,B),f.subtreeFlags=g.subtreeFlags&14680064),M!==null?x=Ri(M,x):(x=Vo(x,T,c,null),x.flags|=2),x.return=o,f.return=o,f.sibling=x,o.child=f,f=x,x=o.child,T=s.child.memoizedState,T=T===null?Rm(c):{baseLanes:T.baseLanes|c,cachePool:null,transitions:T.transitions},x.memoizedState=T,x.childLanes=s.childLanes&~c,o.memoizedState=Am,f}return x=s.child,s=x.sibling,f=Ri(x,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=c),f.return=o,f.sibling=null,s!==null&&(c=o.deletions,c===null?(o.deletions=[s],o.flags|=16):c.push(s)),o.child=f,o.memoizedState=null,f}function km(s,o){return o=yd({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function sd(s,o,c,f){return f!==null&&sm(f),ja(o,s.child,null,c),s=km(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function oN(s,o,c,f,g,x,T){if(c)return o.flags&256?(o.flags&=-257,f=Sm(Error(t(422))),sd(s,o,T,f)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(x=f.fallback,g=o.mode,f=yd({mode:"visible",children:f.children},g,0,null),x=Vo(x,g,T,null),x.flags|=2,f.return=o,x.return=o,f.sibling=x,o.child=f,(o.mode&1)!==0&&ja(o,s.child,null,T),o.child.memoizedState=Rm(T),o.memoizedState=Am,x);if((o.mode&1)===0)return sd(s,o,T,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var M=f.dgst;return f=M,x=Error(t(419)),f=Sm(x,f,void 0),sd(s,o,T,f)}if(M=(T&s.childLanes)!==0,jn||M){if(f=tn,f!==null){switch(T&-T){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|T))!==0?0:g,g!==0&&g!==x.retryLane&&(x.retryLane=g,Vs(s,g),Mr(f,s,g,-1))}return Gm(),f=Sm(Error(t(421))),sd(s,o,T,f)}return g.data==="$?"?(o.flags|=128,o.child=s.child,o=xN.bind(null,s),g._reactRetry=o,null):(s=x.treeContext,Zn=xi(g.nextSibling),Jn=o,St=!0,kr=null,s!==null&&(hr[fr++]=Os,hr[fr++]=Ls,hr[fr++]=Ao,Os=s.id,Ls=s.overflow,Ao=o),o=km(o,f.children),o.flags|=4096,o)}function Vx(s,o,c){s.lanes|=o;var f=s.alternate;f!==null&&(f.lanes|=o),lm(s.return,o,c)}function Pm(s,o,c,f,g){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:g}:(x.isBackwards=o,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=c,x.tailMode=g)}function Fx(s,o,c){var f=o.pendingProps,g=f.revealOrder,x=f.tail;if(In(s,o,f.children,c),f=Nt.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Vx(s,c,o);else if(s.tag===19)Vx(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(yt(Nt,f),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(c=o.child,g=null;c!==null;)s=c.alternate,s!==null&&Xu(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=o.child,o.child=null):(g=c.sibling,c.sibling=null),Pm(o,!1,g,c,x);break;case"backwards":for(c=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&Xu(s)===null){o.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}Pm(o,!0,c,null,x);break;case"together":Pm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function id(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Us(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),Do|=o.lanes,(c&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,c=Ri(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=Ri(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function aN(s,o,c){switch(o.tag){case 3:Mx(o),Pa();break;case 5:Zv(o);break;case 1:Pn(o.type)&&zu(o);break;case 4:dm(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,g=o.memoizedProps.value;yt(Gu,f._currentValue),f._currentValue=g;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(yt(Nt,Nt.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?Lx(s,o,c):(yt(Nt,Nt.current&1),s=Us(s,o,c),s!==null?s.sibling:null);yt(Nt,Nt.current&1);break;case 19:if(f=(c&o.childLanes)!==0,(s.flags&128)!==0){if(f)return Fx(s,o,c);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),yt(Nt,Nt.current),f)break;return null;case 22:case 23:return o.lanes=0,Px(s,o,c)}return Us(s,o,c)}var Ux,jm,zx,Bx;Ux=function(s,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},jm=function(){},zx=function(s,o,c,f){var g=s.memoizedProps;if(g!==f){s=o.stateNode,Po(as.current);var x=null;switch(c){case"input":g=Dt(s,g),f=Dt(s,f),x=[];break;case"select":g=se({},g,{value:void 0}),f=se({},f,{value:void 0}),x=[];break;case"textarea":g=Gt(s,g),f=Gt(s,f),x=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=Vu)}Rn(c,f);var T;c=null;for(Y in g)if(!f.hasOwnProperty(Y)&&g.hasOwnProperty(Y)&&g[Y]!=null)if(Y==="style"){var M=g[Y];for(T in M)M.hasOwnProperty(T)&&(c||(c={}),c[T]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(i.hasOwnProperty(Y)?x||(x=[]):(x=x||[]).push(Y,null));for(Y in f){var B=f[Y];if(M=g!=null?g[Y]:void 0,f.hasOwnProperty(Y)&&B!==M&&(B!=null||M!=null))if(Y==="style")if(M){for(T in M)!M.hasOwnProperty(T)||B&&B.hasOwnProperty(T)||(c||(c={}),c[T]="");for(T in B)B.hasOwnProperty(T)&&M[T]!==B[T]&&(c||(c={}),c[T]=B[T])}else c||(x||(x=[]),x.push(Y,c)),c=B;else Y==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,M=M?M.__html:void 0,B!=null&&M!==B&&(x=x||[]).push(Y,B)):Y==="children"?typeof B!="string"&&typeof B!="number"||(x=x||[]).push(Y,""+B):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(i.hasOwnProperty(Y)?(B!=null&&Y==="onScroll"&&bt("scroll",s),x||M===B||(x=[])):(x=x||[]).push(Y,B))}c&&(x=x||[]).push("style",c);var Y=x;(o.updateQueue=Y)&&(o.flags|=4)}},Bx=function(s,o,c,f){c!==f&&(o.flags|=4)};function oc(s,o){if(!St)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function yn(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(o)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=c,o}function lN(s,o,c){var f=o.pendingProps;switch(tm(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(o),null;case 1:return Pn(o.type)&&Uu(),yn(o),null;case 3:return f=o.stateNode,Oa(),Tt(kn),Tt(pn),mm(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(Hu(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,kr!==null&&(qm(kr),kr=null))),jm(s,o),yn(o),null;case 5:hm(o);var g=Po(tc.current);if(c=o.type,s!==null&&o.stateNode!=null)zx(s,o,c,f,g),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(t(166));return yn(o),null}if(s=Po(as.current),Hu(o)){f=o.stateNode,c=o.type;var x=o.memoizedProps;switch(f[os]=o,f[Yl]=x,s=(o.mode&1)!==0,c){case"dialog":bt("cancel",f),bt("close",f);break;case"iframe":case"object":case"embed":bt("load",f);break;case"video":case"audio":for(g=0;g<Gl.length;g++)bt(Gl[g],f);break;case"source":bt("error",f);break;case"img":case"image":case"link":bt("error",f),bt("load",f);break;case"details":bt("toggle",f);break;case"input":or(f,x),bt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!x.multiple},bt("invalid",f);break;case"textarea":ar(f,x),bt("invalid",f)}Rn(c,x),g=null;for(var T in x)if(x.hasOwnProperty(T)){var M=x[T];T==="children"?typeof M=="string"?f.textContent!==M&&(x.suppressHydrationWarning!==!0&&Lu(f.textContent,M,s),g=["children",M]):typeof M=="number"&&f.textContent!==""+M&&(x.suppressHydrationWarning!==!0&&Lu(f.textContent,M,s),g=["children",""+M]):i.hasOwnProperty(T)&&M!=null&&T==="onScroll"&&bt("scroll",f)}switch(c){case"input":$e(f),qr(f,x,!0);break;case"textarea":$e(f),Hr(f);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(f.onclick=Vu)}f=g,o.updateQueue=f,f!==null&&(o.flags|=4)}else{T=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Wr(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=T.createElement(c,{is:f.is}):(s=T.createElement(c),c==="select"&&(T=s,f.multiple?T.multiple=!0:f.size&&(T.size=f.size))):s=T.createElementNS(s,c),s[os]=o,s[Yl]=f,Ux(s,o,!1,!1),o.stateNode=s;e:{switch(T=ui(c,f),c){case"dialog":bt("cancel",s),bt("close",s),g=f;break;case"iframe":case"object":case"embed":bt("load",s),g=f;break;case"video":case"audio":for(g=0;g<Gl.length;g++)bt(Gl[g],s);g=f;break;case"source":bt("error",s),g=f;break;case"img":case"image":case"link":bt("error",s),bt("load",s),g=f;break;case"details":bt("toggle",s),g=f;break;case"input":or(s,f),g=Dt(s,f),bt("invalid",s);break;case"option":g=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},g=se({},f,{value:void 0}),bt("invalid",s);break;case"textarea":ar(s,f),g=Gt(s,f),bt("invalid",s);break;default:g=f}Rn(c,g),M=g;for(x in M)if(M.hasOwnProperty(x)){var B=M[x];x==="style"?li(s,B):x==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&ai(s,B)):x==="children"?typeof B=="string"?(c!=="textarea"||B!=="")&&An(s,B):typeof B=="number"&&An(s,""+B):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(i.hasOwnProperty(x)?B!=null&&x==="onScroll"&&bt("scroll",s):B!=null&&F(s,x,B,T))}switch(c){case"input":$e(s),qr(s,f,!1);break;case"textarea":$e(s),Hr(s);break;case"option":f.value!=null&&s.setAttribute("value",""+ge(f.value));break;case"select":s.multiple=!!f.multiple,x=f.value,x!=null?qn(s,!!f.multiple,x,!1):f.defaultValue!=null&&qn(s,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=Vu)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return yn(o),null;case 6:if(s&&o.stateNode!=null)Bx(s,o,s.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(t(166));if(c=Po(tc.current),Po(as.current),Hu(o)){if(f=o.stateNode,c=o.memoizedProps,f[os]=o,(x=f.nodeValue!==c)&&(s=Jn,s!==null))switch(s.tag){case 3:Lu(f.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Lu(f.nodeValue,c,(s.mode&1)!==0)}x&&(o.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[os]=o,o.stateNode=f}return yn(o),null;case 13:if(Tt(Nt),f=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(St&&Zn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Hv(),Pa(),o.flags|=98560,x=!1;else if(x=Hu(o),f!==null&&f.dehydrated!==null){if(s===null){if(!x)throw Error(t(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(t(317));x[os]=o}else Pa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;yn(o),x=!1}else kr!==null&&(qm(kr),kr=null),x=!0;if(!x)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(Nt.current&1)!==0?Qt===0&&(Qt=3):Gm())),o.updateQueue!==null&&(o.flags|=4),yn(o),null);case 4:return Oa(),jm(s,o),s===null&&Kl(o.stateNode.containerInfo),yn(o),null;case 10:return am(o.type._context),yn(o),null;case 17:return Pn(o.type)&&Uu(),yn(o),null;case 19:if(Tt(Nt),x=o.memoizedState,x===null)return yn(o),null;if(f=(o.flags&128)!==0,T=x.rendering,T===null)if(f)oc(x,!1);else{if(Qt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(T=Xu(s),T!==null){for(o.flags|=128,oc(x,!1),f=T.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=c,c=o.child;c!==null;)x=c,s=f,x.flags&=14680066,T=x.alternate,T===null?(x.childLanes=0,x.lanes=s,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=T.childLanes,x.lanes=T.lanes,x.child=T.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=T.memoizedProps,x.memoizedState=T.memoizedState,x.updateQueue=T.updateQueue,x.type=T.type,s=T.dependencies,x.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return yt(Nt,Nt.current&1|2),o.child}s=s.sibling}x.tail!==null&&Et()>Ua&&(o.flags|=128,f=!0,oc(x,!1),o.lanes=4194304)}else{if(!f)if(s=Xu(T),s!==null){if(o.flags|=128,f=!0,c=s.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),oc(x,!0),x.tail===null&&x.tailMode==="hidden"&&!T.alternate&&!St)return yn(o),null}else 2*Et()-x.renderingStartTime>Ua&&c!==1073741824&&(o.flags|=128,f=!0,oc(x,!1),o.lanes=4194304);x.isBackwards?(T.sibling=o.child,o.child=T):(c=x.last,c!==null?c.sibling=T:o.child=T,x.last=T)}return x.tail!==null?(o=x.tail,x.rendering=o,x.tail=o.sibling,x.renderingStartTime=Et(),o.sibling=null,c=Nt.current,yt(Nt,f?c&1|2:c&1),o):(yn(o),null);case 22:case 23:return Wm(),f=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(er&1073741824)!==0&&(yn(o),o.subtreeFlags&6&&(o.flags|=8192)):yn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function cN(s,o){switch(tm(o),o.tag){case 1:return Pn(o.type)&&Uu(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Oa(),Tt(kn),Tt(pn),mm(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return hm(o),null;case 13:if(Tt(Nt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Pa()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Tt(Nt),null;case 4:return Oa(),null;case 10:return am(o.type._context),null;case 22:case 23:return Wm(),null;case 24:return null;default:return null}}var od=!1,vn=!1,uN=typeof WeakSet=="function"?WeakSet:Set,Te=null;function Va(s,o){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){kt(s,o,f)}else c.current=null}function Dm(s,o,c){try{c()}catch(f){kt(s,o,f)}}var $x=!1;function dN(s,o){if(Wf=ks,s=_v(),Vf(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var g=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var T=0,M=-1,B=-1,Y=0,ae=0,le=s,oe=null;t:for(;;){for(var _e;le!==c||g!==0&&le.nodeType!==3||(M=T+g),le!==x||f!==0&&le.nodeType!==3||(B=T+f),le.nodeType===3&&(T+=le.nodeValue.length),(_e=le.firstChild)!==null;)oe=le,le=_e;for(;;){if(le===s)break t;if(oe===c&&++Y===g&&(M=T),oe===x&&++ae===f&&(B=T),(_e=le.nextSibling)!==null)break;le=oe,oe=le.parentNode}le=_e}c=M===-1||B===-1?null:{start:M,end:B}}else c=null}c=c||{start:0,end:0}}else c=null;for(Gf={focusedElem:s,selectionRange:c},ks=!1,Te=o;Te!==null;)if(o=Te,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Te=s;else for(;Te!==null;){o=Te;try{var Ie=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var Re=Ie.memoizedProps,Lt=Ie.memoizedState,H=o.stateNode,$=H.getSnapshotBeforeUpdate(o.elementType===o.type?Re:Pr(o.type,Re),Lt);H.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var G=o.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(he){kt(o,o.return,he)}if(s=o.sibling,s!==null){s.return=o.return,Te=s;break}Te=o.return}return Ie=$x,$x=!1,Ie}function ac(s,o,c){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&s)===s){var x=g.destroy;g.destroy=void 0,x!==void 0&&Dm(o,c,x)}g=g.next}while(g!==f)}}function ad(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&s)===s){var f=c.create;c.destroy=f()}c=c.next}while(c!==o)}}function Mm(s){var o=s.ref;if(o!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof o=="function"?o(s):o.current=s}}function qx(s){var o=s.alternate;o!==null&&(s.alternate=null,qx(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[os],delete o[Yl],delete o[Xf],delete o[GI],delete o[KI])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Hx(s){return s.tag===5||s.tag===3||s.tag===4}function Wx(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Hx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Om(s,o,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(s,o):c.insertBefore(s,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(s,c)):(o=c,o.appendChild(s)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Vu));else if(f!==4&&(s=s.child,s!==null))for(Om(s,o,c),s=s.sibling;s!==null;)Om(s,o,c),s=s.sibling}function Lm(s,o,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(Lm(s,o,c),s=s.sibling;s!==null;)Lm(s,o,c),s=s.sibling}var an=null,jr=!1;function Si(s,o,c){for(c=c.child;c!==null;)Gx(s,o,c),c=c.sibling}function Gx(s,o,c){if(Wn&&typeof Wn.onCommitFiberUnmount=="function")try{Wn.onCommitFiberUnmount(vo,c)}catch{}switch(c.tag){case 5:vn||Va(c,o);case 6:var f=an,g=jr;an=null,Si(s,o,c),an=f,jr=g,an!==null&&(jr?(s=an,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):an.removeChild(c.stateNode));break;case 18:an!==null&&(jr?(s=an,c=c.stateNode,s.nodeType===8?Yf(s.parentNode,c):s.nodeType===1&&Yf(s,c),pi(s)):Yf(an,c.stateNode));break;case 4:f=an,g=jr,an=c.stateNode.containerInfo,jr=!0,Si(s,o,c),an=f,jr=g;break;case 0:case 11:case 14:case 15:if(!vn&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var x=g,T=x.destroy;x=x.tag,T!==void 0&&((x&2)!==0||(x&4)!==0)&&Dm(c,o,T),g=g.next}while(g!==f)}Si(s,o,c);break;case 1:if(!vn&&(Va(c,o),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(M){kt(c,o,M)}Si(s,o,c);break;case 21:Si(s,o,c);break;case 22:c.mode&1?(vn=(f=vn)||c.memoizedState!==null,Si(s,o,c),vn=f):Si(s,o,c);break;default:Si(s,o,c)}}function Kx(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new uN),o.forEach(function(f){var g=wN.bind(null,s,f);c.has(f)||(c.add(f),f.then(g,g))})}}function Dr(s,o){var c=o.deletions;if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];try{var x=s,T=o,M=T;e:for(;M!==null;){switch(M.tag){case 5:an=M.stateNode,jr=!1;break e;case 3:an=M.stateNode.containerInfo,jr=!0;break e;case 4:an=M.stateNode.containerInfo,jr=!0;break e}M=M.return}if(an===null)throw Error(t(160));Gx(x,T,g),an=null,jr=!1;var B=g.alternate;B!==null&&(B.return=null),g.return=null}catch(Y){kt(g,o,Y)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Qx(o,s),o=o.sibling}function Qx(s,o){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Dr(o,s),cs(s),f&4){try{ac(3,s,s.return),ad(3,s)}catch(Re){kt(s,s.return,Re)}try{ac(5,s,s.return)}catch(Re){kt(s,s.return,Re)}}break;case 1:Dr(o,s),cs(s),f&512&&c!==null&&Va(c,c.return);break;case 5:if(Dr(o,s),cs(s),f&512&&c!==null&&Va(c,c.return),s.flags&32){var g=s.stateNode;try{An(g,"")}catch(Re){kt(s,s.return,Re)}}if(f&4&&(g=s.stateNode,g!=null)){var x=s.memoizedProps,T=c!==null?c.memoizedProps:x,M=s.type,B=s.updateQueue;if(s.updateQueue=null,B!==null)try{M==="input"&&x.type==="radio"&&x.name!=null&&bn(g,x),ui(M,T);var Y=ui(M,x);for(T=0;T<B.length;T+=2){var ae=B[T],le=B[T+1];ae==="style"?li(g,le):ae==="dangerouslySetInnerHTML"?ai(g,le):ae==="children"?An(g,le):F(g,ae,le,Y)}switch(M){case"input":Wt(g,x);break;case"textarea":aa(g,x);break;case"select":var oe=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!x.multiple;var _e=x.value;_e!=null?qn(g,!!x.multiple,_e,!1):oe!==!!x.multiple&&(x.defaultValue!=null?qn(g,!!x.multiple,x.defaultValue,!0):qn(g,!!x.multiple,x.multiple?[]:"",!1))}g[Yl]=x}catch(Re){kt(s,s.return,Re)}}break;case 6:if(Dr(o,s),cs(s),f&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,x=s.memoizedProps;try{g.nodeValue=x}catch(Re){kt(s,s.return,Re)}}break;case 3:if(Dr(o,s),cs(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{pi(o.containerInfo)}catch(Re){kt(s,s.return,Re)}break;case 4:Dr(o,s),cs(s);break;case 13:Dr(o,s),cs(s),g=s.child,g.flags&8192&&(x=g.memoizedState!==null,g.stateNode.isHidden=x,!x||g.alternate!==null&&g.alternate.memoizedState!==null||(Um=Et())),f&4&&Kx(s);break;case 22:if(ae=c!==null&&c.memoizedState!==null,s.mode&1?(vn=(Y=vn)||ae,Dr(o,s),vn=Y):Dr(o,s),cs(s),f&8192){if(Y=s.memoizedState!==null,(s.stateNode.isHidden=Y)&&!ae&&(s.mode&1)!==0)for(Te=s,ae=s.child;ae!==null;){for(le=Te=ae;Te!==null;){switch(oe=Te,_e=oe.child,oe.tag){case 0:case 11:case 14:case 15:ac(4,oe,oe.return);break;case 1:Va(oe,oe.return);var Ie=oe.stateNode;if(typeof Ie.componentWillUnmount=="function"){f=oe,c=oe.return;try{o=f,Ie.props=o.memoizedProps,Ie.state=o.memoizedState,Ie.componentWillUnmount()}catch(Re){kt(f,c,Re)}}break;case 5:Va(oe,oe.return);break;case 22:if(oe.memoizedState!==null){Jx(le);continue}}_e!==null?(_e.return=oe,Te=_e):Jx(le)}ae=ae.sibling}e:for(ae=null,le=s;;){if(le.tag===5){if(ae===null){ae=le;try{g=le.stateNode,Y?(x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(M=le.stateNode,B=le.memoizedProps.style,T=B!=null&&B.hasOwnProperty("display")?B.display:null,M.style.display=Gr("display",T))}catch(Re){kt(s,s.return,Re)}}}else if(le.tag===6){if(ae===null)try{le.stateNode.nodeValue=Y?"":le.memoizedProps}catch(Re){kt(s,s.return,Re)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===s)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===s)break e;for(;le.sibling===null;){if(le.return===null||le.return===s)break e;ae===le&&(ae=null),le=le.return}ae===le&&(ae=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:Dr(o,s),cs(s),f&4&&Kx(s);break;case 21:break;default:Dr(o,s),cs(s)}}function cs(s){var o=s.flags;if(o&2){try{e:{for(var c=s.return;c!==null;){if(Hx(c)){var f=c;break e}c=c.return}throw Error(t(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(An(g,""),f.flags&=-33);var x=Wx(s);Lm(s,x,g);break;case 3:case 4:var T=f.stateNode.containerInfo,M=Wx(s);Om(s,M,T);break;default:throw Error(t(161))}}catch(B){kt(s,s.return,B)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function hN(s,o,c){Te=s,Yx(s)}function Yx(s,o,c){for(var f=(s.mode&1)!==0;Te!==null;){var g=Te,x=g.child;if(g.tag===22&&f){var T=g.memoizedState!==null||od;if(!T){var M=g.alternate,B=M!==null&&M.memoizedState!==null||vn;M=od;var Y=vn;if(od=T,(vn=B)&&!Y)for(Te=g;Te!==null;)T=Te,B=T.child,T.tag===22&&T.memoizedState!==null?Zx(g):B!==null?(B.return=T,Te=B):Zx(g);for(;x!==null;)Te=x,Yx(x),x=x.sibling;Te=g,od=M,vn=Y}Xx(s)}else(g.subtreeFlags&8772)!==0&&x!==null?(x.return=g,Te=x):Xx(s)}}function Xx(s){for(;Te!==null;){var o=Te;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:vn||ad(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!vn)if(c===null)f.componentDidMount();else{var g=o.elementType===o.type?c.memoizedProps:Pr(o.type,c.memoizedProps);f.componentDidUpdate(g,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var x=o.updateQueue;x!==null&&Jv(o,x,f);break;case 3:var T=o.updateQueue;if(T!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}Jv(o,T,c)}break;case 5:var M=o.stateNode;if(c===null&&o.flags&4){c=M;var B=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&c.focus();break;case"img":B.src&&(c.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Y=o.alternate;if(Y!==null){var ae=Y.memoizedState;if(ae!==null){var le=ae.dehydrated;le!==null&&pi(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}vn||o.flags&512&&Mm(o)}catch(oe){kt(o,o.return,oe)}}if(o===s){Te=null;break}if(c=o.sibling,c!==null){c.return=o.return,Te=c;break}Te=o.return}}function Jx(s){for(;Te!==null;){var o=Te;if(o===s){Te=null;break}var c=o.sibling;if(c!==null){c.return=o.return,Te=c;break}Te=o.return}}function Zx(s){for(;Te!==null;){var o=Te;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{ad(4,o)}catch(B){kt(o,c,B)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var g=o.return;try{f.componentDidMount()}catch(B){kt(o,g,B)}}var x=o.return;try{Mm(o)}catch(B){kt(o,x,B)}break;case 5:var T=o.return;try{Mm(o)}catch(B){kt(o,T,B)}}}catch(B){kt(o,o.return,B)}if(o===s){Te=null;break}var M=o.sibling;if(M!==null){M.return=o.return,Te=M;break}Te=o.return}}var fN=Math.ceil,ld=K.ReactCurrentDispatcher,Vm=K.ReactCurrentOwner,gr=K.ReactCurrentBatchConfig,at=0,tn=null,Bt=null,ln=0,er=0,Fa=wi(0),Qt=0,lc=null,Do=0,cd=0,Fm=0,cc=null,Dn=null,Um=0,Ua=1/0,zs=null,ud=!1,zm=null,Ii=null,dd=!1,Ni=null,hd=0,uc=0,Bm=null,fd=-1,md=0;function Nn(){return(at&6)!==0?Et():fd!==-1?fd:fd=Et()}function Ci(s){return(s.mode&1)===0?1:(at&2)!==0&&ln!==0?ln&-ln:YI.transition!==null?(md===0&&(md=kl()),md):(s=it,s!==0||(s=window.event,s=s===void 0?16:pa(s.type)),s)}function Mr(s,o,c,f){if(50<uc)throw uc=0,Bm=null,Error(t(185));Eo(s,c,f),((at&2)===0||s!==tn)&&(s===tn&&((at&2)===0&&(cd|=c),Qt===4&&Ai(s,ln)),Mn(s,f),c===1&&at===0&&(o.mode&1)===0&&(Ua=Et()+500,Bu&&Ei()))}function Mn(s,o){var c=s.callbackNode;_o(s,o);var f=Cs(s,s===tn?ln:0);if(f===0)c!==null&&la(c),s.callbackNode=null,s.callbackPriority=0;else if(o=f&-f,s.callbackPriority!==o){if(c!=null&&la(c),o===1)s.tag===0?QI(t0.bind(null,s)):Uv(t0.bind(null,s)),HI(function(){(at&6)===0&&Ei()}),c=null;else{switch(Yr(f)){case 1:c=ca;break;case 4:c=Cl;break;case 16:c=yo;break;case 536870912:c=ua;break;default:c=yo}c=c0(c,e0.bind(null,s))}s.callbackPriority=o,s.callbackNode=c}}function e0(s,o){if(fd=-1,md=0,(at&6)!==0)throw Error(t(327));var c=s.callbackNode;if(za()&&s.callbackNode!==c)return null;var f=Cs(s,s===tn?ln:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||o)o=pd(s,f);else{o=f;var g=at;at|=2;var x=r0();(tn!==s||ln!==o)&&(zs=null,Ua=Et()+500,Oo(s,o));do try{gN();break}catch(M){n0(s,M)}while(!0);om(),ld.current=x,at=g,Bt!==null?o=0:(tn=null,ln=0,o=Qt)}if(o!==0){if(o===2&&(g=Rl(s),g!==0&&(f=g,o=$m(s,g))),o===1)throw c=lc,Oo(s,0),Ai(s,f),Mn(s,Et()),c;if(o===6)Ai(s,f);else{if(g=s.current.alternate,(f&30)===0&&!mN(g)&&(o=pd(s,f),o===2&&(x=Rl(s),x!==0&&(f=x,o=$m(s,x))),o===1))throw c=lc,Oo(s,0),Ai(s,f),Mn(s,Et()),c;switch(s.finishedWork=g,s.finishedLanes=f,o){case 0:case 1:throw Error(t(345));case 2:Lo(s,Dn,zs);break;case 3:if(Ai(s,f),(f&130023424)===f&&(o=Um+500-Et(),10<o)){if(Cs(s,0)!==0)break;if(g=s.suspendedLanes,(g&f)!==f){Nn(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Qf(Lo.bind(null,s,Dn,zs),o);break}Lo(s,Dn,zs);break;case 4:if(Ai(s,f),(f&4194240)===f)break;for(o=s.eventTimes,g=-1;0<f;){var T=31-Gn(f);x=1<<T,T=o[T],T>g&&(g=T),f&=~x}if(f=g,f=Et()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*fN(f/1960))-f,10<f){s.timeoutHandle=Qf(Lo.bind(null,s,Dn,zs),f);break}Lo(s,Dn,zs);break;case 5:Lo(s,Dn,zs);break;default:throw Error(t(329))}}}return Mn(s,Et()),s.callbackNode===c?e0.bind(null,s):null}function $m(s,o){var c=cc;return s.current.memoizedState.isDehydrated&&(Oo(s,o).flags|=256),s=pd(s,o),s!==2&&(o=Dn,Dn=c,o!==null&&qm(o)),s}function qm(s){Dn===null?Dn=s:Dn.push.apply(Dn,s)}function mN(s){for(var o=s;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var g=c[f],x=g.getSnapshot;g=g.value;try{if(!Rr(x(),g))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ai(s,o){for(o&=~Fm,o&=~cd,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var c=31-Gn(o),f=1<<c;s[c]=-1,o&=~f}}function t0(s){if((at&6)!==0)throw Error(t(327));za();var o=Cs(s,0);if((o&1)===0)return Mn(s,Et()),null;var c=pd(s,o);if(s.tag!==0&&c===2){var f=Rl(s);f!==0&&(o=f,c=$m(s,f))}if(c===1)throw c=lc,Oo(s,0),Ai(s,o),Mn(s,Et()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Lo(s,Dn,zs),Mn(s,Et()),null}function Hm(s,o){var c=at;at|=1;try{return s(o)}finally{at=c,at===0&&(Ua=Et()+500,Bu&&Ei())}}function Mo(s){Ni!==null&&Ni.tag===0&&(at&6)===0&&za();var o=at;at|=1;var c=gr.transition,f=it;try{if(gr.transition=null,it=1,s)return s()}finally{it=f,gr.transition=c,at=o,(at&6)===0&&Ei()}}function Wm(){er=Fa.current,Tt(Fa)}function Oo(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,qI(c)),Bt!==null)for(c=Bt.return;c!==null;){var f=c;switch(tm(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Uu();break;case 3:Oa(),Tt(kn),Tt(pn),mm();break;case 5:hm(f);break;case 4:Oa();break;case 13:Tt(Nt);break;case 19:Tt(Nt);break;case 10:am(f.type._context);break;case 22:case 23:Wm()}c=c.return}if(tn=s,Bt=s=Ri(s.current,null),ln=er=o,Qt=0,lc=null,Fm=cd=Do=0,Dn=cc=null,ko!==null){for(o=0;o<ko.length;o++)if(c=ko[o],f=c.interleaved,f!==null){c.interleaved=null;var g=f.next,x=c.pending;if(x!==null){var T=x.next;x.next=g,f.next=T}c.pending=f}ko=null}return s}function n0(s,o){do{var c=Bt;try{if(om(),Ju.current=nd,Zu){for(var f=Ct.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}Zu=!1}if(jo=0,en=Kt=Ct=null,nc=!1,rc=0,Vm.current=null,c===null||c.return===null){Qt=1,lc=o,Bt=null;break}e:{var x=s,T=c.return,M=c,B=o;if(o=ln,M.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var Y=B,ae=M,le=ae.tag;if((ae.mode&1)===0&&(le===0||le===11||le===15)){var oe=ae.alternate;oe?(ae.updateQueue=oe.updateQueue,ae.memoizedState=oe.memoizedState,ae.lanes=oe.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var _e=Nx(T);if(_e!==null){_e.flags&=-257,Cx(_e,T,M,x,o),_e.mode&1&&Ix(x,Y,o),o=_e,B=Y;var Ie=o.updateQueue;if(Ie===null){var Re=new Set;Re.add(B),o.updateQueue=Re}else Ie.add(B);break e}else{if((o&1)===0){Ix(x,Y,o),Gm();break e}B=Error(t(426))}}else if(St&&M.mode&1){var Lt=Nx(T);if(Lt!==null){(Lt.flags&65536)===0&&(Lt.flags|=256),Cx(Lt,T,M,x,o),sm(La(B,M));break e}}x=B=La(B,M),Qt!==4&&(Qt=2),cc===null?cc=[x]:cc.push(x),x=T;do{switch(x.tag){case 3:x.flags|=65536,o&=-o,x.lanes|=o;var H=Tx(x,B,o);Xv(x,H);break e;case 1:M=B;var $=x.type,G=x.stateNode;if((x.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Ii===null||!Ii.has(G)))){x.flags|=65536,o&=-o,x.lanes|=o;var he=Sx(x,M,o);Xv(x,he);break e}}x=x.return}while(x!==null)}i0(c)}catch(ke){o=ke,Bt===c&&c!==null&&(Bt=c=c.return);continue}break}while(!0)}function r0(){var s=ld.current;return ld.current=nd,s===null?nd:s}function Gm(){(Qt===0||Qt===3||Qt===2)&&(Qt=4),tn===null||(Do&268435455)===0&&(cd&268435455)===0||Ai(tn,ln)}function pd(s,o){var c=at;at|=2;var f=r0();(tn!==s||ln!==o)&&(zs=null,Oo(s,o));do try{pN();break}catch(g){n0(s,g)}while(!0);if(om(),at=c,ld.current=f,Bt!==null)throw Error(t(261));return tn=null,ln=0,Qt}function pN(){for(;Bt!==null;)s0(Bt)}function gN(){for(;Bt!==null&&!go();)s0(Bt)}function s0(s){var o=l0(s.alternate,s,er);s.memoizedProps=s.pendingProps,o===null?i0(s):Bt=o,Vm.current=null}function i0(s){var o=s;do{var c=o.alternate;if(s=o.return,(o.flags&32768)===0){if(c=lN(c,o,er),c!==null){Bt=c;return}}else{if(c=cN(c,o),c!==null){c.flags&=32767,Bt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Qt=6,Bt=null;return}}if(o=o.sibling,o!==null){Bt=o;return}Bt=o=s}while(o!==null);Qt===0&&(Qt=5)}function Lo(s,o,c){var f=it,g=gr.transition;try{gr.transition=null,it=1,yN(s,o,c,f)}finally{gr.transition=g,it=f}return null}function yN(s,o,c,f){do za();while(Ni!==null);if((at&6)!==0)throw Error(t(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var x=c.lanes|c.childLanes;if(jf(s,x),s===tn&&(Bt=tn=null,ln=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||dd||(dd=!0,c0(yo,function(){return za(),null})),x=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||x){x=gr.transition,gr.transition=null;var T=it;it=1;var M=at;at|=4,Vm.current=null,dN(s,c),Qx(c,s),LI(Gf),ks=!!Wf,Gf=Wf=null,s.current=c,hN(c),Ns(),at=M,it=T,gr.transition=x}else s.current=c;if(dd&&(dd=!1,Ni=s,hd=g),x=s.pendingLanes,x===0&&(Ii=null),Eu(c.stateNode),Mn(s,Et()),o!==null)for(f=s.onRecoverableError,c=0;c<o.length;c++)g=o[c],f(g.value,{componentStack:g.stack,digest:g.digest});if(ud)throw ud=!1,s=zm,zm=null,s;return(hd&1)!==0&&s.tag!==0&&za(),x=s.pendingLanes,(x&1)!==0?s===Bm?uc++:(uc=0,Bm=s):uc=0,Ei(),null}function za(){if(Ni!==null){var s=Yr(hd),o=gr.transition,c=it;try{if(gr.transition=null,it=16>s?16:s,Ni===null)var f=!1;else{if(s=Ni,Ni=null,hd=0,(at&6)!==0)throw Error(t(331));var g=at;for(at|=4,Te=s.current;Te!==null;){var x=Te,T=x.child;if((Te.flags&16)!==0){var M=x.deletions;if(M!==null){for(var B=0;B<M.length;B++){var Y=M[B];for(Te=Y;Te!==null;){var ae=Te;switch(ae.tag){case 0:case 11:case 15:ac(8,ae,x)}var le=ae.child;if(le!==null)le.return=ae,Te=le;else for(;Te!==null;){ae=Te;var oe=ae.sibling,_e=ae.return;if(qx(ae),ae===Y){Te=null;break}if(oe!==null){oe.return=_e,Te=oe;break}Te=_e}}}var Ie=x.alternate;if(Ie!==null){var Re=Ie.child;if(Re!==null){Ie.child=null;do{var Lt=Re.sibling;Re.sibling=null,Re=Lt}while(Re!==null)}}Te=x}}if((x.subtreeFlags&2064)!==0&&T!==null)T.return=x,Te=T;else e:for(;Te!==null;){if(x=Te,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:ac(9,x,x.return)}var H=x.sibling;if(H!==null){H.return=x.return,Te=H;break e}Te=x.return}}var $=s.current;for(Te=$;Te!==null;){T=Te;var G=T.child;if((T.subtreeFlags&2064)!==0&&G!==null)G.return=T,Te=G;else e:for(T=$;Te!==null;){if(M=Te,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:ad(9,M)}}catch(ke){kt(M,M.return,ke)}if(M===T){Te=null;break e}var he=M.sibling;if(he!==null){he.return=M.return,Te=he;break e}Te=M.return}}if(at=g,Ei(),Wn&&typeof Wn.onPostCommitFiberRoot=="function")try{Wn.onPostCommitFiberRoot(vo,s)}catch{}f=!0}return f}finally{it=c,gr.transition=o}}return!1}function o0(s,o,c){o=La(c,o),o=Tx(s,o,1),s=Ti(s,o,1),o=Nn(),s!==null&&(Eo(s,1,o),Mn(s,o))}function kt(s,o,c){if(s.tag===3)o0(s,s,c);else for(;o!==null;){if(o.tag===3){o0(o,s,c);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ii===null||!Ii.has(f))){s=La(c,s),s=Sx(o,s,1),o=Ti(o,s,1),s=Nn(),o!==null&&(Eo(o,1,s),Mn(o,s));break}}o=o.return}}function vN(s,o,c){var f=s.pingCache;f!==null&&f.delete(o),o=Nn(),s.pingedLanes|=s.suspendedLanes&c,tn===s&&(ln&c)===c&&(Qt===4||Qt===3&&(ln&130023424)===ln&&500>Et()-Um?Oo(s,0):Fm|=c),Mn(s,o)}function a0(s,o){o===0&&((s.mode&1)===0?o=1:(o=hi,hi<<=1,(hi&130023424)===0&&(hi=4194304)));var c=Nn();s=Vs(s,o),s!==null&&(Eo(s,o,c),Mn(s,c))}function xN(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),a0(s,c)}function wN(s,o){var c=0;switch(s.tag){case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(o),a0(s,c)}var l0;l0=function(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps||kn.current)jn=!0;else{if((s.lanes&c)===0&&(o.flags&128)===0)return jn=!1,aN(s,o,c);jn=(s.flags&131072)!==0}else jn=!1,St&&(o.flags&1048576)!==0&&zv(o,qu,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;id(s,o),s=o.pendingProps;var g=Aa(o,pn.current);Ma(o,c),g=ym(null,o,f,s,g,c);var x=vm();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Pn(f)?(x=!0,zu(o)):x=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,um(o),g.updater=rd,o.stateNode=g,g._reactInternals=o,Tm(o,f,s,c),o=Cm(null,o,f,!0,x,c)):(o.tag=0,St&&x&&em(o),In(null,o,g,c),o=o.child),o;case 16:f=o.elementType;e:{switch(id(s,o),s=o.pendingProps,g=f._init,f=g(f._payload),o.type=f,g=o.tag=EN(f),s=Pr(f,s),g){case 0:o=Nm(null,o,f,s,c);break e;case 1:o=Dx(null,o,f,s,c);break e;case 11:o=Ax(null,o,f,s,c);break e;case 14:o=Rx(null,o,f,Pr(f.type,s),c);break e}throw Error(t(306,f,""))}return o;case 0:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Pr(f,g),Nm(s,o,f,g,c);case 1:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Pr(f,g),Dx(s,o,f,g,c);case 3:e:{if(Mx(o),s===null)throw Error(t(387));f=o.pendingProps,x=o.memoizedState,g=x.element,Yv(s,o),Yu(o,f,null,c);var T=o.memoizedState;if(f=T.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){g=La(Error(t(423)),o),o=Ox(s,o,f,c,g);break e}else if(f!==g){g=La(Error(t(424)),o),o=Ox(s,o,f,c,g);break e}else for(Zn=xi(o.stateNode.containerInfo.firstChild),Jn=o,St=!0,kr=null,c=Kv(o,null,f,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Pa(),f===g){o=Us(s,o,c);break e}In(s,o,f,c)}o=o.child}return o;case 5:return Zv(o),s===null&&rm(o),f=o.type,g=o.pendingProps,x=s!==null?s.memoizedProps:null,T=g.children,Kf(f,g)?T=null:x!==null&&Kf(f,x)&&(o.flags|=32),jx(s,o),In(s,o,T,c),o.child;case 6:return s===null&&rm(o),null;case 13:return Lx(s,o,c);case 4:return dm(o,o.stateNode.containerInfo),f=o.pendingProps,s===null?o.child=ja(o,null,f,c):In(s,o,f,c),o.child;case 11:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Pr(f,g),Ax(s,o,f,g,c);case 7:return In(s,o,o.pendingProps,c),o.child;case 8:return In(s,o,o.pendingProps.children,c),o.child;case 12:return In(s,o,o.pendingProps.children,c),o.child;case 10:e:{if(f=o.type._context,g=o.pendingProps,x=o.memoizedProps,T=g.value,yt(Gu,f._currentValue),f._currentValue=T,x!==null)if(Rr(x.value,T)){if(x.children===g.children&&!kn.current){o=Us(s,o,c);break e}}else for(x=o.child,x!==null&&(x.return=o);x!==null;){var M=x.dependencies;if(M!==null){T=x.child;for(var B=M.firstContext;B!==null;){if(B.context===f){if(x.tag===1){B=Fs(-1,c&-c),B.tag=2;var Y=x.updateQueue;if(Y!==null){Y=Y.shared;var ae=Y.pending;ae===null?B.next=B:(B.next=ae.next,ae.next=B),Y.pending=B}}x.lanes|=c,B=x.alternate,B!==null&&(B.lanes|=c),lm(x.return,c,o),M.lanes|=c;break}B=B.next}}else if(x.tag===10)T=x.type===o.type?null:x.child;else if(x.tag===18){if(T=x.return,T===null)throw Error(t(341));T.lanes|=c,M=T.alternate,M!==null&&(M.lanes|=c),lm(T,c,o),T=x.sibling}else T=x.child;if(T!==null)T.return=x;else for(T=x;T!==null;){if(T===o){T=null;break}if(x=T.sibling,x!==null){x.return=T.return,T=x;break}T=T.return}x=T}In(s,o,g.children,c),o=o.child}return o;case 9:return g=o.type,f=o.pendingProps.children,Ma(o,c),g=mr(g),f=f(g),o.flags|=1,In(s,o,f,c),o.child;case 14:return f=o.type,g=Pr(f,o.pendingProps),g=Pr(f.type,g),Rx(s,o,f,g,c);case 15:return kx(s,o,o.type,o.pendingProps,c);case 17:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Pr(f,g),id(s,o),o.tag=1,Pn(f)?(s=!0,zu(o)):s=!1,Ma(o,c),Ex(o,f,g),Tm(o,f,g,c),Cm(null,o,f,!0,s,c);case 19:return Fx(s,o,c);case 22:return Px(s,o,c)}throw Error(t(156,o.tag))};function c0(s,o){return Nl(s,o)}function _N(s,o,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yr(s,o,c,f){return new _N(s,o,c,f)}function Km(s){return s=s.prototype,!(!s||!s.isReactComponent)}function EN(s){if(typeof s=="function")return Km(s)?1:0;if(s!=null){if(s=s.$$typeof,s===U)return 11;if(s===be)return 14}return 2}function Ri(s,o){var c=s.alternate;return c===null?(c=yr(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function gd(s,o,c,f,g,x){var T=2;if(f=s,typeof s=="function")Km(s)&&(T=1);else if(typeof s=="string")T=5;else e:switch(s){case C:return Vo(c.children,g,x,o);case S:T=8,g|=8;break;case P:return s=yr(12,c,o,g|2),s.elementType=P,s.lanes=x,s;case j:return s=yr(13,c,o,g),s.elementType=j,s.lanes=x,s;case ve:return s=yr(19,c,o,g),s.elementType=ve,s.lanes=x,s;case ye:return yd(c,g,x,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:T=10;break e;case D:T=9;break e;case U:T=11;break e;case be:T=14;break e;case ie:T=16,f=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=yr(T,c,o,g),o.elementType=s,o.type=f,o.lanes=x,o}function Vo(s,o,c,f){return s=yr(7,s,f,o),s.lanes=c,s}function yd(s,o,c,f){return s=yr(22,s,f,o),s.elementType=ye,s.lanes=c,s.stateNode={isHidden:!1},s}function Qm(s,o,c){return s=yr(6,s,null,o),s.lanes=c,s}function Ym(s,o,c){return o=yr(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function bN(s,o,c,f,g){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pl(0),this.expirationTimes=Pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pl(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Xm(s,o,c,f,g,x,T,M,B){return s=new bN(s,o,c,M,B),o===1?(o=1,x===!0&&(o|=8)):o=0,x=yr(3,null,null,o),s.current=x,x.stateNode=s,x.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},um(x),s}function TN(s,o,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:te,key:f==null?null:""+f,children:s,containerInfo:o,implementation:c}}function u0(s){if(!s)return _i;s=s._reactInternals;e:{if(Cr(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Pn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(Pn(c))return Vv(s,c,o)}return o}function d0(s,o,c,f,g,x,T,M,B){return s=Xm(c,f,!0,s,g,x,T,M,B),s.context=u0(null),c=s.current,f=Nn(),g=Ci(c),x=Fs(f,g),x.callback=o??null,Ti(c,x,g),s.current.lanes=g,Eo(s,g,f),Mn(s,f),s}function vd(s,o,c,f){var g=o.current,x=Nn(),T=Ci(g);return c=u0(c),o.context===null?o.context=c:o.pendingContext=c,o=Fs(x,T),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Ti(g,o,T),s!==null&&(Mr(s,g,T,x),Qu(s,g,T)),T}function xd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function h0(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function Jm(s,o){h0(s,o),(s=s.alternate)&&h0(s,o)}function SN(){return null}var f0=typeof reportError=="function"?reportError:function(s){console.error(s)};function Zm(s){this._internalRoot=s}wd.prototype.render=Zm.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));vd(s,o,null,null)},wd.prototype.unmount=Zm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Mo(function(){vd(null,s,null,null)}),o[Ds]=null}};function wd(s){this._internalRoot=s}wd.prototype.unstable_scheduleHydration=function(s){if(s){var o=Ol();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Kn.length&&o!==0&&o<Kn[c].priority;c++);Kn.splice(c,0,s),c===0&&fa(s)}};function ep(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function _d(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function m0(){}function IN(s,o,c,f,g){if(g){if(typeof f=="function"){var x=f;f=function(){var Y=xd(T);x.call(Y)}}var T=d0(o,f,s,0,null,!1,!1,"",m0);return s._reactRootContainer=T,s[Ds]=T.current,Kl(s.nodeType===8?s.parentNode:s),Mo(),T}for(;g=s.lastChild;)s.removeChild(g);if(typeof f=="function"){var M=f;f=function(){var Y=xd(B);M.call(Y)}}var B=Xm(s,0,!1,null,null,!1,!1,"",m0);return s._reactRootContainer=B,s[Ds]=B.current,Kl(s.nodeType===8?s.parentNode:s),Mo(function(){vd(o,B,c,f)}),B}function Ed(s,o,c,f,g){var x=c._reactRootContainer;if(x){var T=x;if(typeof g=="function"){var M=g;g=function(){var B=xd(T);M.call(B)}}vd(o,T,s,g)}else T=IN(c,o,s,g,f);return xd(T)}Dl=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var c=ut(o.pendingLanes);c!==0&&(jl(o,c|1),Mn(o,Et()),(at&6)===0&&(Ua=Et()+500,Ei()))}break;case 13:Mo(function(){var f=Vs(s,1);if(f!==null){var g=Nn();Mr(f,s,1,g)}}),Jm(s,1)}},da=function(s){if(s.tag===13){var o=Vs(s,134217728);if(o!==null){var c=Nn();Mr(o,s,134217728,c)}Jm(s,134217728)}},Ml=function(s){if(s.tag===13){var o=Ci(s),c=Vs(s,o);if(c!==null){var f=Nn();Mr(c,s,o,f)}Jm(s,o)}},Ol=function(){return it},Ll=function(s,o){var c=it;try{return it=s,o()}finally{it=c}},Ir=function(s,o,c){switch(o){case"input":if(Wt(s,c),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var f=c[o];if(f!==s&&f.form===s.form){var g=Fu(f);if(!g)throw Error(t(90));Se(f),Wt(f,g)}}}break;case"textarea":aa(s,c);break;case"select":o=c.value,o!=null&&qn(s,!!c.multiple,o,!1)}},Mt=Hm,Jt=Mo;var NN={usingClientEntryPoint:!1,Events:[Xl,Na,Fu,Fe,mt,Hm]},dc={findFiberByHostInstance:No,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CN={bundleType:dc.bundleType,version:dc.version,rendererPackageName:dc.rendererPackageName,rendererConfig:dc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=_u(s),s===null?null:s.stateNode},findFiberByHostInstance:dc.findFiberByHostInstance||SN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bd.isDisabled&&bd.supportsFiber)try{vo=bd.inject(CN),Wn=bd}catch{}}return On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NN,On.createPortal=function(s,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ep(o))throw Error(t(200));return TN(s,o,null,c)},On.createRoot=function(s,o){if(!ep(s))throw Error(t(299));var c=!1,f="",g=f0;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=Xm(s,1,!1,null,null,c,!1,f,g),s[Ds]=o.current,Kl(s.nodeType===8?s.parentNode:s),new Zm(o)},On.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=_u(o),s=s===null?null:s.stateNode,s},On.flushSync=function(s){return Mo(s)},On.hydrate=function(s,o,c){if(!_d(o))throw Error(t(200));return Ed(null,s,o,!0,c)},On.hydrateRoot=function(s,o,c){if(!ep(s))throw Error(t(405));var f=c!=null&&c.hydratedSources||null,g=!1,x="",T=f0;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(T=c.onRecoverableError)),o=d0(o,null,s,1,c??null,g,!1,x,T),s[Ds]=o.current,Kl(s),f)for(s=0;s<f.length;s++)c=f[s],g=c._getVersion,g=g(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,g]:o.mutableSourceEagerHydrationData.push(c,g);return new wd(o)},On.render=function(s,o,c){if(!_d(o))throw Error(t(200));return Ed(null,s,o,!1,c)},On.unmountComponentAtNode=function(s){if(!_d(s))throw Error(t(40));return s._reactRootContainer?(Mo(function(){Ed(null,null,s,!1,function(){s._reactRootContainer=null,s[Ds]=null})}),!0):!1},On.unstable_batchedUpdates=Hm,On.unstable_renderSubtreeIntoContainer=function(s,o,c,f){if(!_d(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Ed(s,o,c,!1,f)},On.version="18.3.1-next-f1338f8080-20240426",On}var E0;function H_(){if(E0)return rp.exports;E0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),rp.exports=LN(),rp.exports}var b0;function VN(){if(b0)return Td;b0=1;var n=H_();return Td.createRoot=n.createRoot,Td.hydrateRoot=n.hydrateRoot,Td}var FN=VN();const UN=Ag(FN),zN=()=>{};var T0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},BN=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],u=n[t++],h=n[t++],m=((i&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|u&63)}}return e.join("")},G_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],u=i+1<n.length,h=u?n[i+1]:0,m=i+2<n.length,p=m?n[i+2]:0,v=a>>2,y=(a&3)<<4|h>>4;let _=(h&15)<<2|p>>6,I=p&63;m||(I=64,u||(_=64)),r.push(t[v],t[y],t[_],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(W_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):BN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],h=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const y=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||h==null||p==null||y==null)throw new $N;const _=a<<2|h>>4;if(r.push(_),p!==64){const I=h<<4&240|p>>2;if(r.push(I),y!==64){const A=p<<6&192|y;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class $N extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qN=function(n){const e=W_(n);return G_.encodeByteArray(e,!0)},Zd=function(n){return qN(n).replace(/\./g,"")},K_=function(n){try{return G_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=()=>HN().__FIREBASE_DEFAULTS__,GN=()=>{if(typeof process>"u"||typeof T0>"u")return;const n=T0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},KN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&K_(n[1]);return e&&JSON.parse(e)},Dh=()=>{try{return zN()||WN()||GN()||KN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Q_=n=>{var e,t;return(t=(e=Dh())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},Y_=n=>{const e=Q_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},X_=()=>{var n;return(n=Dh())==null?void 0:n.config},J_=n=>{var e;return(e=Dh())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kg(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Zd(JSON.stringify(t)),Zd(JSON.stringify(u)),""].join(".")}const Tc={};function XN(){const n={prod:[],emulator:[]};for(const e of Object.keys(Tc))Tc[e]?n.emulator.push(e):n.prod.push(e);return n}function JN(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let S0=!1;function Pg(n,e){if(typeof window>"u"||typeof document>"u"||!so(window.location.host)||Tc[n]===e||Tc[n]||S0)return;Tc[n]=e;function t(_){return`__firebase__banner__${_}`}const r="__firebase__banner",a=XN().prod.length>0;function u(){const _=document.getElementById(r);_&&_.remove()}function h(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function m(_,I){_.setAttribute("width","24"),_.setAttribute("id",I),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function p(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{S0=!0,u()},_}function v(_,I){_.setAttribute("id",I),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=JN(r),I=t("text"),A=document.getElementById(I)||document.createElement("span"),N=t("learnmore"),R=document.getElementById(N)||document.createElement("a"),L=t("preprendIcon"),z=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const F=_.element;h(F),v(R,N);const K=p();m(z,L),F.append(z,A,R,K),document.body.appendChild(F)}a?(A.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function eC(){var e;const n=(e=Dh())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function rC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sC(){const n=En();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function iC(){return!eC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oC(){try{return typeof indexedDB=="object"}catch{return!1}}function aC(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="FirebaseError";class Ss extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=lC,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qc.prototype.create)}}class Qc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],u=a?cC(a,r):"Error",h=`${this.serviceName}: ${u} (${i}).`;return new Ss(i,h,r)}}function cC(n,e){return n.replace(uC,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const uC=/\{\$([^}]+)}/g;function dC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ho(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],u=e[i];if(I0(a)&&I0(u)){if(!Ho(a,u))return!1}else if(a!==u)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function I0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function gc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function hC(n,e){const t=new fC(n,e);return t.subscribe.bind(t)}class fC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");mC(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=op),i.error===void 0&&(i.error=op),i.complete===void 0&&(i.complete=op);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function op(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(n){return n&&n._delegate?n._delegate:n}class Qi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new QN;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yC(e))try{this.getOrInitializeService({instanceIdentifier:Uo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Uo){return this.instances.has(e)}getOptions(e=Uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gC(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Uo){return this.component?this.component.multipleInstances?e:Uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gC(n){return n===Uo?void 0:n}function yC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new pC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(et||(et={}));const xC={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},wC=et.INFO,_C={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},EC=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=_C[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jg{constructor(e){this.name=e,this._logLevel=wC,this._logHandler=EC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const bC=(n,e)=>e.some(t=>n instanceof t);let N0,C0;function TC(){return N0||(N0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SC(){return C0||(C0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z_=new WeakMap,Lp=new WeakMap,eE=new WeakMap,ap=new WeakMap,Dg=new WeakMap;function IC(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Bi(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Z_.set(t,n)}).catch(()=>{}),Dg.set(e,n),e}function NC(n){if(Lp.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Lp.set(n,e)}let Vp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Lp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||eE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Bi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function CC(n){Vp=n(Vp)}function AC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(lp(this),e,...t);return eE.set(r,e.sort?e.sort():[e]),Bi(r)}:SC().includes(n)?function(...e){return n.apply(lp(this),e),Bi(Z_.get(this))}:function(...e){return Bi(n.apply(lp(this),e))}}function RC(n){return typeof n=="function"?AC(n):(n instanceof IDBTransaction&&NC(n),bC(n,TC())?new Proxy(n,Vp):n)}function Bi(n){if(n instanceof IDBRequest)return IC(n);if(ap.has(n))return ap.get(n);const e=RC(n);return e!==n&&(ap.set(n,e),Dg.set(e,n)),e}const lp=n=>Dg.get(n);function kC(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const u=indexedDB.open(n,e),h=Bi(u);return r&&u.addEventListener("upgradeneeded",m=>{r(Bi(u.result),m.oldVersion,m.newVersion,Bi(u.transaction),m)}),t&&u.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),h.then(m=>{a&&m.addEventListener("close",()=>a()),i&&m.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const PC=["get","getKey","getAll","getAllKeys","count"],jC=["put","add","delete","clear"],cp=new Map;function A0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(cp.get(e))return cp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=jC.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||PC.includes(t)))return;const a=async function(u,...h){const m=this.transaction(u,i?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),i&&m.done]))[0]};return cp.set(e,a),a}CC(n=>({...n,get:(e,t,r)=>A0(e,t)||n.get(e,t,r),has:(e,t)=>!!A0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(MC(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function MC(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fp="@firebase/app",R0="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=new jg("@firebase/app"),OC="@firebase/app-compat",LC="@firebase/analytics-compat",VC="@firebase/analytics",FC="@firebase/app-check-compat",UC="@firebase/app-check",zC="@firebase/auth",BC="@firebase/auth-compat",$C="@firebase/database",qC="@firebase/data-connect",HC="@firebase/database-compat",WC="@firebase/functions",GC="@firebase/functions-compat",KC="@firebase/installations",QC="@firebase/installations-compat",YC="@firebase/messaging",XC="@firebase/messaging-compat",JC="@firebase/performance",ZC="@firebase/performance-compat",eA="@firebase/remote-config",tA="@firebase/remote-config-compat",nA="@firebase/storage",rA="@firebase/storage-compat",sA="@firebase/firestore",iA="@firebase/ai",oA="@firebase/firestore-compat",aA="firebase",lA="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up="[DEFAULT]",cA={[Fp]:"fire-core",[OC]:"fire-core-compat",[VC]:"fire-analytics",[LC]:"fire-analytics-compat",[UC]:"fire-app-check",[FC]:"fire-app-check-compat",[zC]:"fire-auth",[BC]:"fire-auth-compat",[$C]:"fire-rtdb",[qC]:"fire-data-connect",[HC]:"fire-rtdb-compat",[WC]:"fire-fn",[GC]:"fire-fn-compat",[KC]:"fire-iid",[QC]:"fire-iid-compat",[YC]:"fire-fcm",[XC]:"fire-fcm-compat",[JC]:"fire-perf",[ZC]:"fire-perf-compat",[eA]:"fire-rc",[tA]:"fire-rc-compat",[nA]:"fire-gcs",[rA]:"fire-gcs-compat",[sA]:"fire-fst",[oA]:"fire-fst-compat",[iA]:"fire-vertex","fire-js":"fire-js",[aA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new Map,uA=new Map,zp=new Map;function k0(n,e){try{n.container.addComponent(e)}catch(t){Qs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Wo(n){const e=n.name;if(zp.has(e))return Qs.debug(`There were multiple attempts to register component ${e}.`),!1;zp.set(e,n);for(const t of eh.values())k0(t,n);for(const t of uA.values())k0(t,n);return!0}function Mh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Fn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$i=new Qc("app","Firebase",dA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=lA;function tE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Up,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw $i.create("bad-app-name",{appName:String(i)});if(t||(t=X_()),!t)throw $i.create("no-options");const a=eh.get(i);if(a){if(Ho(t,a.options)&&Ho(r,a.config))return a;throw $i.create("duplicate-app",{appName:i})}const u=new vC(i);for(const m of zp.values())u.addComponent(m);const h=new hA(t,r,u);return eh.set(i,h),h}function Mg(n=Up){const e=eh.get(n);if(!e&&n===Up&&X_())return tE();if(!e)throw $i.create("no-app",{appName:n});return e}function ps(n,e,t){let r=cA[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const u=[`Unable to register library "${r}" with version "${e}":`];i&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qs.warn(u.join(" "));return}Wo(new Qi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="firebase-heartbeat-database",mA=1,jc="firebase-heartbeat-store";let up=null;function nE(){return up||(up=kC(fA,mA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(jc)}catch(t){console.warn(t)}}}}).catch(n=>{throw $i.create("idb-open",{originalErrorMessage:n.message})})),up}async function pA(n){try{const t=(await nE()).transaction(jc),r=await t.objectStore(jc).get(rE(n));return await t.done,r}catch(e){if(e instanceof Ss)Qs.warn(e.message);else{const t=$i.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qs.warn(t.message)}}}async function P0(n,e){try{const r=(await nE()).transaction(jc,"readwrite");await r.objectStore(jc).put(e,rE(n)),await r.done}catch(t){if(t instanceof Ss)Qs.warn(t.message);else{const r=$i.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Qs.warn(r.message)}}}function rE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=1024,yA=30;class vA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new wA(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=j0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>yA){const u=_A(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Qs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=j0(),{heartbeatsToSend:r,unsentEntries:i}=xA(this._heartbeatsCache.heartbeats),a=Zd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Qs.warn(t),""}}}function j0(){return new Date().toISOString().substring(0,10)}function xA(n,e=gA){const t=[];let r=n.slice();for(const i of n){const a=t.find(u=>u.agent===i.agent);if(a){if(a.dates.push(i.date),D0(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),D0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class wA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oC()?aC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await pA(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return P0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return P0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function D0(n){return Zd(JSON.stringify({version:2,heartbeats:n})).length}function _A(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(n){Wo(new Qi("platform-logger",e=>new DC(e),"PRIVATE")),Wo(new Qi("heartbeat",e=>new vA(e),"PRIVATE")),ps(Fp,R0,n),ps(Fp,R0,"esm2020"),ps("fire-js","")}EA("");function sE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bA=sE,iE=new Qc("auth","Firebase",sE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=new jg("@firebase/auth");function TA(n,...e){th.logLevel<=et.WARN&&th.warn(`Auth (${fl}): ${n}`,...e)}function Ud(n,...e){th.logLevel<=et.ERROR&&th.error(`Auth (${fl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(n,...e){throw Lg(n,...e)}function Fr(n,...e){return Lg(n,...e)}function Og(n,e,t){const r={...bA(),[e]:t};return new Qc("auth","Firebase",r).create(e,{appName:n.name})}function Gs(n){return Og(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function SA(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Er(n,"argument-error"),Og(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Lg(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return iE.create(n,...e)}function Ue(n,e,...t){if(!n)throw Lg(e,...t)}function qs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ud(e),new Error(e)}function Ys(n,e){n||qs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function IA(){return M0()==="http:"||M0()==="https:"}function M0(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IA()||nC()||"connection"in navigator)?navigator.onLine:!0}function CA(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ys(t>e,"Short delay should be less than long delay!"),this.isMobile=ZN()||rC()}get(){return NA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(n,e){Ys(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kA=new Xc(3e4,6e4);function io(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function oo(n,e,t,r,i={}){return aE(n,i,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=Yc({key:n.config.apiKey,...u}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:m,...a};return tC()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&so(n.emulatorConfig.host)&&(p.credentials="include"),oE.fetch()(await lE(n,n.config.apiHost,t,h),p)})}async function aE(n,e,t){n._canInitEmulator=!1;const r={...AA,...e};try{const i=new jA(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Sd(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[m,p]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sd(n,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Sd(n,"email-already-in-use",u);if(m==="USER_DISABLED")throw Sd(n,"user-disabled",u);const v=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Og(n,v,p);Er(n,v)}}catch(i){if(i instanceof Ss)throw i;Er(n,"network-request-failed",{message:String(i)})}}async function Jc(n,e,t,r,i={}){const a=await oo(n,e,t,r,i);return"mfaPendingCredential"in a&&Er(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function lE(n,e,t,r){const i=`${e}${t}?${r}`,a=n,u=a.config.emulator?Vg(n.config,i):`${n.config.apiScheme}://${i}`;return RA.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function PA(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Fr(this.auth,"network-request-failed")),kA.get())})}}function Sd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Fr(n,e,r);return i.customData._tokenResponse=t,i}function O0(n){return n!==void 0&&n.enterprise!==void 0}class DA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return PA(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function MA(n,e){return oo(n,"GET","/v2/recaptchaConfig",io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OA(n,e){return oo(n,"POST","/v1/accounts:delete",e)}async function nh(n,e){return oo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LA(n,e=!1){const t=jt(n),r=await t.getIdToken(e),i=Fg(r);Ue(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Sc(dp(i.auth_time)),issuedAtTime:Sc(dp(i.iat)),expirationTime:Sc(dp(i.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function dp(n){return Number(n)*1e3}function Fg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Ud("JWT malformed, contained fewer than 3 sections"),null;try{const i=K_(t);return i?JSON.parse(i):(Ud("Failed to decode base64 JWT payload"),null)}catch(i){return Ud("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function L0(n){const e=Fg(n);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ss&&VA(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function VA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sc(this.lastLoginAt),this.creationTime=Sc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rh(n){var y;const e=n.auth,t=await n.getIdToken(),r=await Dc(n,nh(e,{idToken:t}));Ue(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const a=(y=i.providerUserInfo)!=null&&y.length?cE(i.providerUserInfo):[],u=zA(n.providerData,a),h=n.isAnonymous,m=!(n.email&&i.passwordHash)&&!(u!=null&&u.length),p=h?m:!1,v={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:u,metadata:new $p(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(n,v)}async function UA(n){const e=jt(n);await rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zA(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function cE(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BA(n,e){const t=await aE(n,{},async()=>{const r=Yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,u=await lE(n,i,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:h,body:r};return n.emulatorConfig&&so(n.emulatorConfig.host)&&(m.credentials="include"),oE.fetch()(u,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function $A(n,e){return oo(n,"POST","/v2/accounts:revokeToken",io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):L0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const t=L0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await BA(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,u=new Ya;return r&&(Ue(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(Ue(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),a&&(Ue(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return qs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(n,e){Ue(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Vr{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new FA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new $p(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Dc(this,this.stsTokenManager.getToken(this.auth,e));return Ue(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return LA(this,e)}reload(){return UA(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Vr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await rh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(Gs(this.auth));const e=await this.getIdToken();return await Dc(this,OA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,m=t._redirectEventId??void 0,p=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:y,emailVerified:_,isAnonymous:I,providerData:A,stsTokenManager:N}=t;Ue(y&&N,e,"internal-error");const R=Ya.fromJSON(this.name,N);Ue(typeof y=="string",e,"internal-error"),Pi(r,e.name),Pi(i,e.name),Ue(typeof _=="boolean",e,"internal-error"),Ue(typeof I=="boolean",e,"internal-error"),Pi(a,e.name),Pi(u,e.name),Pi(h,e.name),Pi(m,e.name),Pi(p,e.name),Pi(v,e.name);const L=new Vr({uid:y,auth:e,email:i,emailVerified:_,displayName:r,isAnonymous:I,photoURL:u,phoneNumber:a,tenantId:h,stsTokenManager:R,createdAt:p,lastLoginAt:v});return A&&Array.isArray(A)&&(L.providerData=A.map(z=>({...z}))),m&&(L._redirectEventId=m),L}static async _fromIdTokenResponse(e,t,r=!1){const i=new Ya;i.updateFromServerResponse(t);const a=new Vr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await rh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ue(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?cE(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),h=new Ya;h.updateFromIdToken(r);const m=new Vr({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new $p(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=new Map;function Hs(n){Ys(n instanceof Function,"Expected a class definition");let e=V0.get(n);return e?(Ys(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,V0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}uE.type="NONE";const F0=uE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(n,e,t){return`firebase:${n}:${e}:${t}`}class Xa{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=zd(this.userKey,i.apiKey,a),this.fullPersistenceKey=zd("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await nh(this.auth,{idToken:e}).catch(()=>{});return t?Vr._fromGetAccountInfoResponse(this.auth,t,e):null}return Vr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Xa(Hs(F0),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||Hs(F0);const u=zd(r,e.config.apiKey,e.name);let h=null;for(const p of t)try{const v=await p._get(u);if(v){let y;if(typeof v=="string"){const _=await nh(e,{idToken:v}).catch(()=>{});if(!_)break;y=await Vr._fromGetAccountInfoResponse(e,_,v)}else y=Vr._fromJSON(e,v);p!==a&&(h=y),a=p;break}}catch{}const m=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!m.length?new Xa(a,e,r):(a=m[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new Xa(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gE(e))return"Blackberry";if(yE(e))return"Webos";if(hE(e))return"Safari";if((e.includes("chrome/")||fE(e))&&!e.includes("edge/"))return"Chrome";if(pE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function dE(n=En()){return/firefox\//i.test(n)}function hE(n=En()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fE(n=En()){return/crios\//i.test(n)}function mE(n=En()){return/iemobile/i.test(n)}function pE(n=En()){return/android/i.test(n)}function gE(n=En()){return/blackberry/i.test(n)}function yE(n=En()){return/webos/i.test(n)}function Ug(n=En()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function qA(n=En()){var e;return Ug(n)&&!!((e=window.navigator)!=null&&e.standalone)}function HA(){return sC()&&document.documentMode===10}function vE(n=En()){return Ug(n)||pE(n)||yE(n)||gE(n)||/windows phone/i.test(n)||mE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(n,e=[]){let t;switch(n){case"Browser":t=U0(En());break;case"Worker":t=`${U0(En())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${fl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,h)=>{try{const m=e(a);u(m)}catch(m){h(m)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GA(n,e={}){return oo(n,"GET","/v2/passwordPolicy",io(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=6;class QA{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??KA,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z0(this),this.idTokenSubscription=new z0(this),this.beforeStateQueue=new WA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Hs(t)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Xa.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await nh(this,{idToken:e}),r=await Vr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Fn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(a=this.redirectUser)==null?void 0:a._redirectEventId,h=r==null?void 0:r._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&(m!=null&&m.user)&&(r=m.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await rh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fn(this.app))return Promise.reject(Gs(this));const t=e?jt(e):null;return t&&Ue(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(Gs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fn(this.app)?Promise.reject(Gs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GA(this),t=new QA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await $A(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Hs(e)||this._popupRedirectResolver;Ue(t,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[Hs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,r,i);return()=>{u=!0,m()}}else{const m=e.addObserver(t);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&TA(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ao(n){return jt(n)}class z0{constructor(e){this.auth=e,this.observer=null,this.addObserver=hC(t=>this.observer=t)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XA(n){Oh=n}function wE(n){return Oh.loadJS(n)}function JA(){return Oh.recaptchaEnterpriseScript}function ZA(){return Oh.gapiScript}function eR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class tR{constructor(){this.enterprise=new nR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class nR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const rR="recaptcha-enterprise",_E="NO_RECAPTCHA";class sR{constructor(e){this.type=rR,this.auth=ao(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{MA(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new DA(m);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,u(p.siteKey)}}).catch(m=>{h(m)})})}function i(a,u,h){const m=window.grecaptcha;O0(m)?m.enterprise.ready(()=>{m.enterprise.execute(a,{action:e}).then(p=>{u(p)}).catch(()=>{u(_E)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tR().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(h=>{if(!t&&O0(window.grecaptcha))i(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=JA();m.length!==0&&(m+=h),wE(m).then(()=>{i(h,a,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function B0(n,e,t,r=!1,i=!1){const a=new sR(n);let u;if(i)u=_E;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const m=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const m=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function qp(n,e,t,r,i){var a;if((a=n._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await B0(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await B0(n,e,t,t==="getOobCode");return r(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(n,e){const t=Mh(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(Ho(a,e??{}))return i;Er(i,"already-initialized")}return t.initialize({options:e})}function oR(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Hs);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function aR(n,e,t){const r=ao(n);Ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=EE(e),{host:u,port:h}=lR(e),m=h===null?"":`:${h}`,p={url:`${a}//${u}${m}/`},v=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ue(Ho(p,r.config.emulator)&&Ho(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,so(u)?(kg(`${a}//${u}${m}`),Pg("Auth",!0)):cR()}function EE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function lR(n){const e=EE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:$0(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:$0(u)}}}function $0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function cR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return qs("not implemented")}_getIdTokenResponse(e){return qs("not implemented")}_linkToIdToken(e,t){return qs("not implemented")}_getReauthenticationResolver(e){return qs("not implemented")}}async function uR(n,e){return oo(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(n,e){return Jc(n,"POST","/v1/accounts:signInWithPassword",io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR(n,e){return Jc(n,"POST","/v1/accounts:signInWithEmailLink",io(n,e))}async function fR(n,e){return Jc(n,"POST","/v1/accounts:signInWithEmailLink",io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends zg{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Mc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Mc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qp(e,t,"signInWithPassword",dR);case"emailLink":return hR(e,{email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qp(e,r,"signUpPassword",uR);case"emailLink":return fR(e,{idToken:t,email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(n,e){return Jc(n,"POST","/v1/accounts:signInWithIdp",io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="http://localhost";class Go extends zg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Go(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Er("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=t;if(!r||!i)return null;const u=new Go(r,i);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ja(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ja(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ja(e,t)}buildRequest(){const e={requestUri:mR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Yc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gR(n){const e=pc(gc(n)).link,t=e?pc(gc(e)).deep_link_id:null,r=pc(gc(n)).deep_link_id;return(r?pc(gc(r)).link:null)||r||t||e||n}class Bg{constructor(e){const t=pc(gc(e)),r=t.apiKey??null,i=t.oobCode??null,a=pR(t.mode??null);Ue(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=gR(e);try{return new Bg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(){this.providerId=ml.PROVIDER_ID}static credential(e,t){return Mc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Bg.parseLink(t);return Ue(r,"argument-error"),Mc._fromEmailAndCode(e,r.code,r.tenantId)}}ml.PROVIDER_ID="password";ml.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ml.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc extends $g{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Zc{constructor(){super("facebook.com")}static credential(e){return Go._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends Zc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Go._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return $s.credential(t,r)}catch{return null}}}$s.GOOGLE_SIGN_IN_METHOD="google.com";$s.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Zc{constructor(){super("github.com")}static credential(e){return Go._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.GITHUB_SIGN_IN_METHOD="github.com";Oi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Zc{constructor(){super("twitter.com")}static credential(e,t){return Go._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Li.credential(t,r)}catch{return null}}}Li.TWITTER_SIGN_IN_METHOD="twitter.com";Li.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(n,e){return Jc(n,"POST","/v1/accounts:signUp",io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await Vr._fromIdTokenResponse(e,r,i),u=q0(r);return new Ko({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=q0(r);return new Ko({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function q0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends Ss{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new sh(e,t,r,i)}}function bE(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(n,a,e,r):a})}async function vR(n,e,t=!1){const r=await Dc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ko._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR(n,e,t=!1){const{auth:r}=n;if(Fn(r.app))return Promise.reject(Gs(r));const i="reauthenticate";try{const a=await Dc(n,bE(r,i,e,n),t);Ue(a.idToken,r,"internal-error");const u=Fg(a.idToken);Ue(u,r,"internal-error");const{sub:h}=u;return Ue(n.uid===h,r,"user-mismatch"),Ko._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Er(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TE(n,e,t=!1){if(Fn(n.app))return Promise.reject(Gs(n));const r="signIn",i=await bE(n,r,e),a=await Ko._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}async function wR(n,e){return TE(ao(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SE(n){const e=ao(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _R(n,e,t){if(Fn(n.app))return Promise.reject(Gs(n));const r=ao(n),u=await qp(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yR).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&SE(n),m}),h=await Ko._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function ER(n,e,t){return Fn(n.app)?Promise.reject(Gs(n)):wR(jt(n),ml.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&SE(n),r})}function bR(n,e,t,r){return jt(n).onIdTokenChanged(e,t,r)}function TR(n,e,t){return jt(n).beforeAuthStateChanged(e,t)}function SR(n,e,t,r){return jt(n).onAuthStateChanged(e,t,r)}function IR(n){return jt(n).signOut()}const ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=1e3,CR=10;class NE extends IE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,m)=>{this.notifyListeners(u,m)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);HA()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,CR):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},NR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}NE.type="LOCAL";const AR=NE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE extends IE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}CE.type="SESSION";const AE=CE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Lh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(u).map(async p=>p(t.origin,a)),m=await RR(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,u;return new Promise((h,m)=>{const p=qg("",20);i.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(y){const _=y;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(_.data.response);break;default:clearTimeout(v),clearTimeout(a),m(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(){return window}function PR(n){gs().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(){return typeof gs().WorkerGlobalScope<"u"&&typeof gs().importScripts=="function"}async function jR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DR(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function MR(){return RE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="firebaseLocalStorageDb",OR=1,oh="firebaseLocalStorage",PE="fbase_key";class eu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Vh(n,e){return n.transaction([oh],e?"readwrite":"readonly").objectStore(oh)}function LR(){const n=indexedDB.deleteDatabase(kE);return new eu(n).toPromise()}function Hp(){const n=indexedDB.open(kE,OR);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(oh,{keyPath:PE})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(oh)?e(r):(r.close(),await LR(),e(await Hp()))})})}async function H0(n,e,t){const r=Vh(n,!0).put({[PE]:e,value:t});return new eu(r).toPromise()}async function VR(n,e){const t=Vh(n,!1).get(e),r=await new eu(t).toPromise();return r===void 0?null:r.value}function W0(n,e){const t=Vh(n,!0).delete(e);return new eu(t).toPromise()}const FR=800,UR=3;class jE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>UR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lh._getInstance(MR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await jR(),!this.activeServiceWorker)return;this.sender=new kR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hp();return await H0(e,ih,"1"),await W0(e,ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>H0(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>VR(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>W0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Vh(i,!1).getAll();return new eu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jE.type="LOCAL";const zR=jE;new Xc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(n,e){return e?Hs(e):(Ue(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg extends zg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ja(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ja(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function BR(n){return TE(n.auth,new Hg(n),n.bypassAuthState)}function $R(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),xR(t,new Hg(n),n.bypassAuthState)}async function qR(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),vR(t,new Hg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BR;case"linkViaPopup":case"linkViaRedirect":return qR;case"reauthViaPopup":case"reauthViaRedirect":return $R;default:Er(this.auth,"internal-error")}}resolve(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=new Xc(2e3,1e4);async function WR(n,e,t){if(Fn(n.app))return Promise.reject(Fr(n,"operation-not-supported-in-this-environment"));const r=ao(n);SA(n,e,$g);const i=DE(r,t);return new zo(r,"signInViaPopup",e,i).executeNotNull()}class zo extends ME{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,zo.currentPopupAction&&zo.currentPopupAction.cancel(),zo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){Ys(this.filter.length===1,"Popup operations only handle one event");const e=qg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HR.get())};e()}}zo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="pendingRedirect",Bd=new Map;class KR extends ME{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Bd.get(this.auth._key());if(!e){try{const r=await QR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Bd.set(this.auth._key(),e)}return this.bypassAuthState||Bd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QR(n,e){const t=JR(e),r=XR(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function YR(n,e){Bd.set(n._key(),e)}function XR(n){return Hs(n._redirectPersistence)}function JR(n){return zd(GR,n.config.apiKey,n.name)}async function ZR(n,e,t=!1){if(Fn(n.app))return Promise.reject(Gs(n));const r=ao(n),i=DE(r,e),u=await new KR(r,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=600*1e3;class t2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!n2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!OE(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError(Fr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=e2&&this.cachedEventUids.clear(),this.cachedEventUids.has(G0(e))}saveEventToCache(e){this.cachedEventUids.add(G0(e)),this.lastProcessedEventTime=Date.now()}}function G0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function OE({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function n2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r2(n,e={}){return oo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i2=/^https?/;async function o2(n){if(n.config.emulator)return;const{authorizedDomains:e}=await r2(n);for(const t of e)try{if(a2(t))return}catch{}Er(n,"unauthorized-domain")}function a2(n){const e=Bp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!i2.test(t))return!1;if(s2.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=new Xc(3e4,6e4);function K0(){const n=gs().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function c2(n){return new Promise((e,t)=>{var i,a,u;function r(){K0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{K0(),t(Fr(n,"network-request-failed"))},timeout:l2.get()})}if((a=(i=gs().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((u=gs().gapi)!=null&&u.load)r();else{const h=eR("iframefcb");return gs()[h]=()=>{gapi.load?r():t(Fr(n,"network-request-failed"))},wE(`${ZA()}?onload=${h}`).catch(m=>t(m))}}).catch(e=>{throw $d=null,e})}let $d=null;function u2(n){return $d=$d||c2(n),$d}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=new Xc(5e3,15e3),h2="__/auth/iframe",f2="emulator/auth/iframe",m2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g2(n){const e=n.config;Ue(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Vg(e,f2):`https://${n.config.authDomain}/${h2}`,r={apiKey:e.apiKey,appName:n.name,v:fl},i=p2.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Yc(r).slice(1)}`}async function y2(n){const e=await u2(n),t=gs().gapi;return Ue(t,n,"internal-error"),e.open({where:document.body,url:g2(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:m2,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const u=Fr(n,"network-request-failed"),h=gs().setTimeout(()=>{a(u)},d2.get());function m(){gs().clearTimeout(h),i(r)}r.ping(m).then(m,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},x2=500,w2=600,_2="_blank",E2="http://localhost";class Q0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function b2(n,e,t,r=x2,i=w2){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const m={...v2,width:r.toString(),height:i.toString(),top:a,left:u},p=En().toLowerCase();t&&(h=fE(p)?_2:t),dE(p)&&(e=e||E2,m.scrollbars="yes");const v=Object.entries(m).reduce((_,[I,A])=>`${_}${I}=${A},`,"");if(qA(p)&&h!=="_self")return T2(e||"",h),new Q0(null);const y=window.open(e||"",h,v);Ue(y,n,"popup-blocked");try{y.focus()}catch{}return new Q0(y)}function T2(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="__/auth/handler",I2="emulator/auth/handler",N2=encodeURIComponent("fac");async function Y0(n,e,t,r,i,a){Ue(n.config.authDomain,n,"auth-domain-config-required"),Ue(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:fl,eventId:i};if(e instanceof $g){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",dC(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,y]of Object.entries({}))u[v]=y}if(e instanceof Zc){const v=e.getScopes().filter(y=>y!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const m=await n._getAppCheckToken(),p=m?`#${N2}=${encodeURIComponent(m)}`:"";return`${C2(n)}?${Yc(h).slice(1)}${p}`}function C2({config:n}){return n.emulator?Vg(n,I2):`https://${n.authDomain}/${S2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp="webStorageSupport";class A2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AE,this._completeRedirectFn=ZR,this._overrideRedirectResult=YR}async _openPopup(e,t,r,i){var u;Ys((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const a=await Y0(e,t,r,Bp(),i);return b2(e,a,qg())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await Y0(e,t,r,Bp(),i);return PR(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Ys(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await y2(e),r=new t2(e);return t.register("authEvent",i=>(Ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hp,{type:hp},i=>{var u;const a=(u=i==null?void 0:i[0])==null?void 0:u[hp];a!==void 0&&t(!!a),Er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=o2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return vE()||hE()||Ug()}}const R2=A2;var X0="@firebase/auth",J0="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function j2(n){Wo(new Qi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Ue(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xE(n)},p=new YA(r,i,a,m);return oR(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Wo(new Qi("auth-internal",e=>{const t=ao(e.getProvider("auth").getImmediate());return(r=>new k2(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ps(X0,J0,P2(n)),ps(X0,J0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=300,M2=J_("authIdTokenMaxAge")||D2;let Z0=null;const O2=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>M2)return;const i=t==null?void 0:t.token;Z0!==i&&(Z0=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function L2(n=Mg()){const e=Mh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=iR(n,{popupRedirectResolver:R2,persistence:[zR,AR,AE]}),r=J_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=O2(a.toString());TR(t,u,()=>u(t.currentUser)),bR(t,h=>u(h))}}const i=Q_("auth");return i&&aR(t,`http://${i}`),t}function V2(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}XA({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=Fr("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",V2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});j2("Browser");var ew=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qi,LE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,S){function P(){}P.prototype=S.prototype,C.F=S.prototype,C.prototype=new P,C.prototype.constructor=C,C.D=function(O,D,U){for(var j=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)j[ve-2]=arguments[ve];return S.prototype[D].apply(O,j)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,S,P){P||(P=0);const O=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)O[D]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(D=0;D<16;++D)O[D]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=C.g[0],P=C.g[1],D=C.g[2];let U=C.g[3],j;j=S+(U^P&(D^U))+O[0]+3614090360&4294967295,S=P+(j<<7&4294967295|j>>>25),j=U+(D^S&(P^D))+O[1]+3905402710&4294967295,U=S+(j<<12&4294967295|j>>>20),j=D+(P^U&(S^P))+O[2]+606105819&4294967295,D=U+(j<<17&4294967295|j>>>15),j=P+(S^D&(U^S))+O[3]+3250441966&4294967295,P=D+(j<<22&4294967295|j>>>10),j=S+(U^P&(D^U))+O[4]+4118548399&4294967295,S=P+(j<<7&4294967295|j>>>25),j=U+(D^S&(P^D))+O[5]+1200080426&4294967295,U=S+(j<<12&4294967295|j>>>20),j=D+(P^U&(S^P))+O[6]+2821735955&4294967295,D=U+(j<<17&4294967295|j>>>15),j=P+(S^D&(U^S))+O[7]+4249261313&4294967295,P=D+(j<<22&4294967295|j>>>10),j=S+(U^P&(D^U))+O[8]+1770035416&4294967295,S=P+(j<<7&4294967295|j>>>25),j=U+(D^S&(P^D))+O[9]+2336552879&4294967295,U=S+(j<<12&4294967295|j>>>20),j=D+(P^U&(S^P))+O[10]+4294925233&4294967295,D=U+(j<<17&4294967295|j>>>15),j=P+(S^D&(U^S))+O[11]+2304563134&4294967295,P=D+(j<<22&4294967295|j>>>10),j=S+(U^P&(D^U))+O[12]+1804603682&4294967295,S=P+(j<<7&4294967295|j>>>25),j=U+(D^S&(P^D))+O[13]+4254626195&4294967295,U=S+(j<<12&4294967295|j>>>20),j=D+(P^U&(S^P))+O[14]+2792965006&4294967295,D=U+(j<<17&4294967295|j>>>15),j=P+(S^D&(U^S))+O[15]+1236535329&4294967295,P=D+(j<<22&4294967295|j>>>10),j=S+(D^U&(P^D))+O[1]+4129170786&4294967295,S=P+(j<<5&4294967295|j>>>27),j=U+(P^D&(S^P))+O[6]+3225465664&4294967295,U=S+(j<<9&4294967295|j>>>23),j=D+(S^P&(U^S))+O[11]+643717713&4294967295,D=U+(j<<14&4294967295|j>>>18),j=P+(U^S&(D^U))+O[0]+3921069994&4294967295,P=D+(j<<20&4294967295|j>>>12),j=S+(D^U&(P^D))+O[5]+3593408605&4294967295,S=P+(j<<5&4294967295|j>>>27),j=U+(P^D&(S^P))+O[10]+38016083&4294967295,U=S+(j<<9&4294967295|j>>>23),j=D+(S^P&(U^S))+O[15]+3634488961&4294967295,D=U+(j<<14&4294967295|j>>>18),j=P+(U^S&(D^U))+O[4]+3889429448&4294967295,P=D+(j<<20&4294967295|j>>>12),j=S+(D^U&(P^D))+O[9]+568446438&4294967295,S=P+(j<<5&4294967295|j>>>27),j=U+(P^D&(S^P))+O[14]+3275163606&4294967295,U=S+(j<<9&4294967295|j>>>23),j=D+(S^P&(U^S))+O[3]+4107603335&4294967295,D=U+(j<<14&4294967295|j>>>18),j=P+(U^S&(D^U))+O[8]+1163531501&4294967295,P=D+(j<<20&4294967295|j>>>12),j=S+(D^U&(P^D))+O[13]+2850285829&4294967295,S=P+(j<<5&4294967295|j>>>27),j=U+(P^D&(S^P))+O[2]+4243563512&4294967295,U=S+(j<<9&4294967295|j>>>23),j=D+(S^P&(U^S))+O[7]+1735328473&4294967295,D=U+(j<<14&4294967295|j>>>18),j=P+(U^S&(D^U))+O[12]+2368359562&4294967295,P=D+(j<<20&4294967295|j>>>12),j=S+(P^D^U)+O[5]+4294588738&4294967295,S=P+(j<<4&4294967295|j>>>28),j=U+(S^P^D)+O[8]+2272392833&4294967295,U=S+(j<<11&4294967295|j>>>21),j=D+(U^S^P)+O[11]+1839030562&4294967295,D=U+(j<<16&4294967295|j>>>16),j=P+(D^U^S)+O[14]+4259657740&4294967295,P=D+(j<<23&4294967295|j>>>9),j=S+(P^D^U)+O[1]+2763975236&4294967295,S=P+(j<<4&4294967295|j>>>28),j=U+(S^P^D)+O[4]+1272893353&4294967295,U=S+(j<<11&4294967295|j>>>21),j=D+(U^S^P)+O[7]+4139469664&4294967295,D=U+(j<<16&4294967295|j>>>16),j=P+(D^U^S)+O[10]+3200236656&4294967295,P=D+(j<<23&4294967295|j>>>9),j=S+(P^D^U)+O[13]+681279174&4294967295,S=P+(j<<4&4294967295|j>>>28),j=U+(S^P^D)+O[0]+3936430074&4294967295,U=S+(j<<11&4294967295|j>>>21),j=D+(U^S^P)+O[3]+3572445317&4294967295,D=U+(j<<16&4294967295|j>>>16),j=P+(D^U^S)+O[6]+76029189&4294967295,P=D+(j<<23&4294967295|j>>>9),j=S+(P^D^U)+O[9]+3654602809&4294967295,S=P+(j<<4&4294967295|j>>>28),j=U+(S^P^D)+O[12]+3873151461&4294967295,U=S+(j<<11&4294967295|j>>>21),j=D+(U^S^P)+O[15]+530742520&4294967295,D=U+(j<<16&4294967295|j>>>16),j=P+(D^U^S)+O[2]+3299628645&4294967295,P=D+(j<<23&4294967295|j>>>9),j=S+(D^(P|~U))+O[0]+4096336452&4294967295,S=P+(j<<6&4294967295|j>>>26),j=U+(P^(S|~D))+O[7]+1126891415&4294967295,U=S+(j<<10&4294967295|j>>>22),j=D+(S^(U|~P))+O[14]+2878612391&4294967295,D=U+(j<<15&4294967295|j>>>17),j=P+(U^(D|~S))+O[5]+4237533241&4294967295,P=D+(j<<21&4294967295|j>>>11),j=S+(D^(P|~U))+O[12]+1700485571&4294967295,S=P+(j<<6&4294967295|j>>>26),j=U+(P^(S|~D))+O[3]+2399980690&4294967295,U=S+(j<<10&4294967295|j>>>22),j=D+(S^(U|~P))+O[10]+4293915773&4294967295,D=U+(j<<15&4294967295|j>>>17),j=P+(U^(D|~S))+O[1]+2240044497&4294967295,P=D+(j<<21&4294967295|j>>>11),j=S+(D^(P|~U))+O[8]+1873313359&4294967295,S=P+(j<<6&4294967295|j>>>26),j=U+(P^(S|~D))+O[15]+4264355552&4294967295,U=S+(j<<10&4294967295|j>>>22),j=D+(S^(U|~P))+O[6]+2734768916&4294967295,D=U+(j<<15&4294967295|j>>>17),j=P+(U^(D|~S))+O[13]+1309151649&4294967295,P=D+(j<<21&4294967295|j>>>11),j=S+(D^(P|~U))+O[4]+4149444226&4294967295,S=P+(j<<6&4294967295|j>>>26),j=U+(P^(S|~D))+O[11]+3174756917&4294967295,U=S+(j<<10&4294967295|j>>>22),j=D+(S^(U|~P))+O[2]+718787259&4294967295,D=U+(j<<15&4294967295|j>>>17),j=P+(U^(D|~S))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(D+(j<<21&4294967295|j>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+U&4294967295}r.prototype.v=function(C,S){S===void 0&&(S=C.length);const P=S-this.blockSize,O=this.C;let D=this.h,U=0;for(;U<S;){if(D==0)for(;U<=P;)i(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<S;)if(O[D++]=C.charCodeAt(U++),D==this.blockSize){i(this,O),D=0;break}}else for(;U<S;)if(O[D++]=C[U++],D==this.blockSize){i(this,O),D=0;break}}this.h=D,this.o+=S},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var P=C.length-8;P<C.length;++P)C[P]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,P=0;P<4;++P)for(let O=0;O<32;O+=8)C[S++]=this.g[P]>>>O&255;return C};function a(C,S){var P=h;return Object.prototype.hasOwnProperty.call(P,C)?P[C]:P[C]=S(C)}function u(C,S){this.h=S;const P=[];let O=!0;for(let D=C.length-1;D>=0;D--){const U=C[D]|0;O&&U==S||(P[D]=U,O=!1)}this.g=P}var h={};function m(C){return-128<=C&&C<128?a(C,function(S){return new u([S|0],S<0?-1:0)}):new u([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return y;if(C<0)return R(p(-C));const S=[];let P=1;for(let O=0;C>=P;O++)S[O]=C/P|0,P*=4294967296;return new u(S,0)}function v(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return R(v(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=p(Math.pow(S,8));let O=y;for(let U=0;U<C.length;U+=8){var D=Math.min(8,C.length-U);const j=parseInt(C.substring(U,U+D),S);D<8?(D=p(Math.pow(S,D)),O=O.j(D).add(p(j))):(O=O.j(P),O=O.add(p(j)))}return O}var y=m(0),_=m(1),I=m(16777216);n=u.prototype,n.m=function(){if(N(this))return-R(this).m();let C=0,S=1;for(let P=0;P<this.g.length;P++){const O=this.i(P);C+=(O>=0?O:4294967296+O)*S,S*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(A(this))return"0";if(N(this))return"-"+R(this).toString(C);const S=p(Math.pow(C,6));var P=this;let O="";for(;;){const D=K(P,S).g;P=L(P,D.j(S));let U=((P.g.length>0?P.g[0]:P.h)>>>0).toString(C);if(P=D,A(P))return U+O;for(;U.length<6;)U="0"+U;O=U+O}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function A(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function N(C){return C.h==-1}n.l=function(C){return C=L(this,C),N(C)?-1:A(C)?0:1};function R(C){const S=C.g.length,P=[];for(let O=0;O<S;O++)P[O]=~C.g[O];return new u(P,~C.h).add(_)}n.abs=function(){return N(this)?R(this):this},n.add=function(C){const S=Math.max(this.g.length,C.g.length),P=[];let O=0;for(let D=0;D<=S;D++){let U=O+(this.i(D)&65535)+(C.i(D)&65535),j=(U>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);O=j>>>16,U&=65535,j&=65535,P[D]=j<<16|U}return new u(P,P[P.length-1]&-2147483648?-1:0)};function L(C,S){return C.add(R(S))}n.j=function(C){if(A(this)||A(C))return y;if(N(this))return N(C)?R(this).j(R(C)):R(R(this).j(C));if(N(C))return R(this.j(R(C)));if(this.l(I)<0&&C.l(I)<0)return p(this.m()*C.m());const S=this.g.length+C.g.length,P=[];for(var O=0;O<2*S;O++)P[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<C.g.length;D++){const U=this.i(O)>>>16,j=this.i(O)&65535,ve=C.i(D)>>>16,be=C.i(D)&65535;P[2*O+2*D]+=j*be,z(P,2*O+2*D),P[2*O+2*D+1]+=U*be,z(P,2*O+2*D+1),P[2*O+2*D+1]+=j*ve,z(P,2*O+2*D+1),P[2*O+2*D+2]+=U*ve,z(P,2*O+2*D+2)}for(C=0;C<S;C++)P[C]=P[2*C+1]<<16|P[2*C];for(C=S;C<2*S;C++)P[C]=0;return new u(P,0)};function z(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function F(C,S){this.g=C,this.h=S}function K(C,S){if(A(S))throw Error("division by zero");if(A(C))return new F(y,y);if(N(C))return S=K(R(C),S),new F(R(S.g),R(S.h));if(N(S))return S=K(C,R(S)),new F(R(S.g),S.h);if(C.g.length>30){if(N(C)||N(S))throw Error("slowDivide_ only works with positive integers.");for(var P=_,O=S;O.l(C)<=0;)P=J(P),O=J(O);var D=te(P,1),U=te(O,1);for(O=te(O,2),P=te(P,2);!A(O);){var j=U.add(O);j.l(C)<=0&&(D=D.add(P),U=j),O=te(O,1),P=te(P,1)}return S=L(C,D.j(S)),new F(D,S)}for(D=y;C.l(S)>=0;){for(P=Math.max(1,Math.floor(C.m()/S.m())),O=Math.ceil(Math.log(P)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),U=p(P),j=U.j(S);N(j)||j.l(C)>0;)P-=O,U=p(P),j=U.j(S);A(U)&&(U=_),D=D.add(U),C=L(C,j)}return new F(D,C)}n.B=function(C){return K(this,C).h},n.and=function(C){const S=Math.max(this.g.length,C.g.length),P=[];for(let O=0;O<S;O++)P[O]=this.i(O)&C.i(O);return new u(P,this.h&C.h)},n.or=function(C){const S=Math.max(this.g.length,C.g.length),P=[];for(let O=0;O<S;O++)P[O]=this.i(O)|C.i(O);return new u(P,this.h|C.h)},n.xor=function(C){const S=Math.max(this.g.length,C.g.length),P=[];for(let O=0;O<S;O++)P[O]=this.i(O)^C.i(O);return new u(P,this.h^C.h)};function J(C){const S=C.g.length+1,P=[];for(let O=0;O<S;O++)P[O]=C.i(O)<<1|C.i(O-1)>>>31;return new u(P,C.h)}function te(C,S){const P=S>>5;S%=32;const O=C.g.length-P,D=[];for(let U=0;U<O;U++)D[U]=S>0?C.i(U+P)>>>S|C.i(U+P+1)<<32-S:C.i(U+P);return new u(D,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,LE=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,qi=u}).apply(typeof ew<"u"?ew:typeof self<"u"?self:typeof window<"u"?window:{});var Id=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var VE,yc,FE,qd,Wp,UE,zE,BE;(function(){var n,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Id=="object"&&Id];for(var w=0;w<d.length;++w){var E=d[w];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function i(d,w){if(w)e:{var E=r;d=d.split(".");for(var k=0;k<d.length-1;k++){var W=d[k];if(!(W in E))break e;E=E[W]}d=d[d.length-1],k=E[d],w=w(k),w!=k&&w!=null&&e(E,d,{configurable:!0,writable:!0,value:w})}}i("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(d){return d||function(w){var E=[],k;for(k in w)Object.prototype.hasOwnProperty.call(w,k)&&E.push([k,w[k]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function h(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function m(d,w,E){return d.call.apply(d.bind,arguments)}function p(d,w,E){return p=m,p.apply(null,arguments)}function v(d,w){var E=Array.prototype.slice.call(arguments,1);return function(){var k=E.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function y(d,w){function E(){}E.prototype=w.prototype,d.Z=w.prototype,d.prototype=new E,d.prototype.constructor=d,d.Ob=function(k,W,X){for(var pe=Array(arguments.length-2),He=2;He<arguments.length;He++)pe[He-2]=arguments[He];return w.prototype[W].apply(k,pe)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function I(d){const w=d.length;if(w>0){const E=Array(w);for(let k=0;k<w;k++)E[k]=d[k];return E}return[]}function A(d,w){for(let k=1;k<arguments.length;k++){const W=arguments[k];var E=typeof W;if(E=E!="object"?E:W?Array.isArray(W)?"array":E:"null",E=="array"||E=="object"&&typeof W.length=="number"){E=d.length||0;const X=W.length||0;d.length=E+X;for(let pe=0;pe<X;pe++)d[E+pe]=W[pe]}else d.push(W)}}class N{constructor(w,E){this.i=w,this.j=E,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function R(d){u.setTimeout(()=>{throw d},0)}function L(){var d=C;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class z{constructor(){this.h=this.g=null}add(w,E){const k=F.get();k.set(w,E),this.h?this.h.next=k:this.g=k,this.h=k}}var F=new N(()=>new K,d=>d.reset());class K{constructor(){this.next=this.g=this.h=null}set(w,E){this.h=w,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let J,te=!1,C=new z,S=()=>{const d=Promise.resolve(void 0);J=()=>{d.then(P)}};function P(){for(var d;d=L();){try{d.h.call(d.g)}catch(E){R(E)}var w=F;w.j(d),w.h<100&&(w.h++,d.next=w.g,w.g=d)}te=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};u.addEventListener("test",E,w),u.removeEventListener("test",E,w)}catch{}return d})();function j(d){return/^[\s\xa0]*$/.test(d)}function ve(d,w){D.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,w)}y(ve,D),ve.prototype.init=function(d,w){const E=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget,w||(E=="mouseover"?w=d.fromElement:E=="mouseout"&&(w=d.toElement)),this.relatedTarget=w,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&ve.Z.h.call(this)},ve.prototype.h=function(){ve.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var be="closure_listenable_"+(Math.random()*1e6|0),ie=0;function ye(d,w,E,k,W){this.listener=d,this.proxy=null,this.src=w,this.type=E,this.capture=!!k,this.ha=W,this.key=++ie,this.da=this.fa=!1}function q(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Z(d,w,E){for(const k in d)w.call(E,d[k],k,d)}function se(d,w){for(const E in d)w.call(void 0,d[E],E,d)}function V(d){const w={};for(const E in d)w[E]=d[E];return w}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(d,w){let E,k;for(let W=1;W<arguments.length;W++){k=arguments[W];for(E in k)d[E]=k[E];for(let X=0;X<Q.length;X++)E=Q[X],Object.prototype.hasOwnProperty.call(k,E)&&(d[E]=k[E])}}function me(d){this.src=d,this.g={},this.h=0}me.prototype.add=function(d,w,E,k,W){const X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);const pe=ue(d,w,k,W);return pe>-1?(w=d[pe],E||(w.fa=!1)):(w=new ye(w,this.src,X,!!k,W),w.fa=E,d.push(w)),w};function de(d,w){const E=w.type;if(E in d.g){var k=d.g[E],W=Array.prototype.indexOf.call(k,w,void 0),X;(X=W>=0)&&Array.prototype.splice.call(k,W,1),X&&(q(w),d.g[E].length==0&&(delete d.g[E],d.h--))}}function ue(d,w,E,k){for(let W=0;W<d.length;++W){const X=d[W];if(!X.da&&X.listener==w&&X.capture==!!E&&X.ha==k)return W}return-1}var ee="closure_lm_"+(Math.random()*1e6|0),ge={};function we(d,w,E,k,W){if(Array.isArray(w)){for(let X=0;X<w.length;X++)we(d,w[X],E,k,W);return null}return E=qr(E),d&&d[be]?d.J(w,E,h(k)?!!k.capture:!1,W):Ae(d,w,E,!1,k,W)}function Ae(d,w,E,k,W,X){if(!w)throw Error("Invalid event type");const pe=h(W)?!!W.capture:!!W;let He=bn(d);if(He||(d[ee]=He=new me(d)),E=He.add(w,E,k,pe,X),E.proxy)return E;if(k=$e(),E.proxy=k,k.src=d,k.listener=E,d.addEventListener)U||(W=pe),W===void 0&&(W=!1),d.addEventListener(w.toString(),k,W);else if(d.attachEvent)d.attachEvent(Dt(w.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return E}function $e(){function d(E){return w.call(d.src,d.listener,E)}const w=or;return d}function Se(d,w,E,k,W){if(Array.isArray(w))for(var X=0;X<w.length;X++)Se(d,w[X],E,k,W);else k=h(k)?!!k.capture:!!k,E=qr(E),d&&d[be]?(d=d.i,X=String(w).toString(),X in d.g&&(w=d.g[X],E=ue(w,E,k,W),E>-1&&(q(w[E]),Array.prototype.splice.call(w,E,1),w.length==0&&(delete d.g[X],d.h--)))):d&&(d=bn(d))&&(w=d.g[w.toString()],d=-1,w&&(d=ue(w,E,k,W)),(E=d>-1?w[d]:null)&&dt(E))}function dt(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[be])de(w.i,d);else{var E=d.type,k=d.proxy;w.removeEventListener?w.removeEventListener(E,k,d.capture):w.detachEvent?w.detachEvent(Dt(E),k):w.addListener&&w.removeListener&&w.removeListener(k),(E=bn(w))?(de(E,d),E.h==0&&(E.src=null,w[ee]=null)):q(d)}}}function Dt(d){return d in ge?ge[d]:ge[d]="on"+d}function or(d,w){if(d.da)d=!0;else{w=new ve(w,this);const E=d.listener,k=d.ha||d.src;d.fa&&dt(d),d=E.call(k,w)}return d}function bn(d){return d=d[ee],d instanceof me?d:null}var Wt="__closure_events_fn_"+(Math.random()*1e9>>>0);function qr(d){return typeof d=="function"?d:(d[Wt]||(d[Wt]=function(w){return d.handleEvent(w)}),d[Wt])}function st(){O.call(this),this.i=new me(this),this.M=this,this.G=null}y(st,O),st.prototype[be]=!0,st.prototype.removeEventListener=function(d,w,E,k){Se(this,d,w,E,k)};function It(d,w){var E,k=d.G;if(k)for(E=[];k;k=k.G)E.push(k);if(d=d.M,k=w.type||w,typeof w=="string")w=new D(w,d);else if(w instanceof D)w.target=w.target||d;else{var W=w;w=new D(k,d),ce(w,W)}W=!0;let X,pe;if(E)for(pe=E.length-1;pe>=0;pe--)X=w.g=E[pe],W=qn(X,k,!0,w)&&W;if(X=w.g=d,W=qn(X,k,!0,w)&&W,W=qn(X,k,!1,w)&&W,E)for(pe=0;pe<E.length;pe++)X=w.g=E[pe],W=qn(X,k,!1,w)&&W}st.prototype.N=function(){if(st.Z.N.call(this),this.i){var d=this.i;for(const w in d.g){const E=d.g[w];for(let k=0;k<E.length;k++)q(E[k]);delete d.g[w],d.h--}}this.G=null},st.prototype.J=function(d,w,E,k){return this.i.add(String(d),w,!1,E,k)},st.prototype.K=function(d,w,E,k){return this.i.add(String(d),w,!0,E,k)};function qn(d,w,E,k){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();let W=!0;for(let X=0;X<w.length;++X){const pe=w[X];if(pe&&!pe.da&&pe.capture==E){const He=pe.listener,Ot=pe.ha||pe.src;pe.fa&&de(d.i,pe),W=He.call(Ot,k)!==!1&&W}}return W&&!k.defaultPrevented}function Gt(d,w){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:u.setTimeout(d,w||0)}function ar(d){d.g=Gt(()=>{d.g=null,d.i&&(d.i=!1,ar(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class aa extends O{constructor(w,E){super(),this.m=w,this.l=E,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:ar(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hr(d){O.call(this),this.h=d,this.g={}}y(Hr,O);var Wr=[];function oi(d){Z(d.g,function(w,E){this.g.hasOwnProperty(E)&&dt(w)},d),d.g={}}Hr.prototype.N=function(){Hr.Z.N.call(this),oi(this)},Hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var br=u.JSON.stringify,ai=u.JSON.parse,An=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function Tr(){}function Sr(){}var Gr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function li(){D.call(this,"d")}y(li,D);function ci(){D.call(this,"c")}y(ci,D);var Rn={},ui=null;function lr(){return ui=ui||new st}Rn.Ia="serverreachability";function Tn(d){D.call(this,Rn.Ia,d)}y(Tn,D);function Ir(d){const w=lr();It(w,new Tn(w))}Rn.STAT_EVENT="statevent";function Nr(d,w){D.call(this,Rn.STAT_EVENT,d),this.stat=w}y(Nr,D);function _t(d){const w=lr();It(w,new Nr(w,d))}Rn.Ja="timingevent";function di(d,w){D.call(this,Rn.Ja,d),this.size=w}y(di,D);function Fe(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},w)}function mt(){this.g=!0}mt.prototype.ua=function(){this.g=!1};function Mt(d,w,E,k,W,X){d.info(function(){if(d.g)if(X){var pe="",He=X.split("&");for(let ft=0;ft<He.length;ft++){var Ot=He[ft].split("=");if(Ot.length>1){const zt=Ot[0];Ot=Ot[1];const Xn=zt.split("_");pe=Xn.length>=2&&Xn[1]=="type"?pe+(zt+"="+Ot+"&"):pe+(zt+"=redacted&")}}}else pe=null;else pe=X;return"XMLHTTP REQ ("+k+") [attempt "+W+"]: "+w+`
`+E+`
`+pe})}function Jt(d,w,E,k,W,X,pe){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+W+"]: "+w+`
`+E+`
`+X+" "+pe})}function Sn(d,w,E,k){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+Ft(d,E)+(k?" "+k:"")})}function Rt(d,w){d.info(function(){return"TIMEOUT: "+w})}mt.prototype.info=function(){};function Ft(d,w){if(!d.g)return w;if(!w)return null;try{const X=JSON.parse(w);if(X){for(d=0;d<X.length;d++)if(Array.isArray(X[d])){var E=X[d];if(!(E.length<2)){var k=E[1];if(Array.isArray(k)&&!(k.length<1)){var W=k[0];if(W!="noop"&&W!="stop"&&W!="close")for(let pe=1;pe<k.length;pe++)k[pe]=""}}}}return br(X)}catch{return w}}var Hn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ut={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fn;function cr(){}y(cr,Tr),cr.prototype.g=function(){return new XMLHttpRequest},fn=new cr;function Zt(d){return encodeURIComponent(String(d))}function mo(d){var w=1;d=d.split(":");const E=[];for(;w>0&&d.length;)E.push(d.shift()),w--;return d.length&&E.push(d.join(":")),E}function ur(d,w,E,k){this.j=d,this.i=w,this.l=E,this.S=k||1,this.V=new Hr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new yu}function yu(){this.i=null,this.g="",this.h=!1}var vu={},Sl={};function Cr(d,w,E){d.M=1,d.A=Cs(dr(w)),d.u=E,d.R=!0,Il(d,null)}function Il(d,w){d.F=Date.now(),po(d),d.B=dr(d.A);var E=d.B,k=d.S;Array.isArray(k)||(k=[String(k)]),Ol(E.i,"t",k),d.C=0,E=d.j.L,d.h=new yu,d.g=Cu(d.j,E?w:null,!d.u),d.P>0&&(d.O=new aa(p(d.Y,d,d.g),d.P)),w=d.V,E=d.g,k=d.ba;var W="readystatechange";Array.isArray(W)||(W&&(Wr[0]=W.toString()),W=Wr);for(let X=0;X<W.length;X++){const pe=we(E,W[X],k||w.handleEvent,!1,w.h||w);if(!pe)break;w.g[pe.key]=pe}w=d.J?V(d.J):{},d.u?(d.v||(d.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,w)):(d.v="GET",d.g.ea(d.B,d.v,null,w)),Ir(),Mt(d.i,d.v,d.B,d.l,d.S,d.u)}ur.prototype.ba=function(d){d=d.target;const w=this.O;w&&es(d)==3?w.j():this.Y(d)},ur.prototype.Y=function(d){try{if(d==this.g)e:{const He=es(this.g),Ot=this.g.ya(),ft=this.g.ca();if(!(He<3)&&(He!=3||this.g&&(this.h.h||this.g.la()||Iu(this.g)))){this.K||He!=4||Ot==7||(Ot==8||ft<=0?Ir(3):Ir(2)),la(this);var w=this.g.ca();this.X=w;var E=xu(this);if(this.o=w==200,Jt(this.i,this.v,this.B,this.l,this.S,He,w),this.o){if(this.U&&!this.L){t:{if(this.g){var k,W=this.g;if((k=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(k)){var X=k;break t}}X=null}if(d=X)Sn(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Et(this,d);else{this.o=!1,this.m=3,_t(12),Ns(this),go(this);break e}}if(this.R){d=!0;let zt;for(;!this.K&&this.C<E.length;)if(zt=_u(this,E),zt==Sl){He==4&&(this.m=4,_t(14),d=!1),Sn(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==vu){this.m=4,_t(15),Sn(this.i,this.l,E,"[Invalid Chunk]"),d=!1;break}else Sn(this.i,this.l,zt,null),Et(this,zt);if(wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),He!=4||E.length!=0||this.h.h||(this.m=1,_t(16),d=!1),this.o=this.o&&d,!d)Sn(this.i,this.l,E,"[Invalid Chunked Response]"),Ns(this),go(this);else if(E.length>0&&!this.W){this.W=!0;var pe=this.j;pe.g==this&&pe.aa&&!pe.P&&(pe.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),So(pe),pe.P=!0,_t(11))}}else Sn(this.i,this.l,E,null),Et(this,E);He==4&&Ns(this),this.o&&!this.K&&(He==4?va(this.j,this):(this.o=!1,po(this)))}else Vl(this.g),w==400&&E.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),Ns(this),go(this)}}}catch{}finally{}};function xu(d){if(!wu(d))return d.g.la();const w=Iu(d.g);if(w==="")return"";let E="";const k=w.length,W=es(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Ns(d),go(d),"";d.h.i=new u.TextDecoder}for(let X=0;X<k;X++)d.h.h=!0,E+=d.h.i.decode(w[X],{stream:!(W&&X==k-1)});return w.length=0,d.h.g+=E,d.C=0,d.h.g}function wu(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function _u(d,w){var E=d.C,k=w.indexOf(`
`,E);return k==-1?Sl:(E=Number(w.substring(E,k)),isNaN(E)?vu:(k+=1,k+E>w.length?Sl:(w=w.slice(k,k+E),d.C=k+E,w)))}ur.prototype.cancel=function(){this.K=!0,Ns(this)};function po(d){d.T=Date.now()+d.H,Nl(d,d.H)}function Nl(d,w){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Fe(p(d.aa,d),w)}function la(d){d.D&&(u.clearTimeout(d.D),d.D=null)}ur.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Rt(this.i,this.B),this.M!=2&&(Ir(),_t(17)),Ns(this),this.m=2,go(this)):Nl(this,this.T-d)};function go(d){d.j.I==0||d.K||va(d.j,d)}function Ns(d){la(d);var w=d.O;w&&typeof w.dispose=="function"&&w.dispose(),d.O=null,oi(d.V),d.g&&(w=d.g,d.g=null,w.abort(),w.dispose())}function Et(d,w){try{var E=d.j;if(E.I!=0&&(E.g==d||Al(E.h,d))){if(!d.L&&Al(E.h,d)&&E.I==3){try{var k=E.Ba.g.parse(w)}catch{k=null}if(Array.isArray(k)&&k.length==3){var W=k;if(W[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<d.F)ya(E),Qn(E);else break e;rs(E),_t(18)}}else E.xa=W[1],0<E.xa-E.K&&W[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Fe(p(E.Va,E),6e3));yo(E.h)<=1&&E.ta&&(E.ta=void 0)}else Yn(E,11)}else if((d.L||E.g==d)&&ya(E),!j(w))for(W=E.Ba.g.parse(w),w=0;w<W.length;w++){let ft=W[w];const zt=ft[0];if(!(zt<=E.K))if(E.K=zt,ft=ft[1],E.I==2)if(ft[0]=="c"){E.M=ft[1],E.ba=ft[2];const Xn=ft[3];Xn!=null&&(E.ka=Xn,E.j.info("VER="+E.ka));const js=ft[4];js!=null&&(E.za=js,E.j.info("SVER="+E.za));const ss=ft[5];ss!=null&&typeof ss=="number"&&ss>0&&(k=1.5*ss,E.O=k,E.j.info("backChannelRequestTimeoutMs_="+k)),k=E;const is=d.g;if(is){const _a=is.g?is.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_a){var X=k.h;X.g||_a.indexOf("spdy")==-1&&_a.indexOf("quic")==-1&&_a.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(ua(X,X.h),X.h=null))}if(k.G){const zl=is.g?is.g.getResponseHeader("X-HTTP-Session-Id"):null;zl&&(k.wa=zl,ut(k.J,k.G,zl))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-d.F,E.j.info("Handshake RTT: "+E.T+"ms")),k=E;var pe=d;if(k.na=Ul(k,k.L?k.ba:null,k.W),pe.L){vo(k.h,pe);var He=pe,Ot=k.O;Ot&&(He.H=Ot),He.D&&(la(He),po(He)),k.g=pe}else mn(k);E.i.length>0&&Ps(E)}else ft[0]!="stop"&&ft[0]!="close"||Yn(E,7);else E.I==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?Yn(E,7):pa(E):ft[0]!="noop"&&E.l&&E.l.qa(ft),E.A=0)}}Ir(4)}catch{}}var Pf=class{constructor(d,w){this.g=d,this.map=w}};function ca(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Cl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function yo(d){return d.h?1:d.g?d.g.size:0}function Al(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function ua(d,w){d.g?d.g.add(w):d.h=w}function vo(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}ca.prototype.cancel=function(){if(this.i=Wn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Wn(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const E of d.g.values())w=w.concat(E.G);return w}return I(d.i)}var Eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gn(d,w){if(d){d=d.split("&");for(let E=0;E<d.length;E++){const k=d[E].indexOf("=");let W,X=null;k>=0?(W=d[E].substring(0,k),X=d[E].substring(k+1)):W=d[E],w(W,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Kr(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;d instanceof Kr?(this.l=d.l,xo(this,d.j),this.o=d.o,this.g=d.g,Qr(this,d.u),this.h=d.h,hi(this,Ll(d.i)),this.m=d.m):d&&(w=String(d).match(Eu))?(this.l=!1,xo(this,w[1]||"",!0),this.o=wo(w[2]||""),this.g=wo(w[3]||"",!0),Qr(this,w[4]),this.h=wo(w[5]||"",!0),hi(this,w[6]||"",!0),this.m=wo(w[7]||"")):(this.l=!1,this.i=new it(null,this.l))}Kr.prototype.toString=function(){const d=[];var w=this.j;w&&d.push(_o(w,kl,!0),":");var E=this.g;return(E||w=="file")&&(d.push("//"),(w=this.o)&&d.push(_o(w,kl,!0),"@"),d.push(Zt(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&d.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(_o(E,E.charAt(0)=="/"?Eo:Pl,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",_o(E,jl)),d.join("")},Kr.prototype.resolve=function(d){const w=dr(this);let E=!!d.j;E?xo(w,d.j):E=!!d.o,E?w.o=d.o:E=!!d.g,E?w.g=d.g:E=d.u!=null;var k=d.h;if(E)Qr(w,d.u);else if(E=!!d.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var W=w.h.lastIndexOf("/");W!=-1&&(k=w.h.slice(0,W+1)+k)}if(W=k,W==".."||W==".")k="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){k=W.lastIndexOf("/",0)==0,W=W.split("/");const X=[];for(let pe=0;pe<W.length;){const He=W[pe++];He=="."?k&&pe==W.length&&X.push(""):He==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),k&&pe==W.length&&X.push("")):(X.push(He),k=!0)}k=X.join("/")}else k=W}return E?w.h=k:E=d.i.toString()!=="",E?hi(w,Ll(d.i)):E=!!d.m,E&&(w.m=d.m),w};function dr(d){return new Kr(d)}function xo(d,w,E){d.j=E?wo(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function Qr(d,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);d.u=w}else d.u=null}function hi(d,w,E){w instanceof it?(d.i=w,ha(d.i,d.l)):(E||(w=_o(w,jf)),d.i=new it(w,d.l))}function ut(d,w,E){d.i.set(w,E)}function Cs(d){return ut(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function wo(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function _o(d,w,E){return typeof d=="string"?(d=encodeURI(d).replace(w,Rl),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Rl(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var kl=/[#\/\?@]/g,Pl=/[#\?:]/g,Eo=/[#\?]/g,jf=/[#\?@]/g,jl=/#/g;function it(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function Yr(d){d.g||(d.g=new Map,d.h=0,d.i&&Gn(d.i,function(w,E){d.add(decodeURIComponent(w.replace(/\+/g," ")),E)}))}n=it.prototype,n.add=function(d,w){Yr(this),this.i=null,d=Xr(this,d);let E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(w),this.h+=1,this};function Dl(d,w){Yr(d),w=Xr(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function da(d,w){return Yr(d),w=Xr(d,w),d.g.has(w)}n.forEach=function(d,w){Yr(this),this.g.forEach(function(E,k){E.forEach(function(W){d.call(w,W,k,this)},this)},this)};function Ml(d,w){Yr(d);let E=[];if(typeof w=="string")da(d,w)&&(E=E.concat(d.g.get(Xr(d,w))));else for(d=Array.from(d.g.values()),w=0;w<d.length;w++)E=E.concat(d[w]);return E}n.set=function(d,w){return Yr(this),this.i=null,d=Xr(this,d),da(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},n.get=function(d,w){return d?(d=Ml(this,d),d.length>0?String(d[0]):w):w};function Ol(d,w,E){Dl(d,w),E.length>0&&(d.i=null,d.g.set(Xr(d,w),I(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(let k=0;k<w.length;k++){var E=w[k];const W=Zt(E);E=Ml(this,E);for(let X=0;X<E.length;X++){let pe=W;E[X]!==""&&(pe+="="+Zt(E[X])),d.push(pe)}}return this.i=d.join("&")};function Ll(d){const w=new it;return w.i=d.i,d.g&&(w.g=new Map(d.g),w.h=d.h),w}function Xr(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function ha(d,w){w&&!d.j&&(Yr(d),d.i=null,d.g.forEach(function(E,k){const W=k.toLowerCase();k!=W&&(Dl(this,k),Ol(this,W,E))},d)),d.j=w}function Jr(d,w){const E=new mt;if(u.Image){const k=new Image;k.onload=v(sn,E,"TestLoadImage: loaded",!0,w,k),k.onerror=v(sn,E,"TestLoadImage: error",!1,w,k),k.onabort=v(sn,E,"TestLoadImage: abort",!1,w,k),k.ontimeout=v(sn,E,"TestLoadImage: timeout",!1,w,k),u.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else w(!1)}function Zr(d,w){const E=new mt,k=new AbortController,W=setTimeout(()=>{k.abort(),sn(E,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:k.signal}).then(X=>{clearTimeout(W),X.ok?sn(E,"TestPingServer: ok",!0,w):sn(E,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(W),sn(E,"TestPingServer: error",!1,w)})}function sn(d,w,E,k,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),k(E)}catch{}}function bo(){this.g=new An}function As(d){this.i=d.Sb||null,this.h=d.ab||!1}y(As,Tr),As.prototype.g=function(){return new Kn(this.i,this.h)};function Kn(d,w){st.call(this),this.H=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(Kn,st),n=Kn.prototype,n.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=w,this.readyState=1,Ar(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(w.body=d),(this.H||u).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fi(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ar(this)),this.g&&(this.readyState=3,Ar(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;bu(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function bu(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?fi(this):Ar(this),this.readyState==3&&bu(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,fi(this))},n.Na=function(d){this.g&&(this.response=d,fi(this))},n.ga=function(){this.g&&fi(this)};function fi(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Ar(d)}n.setRequestHeader=function(d,w){this.A.append(d,w)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var E=w.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=w.next();return d.join(`\r
`)};function Ar(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Kn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Tu(d){let w="";return Z(d,function(E,k){w+=k,w+=":",w+=E,w+=`\r
`}),w}function fa(d,w,E){e:{for(k in E){var k=!1;break e}k=!0}k||(E=Tu(E),typeof d=="string"?E!=null&&Zt(E):ut(d,w,E))}function pt(d){st.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(pt,st);var Su=/^https?$/i,Df=["POST","PUT"];n=pt.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,w,E,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fn.g(),this.g.onreadystatechange=_(p(this.Ca,this));try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(X){mi(this,X);return}if(d=E||"",E=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var W in k)E.set(W,k[W]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const X of k.keys())E.set(X,k.get(X));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),W=u.FormData&&d instanceof u.FormData,!(Array.prototype.indexOf.call(Df,w,void 0)>=0)||k||W||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,pe]of E)this.g.setRequestHeader(X,pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(X){mi(this,X)}};function mi(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.o=5,pi(d),ks(d)}function pi(d){d.A||(d.A=!0,It(d,"complete"),It(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,It(this,"complete"),It(this,"abort"),ks(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ks(this,!0)),pt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Rs(this):this.Xa())},n.Xa=function(){Rs(this)};function Rs(d){if(d.h&&typeof a<"u"){if(d.v&&es(d)==4)setTimeout(d.Ca.bind(d),0);else if(It(d,"readystatechange"),es(d)==4){d.h=!1;try{const X=d.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var E;if(!(E=w)){var k;if(k=X===0){let pe=String(d.D).match(Eu)[1]||null;!pe&&u.self&&u.self.location&&(pe=u.self.location.protocol.slice(0,-1)),k=!Su.test(pe?pe.toLowerCase():"")}E=k}if(E)It(d,"complete"),It(d,"success");else{d.o=6;try{var W=es(d)>2?d.g.statusText:""}catch{W=""}d.l=W+" ["+d.ca()+"]",pi(d)}}finally{ks(d)}}}}function ks(d,w){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const E=d.g;d.g=null,w||It(d,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function es(d){return d.g?d.g.readyState:0}n.ca=function(){try{return es(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),ai(w)}};function Iu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Vl(d){const w={};d=(d.g&&es(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(j(d[k]))continue;var E=mo(d[k]);const W=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=w[W]||[];w[W]=X,X.push(E)}se(w,function(k){return k.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ts(d,w,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||w}function ma(d){this.za=0,this.i=[],this.j=new mt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ts("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ts("baseRetryDelayMs",5e3,d),this.Za=ts("retryDelaySeedMs",1e4,d),this.Ta=ts("forwardChannelMaxRetries",2,d),this.va=ts("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new ca(d&&d.concurrentRequestLimit),this.Ba=new bo,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ma.prototype,n.ka=8,n.I=1,n.connect=function(d,w,E,k){_t(0),this.W=d,this.H=w||{},E&&k!==void 0&&(this.H.OSID=E,this.H.OAID=k),this.F=this.X,this.J=Ul(this,null,this.W),Ps(this)};function pa(d){if(ga(d),d.I==3){var w=d.V++,E=dr(d.J);if(ut(E,"SID",d.M),ut(E,"RID",w),ut(E,"TYPE","terminate"),ns(d,E),w=new ur(d,d.j,w),w.M=2,w.A=Cs(dr(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(w.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=w.A,E=!0),E||(w.g=Cu(w.j,null),w.g.ea(w.A)),w.F=Date.now(),po(w)}Io(d)}function Qn(d){d.g&&(So(d),d.g.cancel(),d.g=null)}function ga(d){Qn(d),d.v&&(u.clearTimeout(d.v),d.v=null),ya(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&u.clearTimeout(d.m),d.m=null)}function Ps(d){if(!Cl(d.h)&&!d.m){d.m=!0;var w=d.Ea;J||S(),te||(J(),te=!0),C.add(w,d),d.D=0}}function Nu(d,w){return yo(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=w.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Fe(p(d.Ea,d,w),xa(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const W=new ur(this,this.j,d);let X=this.o;if(this.U&&(X?(X=V(X),ce(X,this.U)):X=this.U),this.u!==null||this.R||(W.J=X,X=null),this.S)e:{for(var w=0,E=0;E<this.i.length;E++){t:{var k=this.i[E];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(w+=k,w>4096){w=E;break e}if(w===4096||E===this.i.length-1){w=E+1;break e}}w=1e3}else w=1e3;w=Fl(this,W,w),E=dr(this.J),ut(E,"RID",d),ut(E,"CVER",22),this.G&&ut(E,"X-HTTP-Session-Id",this.G),ns(this,E),X&&(this.R?w="headers="+Zt(Tu(X))+"&"+w:this.u&&fa(E,this.u,X)),ua(this.h,W),this.Ra&&ut(E,"TYPE","init"),this.S?(ut(E,"$req",w),ut(E,"SID","null"),W.U=!0,Cr(W,E,null)):Cr(W,E,w),this.I=2}}else this.I==3&&(d?To(this,d):this.i.length==0||Cl(this.h)||To(this))};function To(d,w){var E;w?E=w.l:E=d.V++;const k=dr(d.J);ut(k,"SID",d.M),ut(k,"RID",E),ut(k,"AID",d.K),ns(d,k),d.u&&d.o&&fa(k,d.u,d.o),E=new ur(d,d.j,E,d.D+1),d.u===null&&(E.J=d.o),w&&(d.i=w.G.concat(d.i)),w=Fl(d,E,1e3),E.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),ua(d.h,E),Cr(E,k,w)}function ns(d,w){d.H&&Z(d.H,function(E,k){ut(w,k,E)}),d.l&&Z({},function(E,k){ut(w,k,E)})}function Fl(d,w,E){E=Math.min(d.i.length,E);const k=d.l?p(d.l.Ka,d.l,d):null;e:{var W=d.i;let He=-1;for(;;){const Ot=["count="+E];He==-1?E>0?(He=W[0].g,Ot.push("ofs="+He)):He=0:Ot.push("ofs="+He);let ft=!0;for(let zt=0;zt<E;zt++){var X=W[zt].g;const Xn=W[zt].map;if(X-=He,X<0)He=Math.max(0,W[zt].g-100),ft=!1;else try{X="req"+X+"_"||"";try{var pe=Xn instanceof Map?Xn:Object.entries(Xn);for(const[js,ss]of pe){let is=ss;h(ss)&&(is=br(ss)),Ot.push(X+js+"="+encodeURIComponent(is))}}catch(js){throw Ot.push(X+"type="+encodeURIComponent("_badmap")),js}}catch{k&&k(Xn)}}if(ft){pe=Ot.join("&");break e}}pe=void 0}return d=d.i.splice(0,E),w.G=d,pe}function mn(d){if(!d.g&&!d.v){d.Y=1;var w=d.Da;J||S(),te||(J(),te=!0),C.add(w,d),d.A=0}}function rs(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Fe(p(d.Da,d),xa(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,gi(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Fe(p(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),Qn(this),gi(this))};function So(d){d.B!=null&&(u.clearTimeout(d.B),d.B=null)}function gi(d){d.g=new ur(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var w=dr(d.na);ut(w,"RID","rpc"),ut(w,"SID",d.M),ut(w,"AID",d.K),ut(w,"CI",d.F?"0":"1"),!d.F&&d.ia&&ut(w,"TO",d.ia),ut(w,"TYPE","xmlhttp"),ns(d,w),d.u&&d.o&&fa(w,d.u,d.o),d.O&&(d.g.H=d.O);var E=d.g;d=d.ba,E.M=1,E.A=Cs(dr(w)),E.u=null,E.R=!0,Il(E,d)}n.Va=function(){this.C!=null&&(this.C=null,Qn(this),rs(this),_t(19))};function ya(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function va(d,w){var E=null;if(d.g==w){ya(d),So(d),d.g=null;var k=2}else if(Al(d.h,w))E=w.G,vo(d.h,w),k=1;else return;if(d.I!=0){if(w.o)if(k==1){E=w.u?w.u.length:0,w=Date.now()-w.F;var W=d.D;k=lr(),It(k,new di(k,E)),Ps(d)}else mn(d);else if(W=w.m,W==3||W==0&&w.X>0||!(k==1&&Nu(d,w)||k==2&&rs(d)))switch(E&&E.length>0&&(w=d.h,w.i=w.i.concat(E)),W){case 1:Yn(d,5);break;case 4:Yn(d,10);break;case 3:Yn(d,6);break;default:Yn(d,2)}}}function xa(d,w){let E=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(E*=2),E*w}function Yn(d,w){if(d.j.info("Error code "+w),w==2){var E=p(d.bb,d),k=d.Ua;const W=!k;k=new Kr(k||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||xo(k,"https"),Cs(k),W?Jr(k.toString(),E):Zr(k.toString(),E)}else _t(2);d.I=0,d.l&&d.l.pa(w),Io(d),ga(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Io(d){if(d.I=0,d.ja=[],d.l){const w=Wn(d.h);(w.length!=0||d.i.length!=0)&&(A(d.ja,w),A(d.ja,d.i),d.h.i.length=0,I(d.i),d.i.length=0),d.l.oa()}}function Ul(d,w,E){var k=E instanceof Kr?dr(E):new Kr(E);if(k.g!="")w&&(k.g=w+"."+k.g),Qr(k,k.u);else{var W=u.location;k=W.protocol,w=w?w+"."+W.hostname:W.hostname,W=+W.port;const X=new Kr(null);k&&xo(X,k),w&&(X.g=w),W&&Qr(X,W),E&&(X.h=E),k=X}return E=d.G,w=d.wa,E&&w&&ut(k,E,w),ut(k,"VER",d.ka),ns(d,k),k}function Cu(d,w,E){if(w&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Aa&&!d.ma?new pt(new As({ab:E})):new pt(d.ma),w.Fa(d.L),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}n=Au.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function wa(){}wa.prototype.g=function(d,w){return new on(d,w)};function on(d,w){st.call(this),this.g=new ma(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(d?d["X-WebChannel-Client-Profile"]=w.sa:d={"X-WebChannel-Client-Profile":w.sa}),this.g.U=d,(d=w&&w.Qb)&&!j(d)&&(this.g.u=d),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!j(w)&&(this.g.G=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new yi(this)}y(on,st),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){pa(this.g)},on.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.v&&(E={},E.__data__=br(d),d=E);w.i.push(new Pf(w.Ya++,d)),w.I==3&&Ps(w)},on.prototype.N=function(){this.g.l=null,delete this.j,pa(this.g),delete this.g,on.Z.N.call(this)};function Ru(d){li.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){e:{for(const E in w){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}y(Ru,li);function ku(){ci.call(this),this.status=1}y(ku,ci);function yi(d){this.g=d}y(yi,Au),yi.prototype.ra=function(){It(this.g,"a")},yi.prototype.qa=function(d){It(this.g,new Ru(d))},yi.prototype.pa=function(d){It(this.g,new ku)},yi.prototype.oa=function(){It(this.g,"b")},wa.prototype.createWebChannel=wa.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,BE=function(){return new wa},zE=function(){return lr()},UE=Rn,Wp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Hn.NO_ERROR=0,Hn.TIMEOUT=8,Hn.HTTP_ERROR=6,qd=Hn,Ut.COMPLETE="complete",FE=Ut,Sr.EventType=Gr,Gr.OPEN="a",Gr.CLOSE="b",Gr.ERROR="c",Gr.MESSAGE="d",st.prototype.listen=st.prototype.J,yc=Sr,pt.prototype.listenOnce=pt.prototype.K,pt.prototype.getLastError=pt.prototype.Ha,pt.prototype.getLastErrorCode=pt.prototype.ya,pt.prototype.getStatus=pt.prototype.ca,pt.prototype.getResponseJson=pt.prototype.La,pt.prototype.getResponseText=pt.prototype.la,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Fa,VE=pt}).apply(typeof Id<"u"?Id:typeof self<"u"?self:typeof window<"u"?window:{});const tw="@firebase/firestore",nw="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};wn.UNAUTHENTICATED=new wn(null),wn.GOOGLE_CREDENTIALS=new wn("google-credentials-uid"),wn.FIRST_PARTY=new wn("first-party-uid"),wn.MOCK_USER=new wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pl="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new jg("@firebase/firestore");function Wa(){return Qo.logLevel}function Ee(n,...e){if(Qo.logLevel<=et.DEBUG){const t=e.map(Wg);Qo.debug(`Firestore (${pl}): ${n}`,...t)}}function Xs(n,...e){if(Qo.logLevel<=et.ERROR){const t=e.map(Wg);Qo.error(`Firestore (${pl}): ${n}`,...t)}}function rl(n,...e){if(Qo.logLevel<=et.WARN){const t=e.map(Wg);Qo.warn(`Firestore (${pl}): ${n}`,...t)}}function Wg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,$E(n,r,t)}function $E(n,e,t){let r=`FIRESTORE (${pl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Xs(r),new Error(r)}function ht(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||$E(e,i,r)}function We(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Ss{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class F2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(wn.UNAUTHENTICATED)))}shutdown(){}}class U2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class z2{constructor(e){this.t=e,this.currentUser=wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ht(this.o===void 0,42304);let r=this.i;const i=m=>this.i!==r?(r=this.i,t(m)):Promise.resolve();let a=new Ks;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ks,e.enqueueRetryable((()=>i(this.currentUser)))};const u=()=>{const m=a;e.enqueueRetryable((async()=>{await m.promise,await i(this.currentUser)}))},h=m=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>h(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?h(m):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ks)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ht(typeof r.accessToken=="string",31837,{l:r}),new qE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new wn(e)}}class B2{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=wn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $2{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new B2(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(wn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class rw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ht(this.o===void 0,3512);const r=a=>{a.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,Ee("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new rw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ht(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new rw(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=H2(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function tt(n,e){return n<e?-1:n>e?1:0}function Gp(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),a=e.charAt(r);if(i!==a)return fp(i)===fp(a)?tt(i,a):fp(i)?1:-1}return tt(n.length,e.length)}const W2=55296,G2=57343;function fp(n){const e=n.charCodeAt(0);return e>=W2&&e<=G2}function sl(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="__name__";class ds{constructor(e,t,r){t===void 0?t=0:t>e.length&&ze(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ze(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ds.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ds?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=ds.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return tt(e.length,t.length)}static compareSegments(e,t){const r=ds.isNumericId(e),i=ds.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?ds.extractNumericId(e).compare(ds.extractNumericId(t)):Gp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qi.fromString(e.substring(4,e.length-2))}}class vt extends ds{construct(e,t,r){return new vt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((i=>i.length>0)))}return new vt(t)}static emptyPath(){return new vt([])}}const K2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends ds{construct(e,t,r){return new un(e,t,r)}static isValidIdentifier(e){return K2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sw}static keyField(){return new un([sw])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new xe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new xe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[i+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new xe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,i+=2}else h==="`"?(u=!u,i++):h!=="."||u?(r+=h,i++):(a(),i++)}if(a(),u)throw new xe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(t)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.path=e}static fromPath(e){return new je(vt.fromString(e))}static fromName(e){return new je(vt.fromString(e).popFirst(5))}static empty(){return new je(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new vt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(n,e,t){if(!t)throw new xe(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Q2(n,e,t,r){if(e===!0&&r===!0)throw new xe(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function iw(n){if(!je.isDocumentKey(n))throw new xe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ow(n){if(je.isDocumentKey(n))throw new xe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function WE(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Fh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ze(12329,{type:typeof n})}function $n(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Fh(n);throw new xe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(n,e){const t={typeString:n};return e&&(t.value=e),t}function tu(n,e){if(!WE(n))throw new xe(ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(i&&typeof u!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new xe(ne.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=-62135596800,lw=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*lw);return new xt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<aw)throw new xe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lw}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(tu(e,xt._jsonSchema))return new xt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-aw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xt._jsonSchemaVersion="firestore/timestamp/1.0",xt._jsonSchema={type:Ht("string",xt._jsonSchemaVersion),seconds:Ht("number"),nanoseconds:Ht("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new xt(0,0))}static max(){return new qe(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc=-1;function Y2(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=qe.fromTimestamp(r===1e9?new xt(t+1,0):new xt(t,r));return new Yi(i,je.empty(),e)}function X2(n){return new Yi(n.readTime,n.key,Oc)}class Yi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Yi(qe.min(),je.empty(),Oc)}static max(){return new Yi(qe.max(),je.empty(),Oc)}}function J2(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=je.comparator(n.documentKey,e.documentKey),t!==0?t:tt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ek{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==Z2)throw n;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):re.reject(t)}static resolve(e){return new re(((t,r)=>{t(e)}))}static reject(e){return new re(((t,r)=>{r(e)}))}static waitFor(e){return new re(((t,r)=>{let i=0,a=0,u=!1;e.forEach((h=>{++i,h.next((()=>{++a,u&&a===i&&t()}),(m=>r(m)))})),u=!0,a===i&&t()}))}static or(e){let t=re.resolve(!1);for(const r of e)t=t.next((i=>i?re.resolve(i):r()));return t}static forEach(e,t){const r=[];return e.forEach(((i,a)=>{r.push(t.call(this,i,a))})),this.waitFor(r)}static mapArray(e,t){return new re(((r,i)=>{const a=e.length,u=new Array(a);let h=0;for(let m=0;m<a;m++){const p=m;t(e[p]).next((v=>{u[p]=v,++h,h===a&&r(u)}),(v=>i(v)))}}))}static doWhile(e,t){return new re(((r,i)=>{const a=()=>{e()===!0?t().next((()=>{a()}),i):r()};a()}))}}function tk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function yl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Uh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg=-1;function zh(n){return n==null}function ah(n){return n===0&&1/n==-1/0}function nk(n){return typeof n=="number"&&Number.isInteger(n)&&!ah(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="";function rk(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=cw(e)),e=sk(n.get(t),e);return cw(e)}function sk(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case GE:t+="";break;default:t+=a}}return t}function cw(n){return n+GE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function lo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function KE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,t){this.comparator=e,this.root=t||cn.EMPTY}insert(e,t){return new At(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nd(this.root,e,this.comparator,!0)}}class Nd{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??cn.RED,this.left=i??cn.EMPTY,this.right=a??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new cn(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return cn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ze(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw ze(57766)}get value(){throw ze(16141)}get color(){throw ze(16727)}get left(){throw ze(29726)}get right(){throw ze(36894)}copy(e,t,r,i,a){return this}insert(e,t,r){return new cn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new dw(this.data.getIterator())}getIteratorFrom(e){return new dw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Xt(this.comparator);return t.data=e,t}}class dw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new nr([])}unionWith(e){let t=new Xt(un.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new nr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sl(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new QE("Invalid base64 string: "+a):a}})(e);return new dn(t)}static fromUint8Array(e){const t=(function(i){let a="";for(let u=0;u<i.length;++u)a+=String.fromCharCode(i[u]);return a})(e);return new dn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const ik=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xi(n){if(ht(!!n,39018),typeof n=="string"){let e=0;const t=ik.exec(n);if(ht(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vt(n.seconds),nanos:Vt(n.nanos)}}function Vt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ji(n){return typeof n=="string"?dn.fromBase64String(n):dn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="server_timestamp",XE="__type__",JE="__previous_value__",ZE="__local_write_time__";function Qg(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[XE])==null?void 0:r.stringValue)===YE}function Bh(n){const e=n.mapValue.fields[JE];return Qg(e)?Bh(e):e}function Lc(n){const e=Xi(n.mapValue.fields[ZE].timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,t,r,i,a,u,h,m,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=v}}const lh="(default)";class Vc{constructor(e,t){this.projectId=e,this.database=t||lh}static empty(){return new Vc("","")}get isDefaultDatabase(){return this.database===lh}isEqual(e){return e instanceof Vc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="__type__",ak="__max__",Cd={mapValue:{}},t1="__vector__",ch="value";function Zi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Qg(n)?4:ck(n)?9007199254740991:lk(n)?10:11:ze(28295,{value:n})}function bs(n,e){if(n===e)return!0;const t=Zi(n);if(t!==Zi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Lc(n).isEqual(Lc(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const u=Xi(i.timestampValue),h=Xi(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,a){return Ji(i.bytesValue).isEqual(Ji(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,a){return Vt(i.geoPointValue.latitude)===Vt(a.geoPointValue.latitude)&&Vt(i.geoPointValue.longitude)===Vt(a.geoPointValue.longitude)})(n,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Vt(i.integerValue)===Vt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const u=Vt(i.doubleValue),h=Vt(a.doubleValue);return u===h?ah(u)===ah(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return sl(n.arrayValue.values||[],e.arrayValue.values||[],bs);case 10:case 11:return(function(i,a){const u=i.mapValue.fields||{},h=a.mapValue.fields||{};if(uw(u)!==uw(h))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(h[m]===void 0||!bs(u[m],h[m])))return!1;return!0})(n,e);default:return ze(52216,{left:n})}}function Fc(n,e){return(n.values||[]).find((t=>bs(t,e)))!==void 0}function il(n,e){if(n===e)return 0;const t=Zi(n),r=Zi(e);if(t!==r)return tt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return tt(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const h=Vt(a.integerValue||a.doubleValue),m=Vt(u.integerValue||u.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1})(n,e);case 3:return hw(n.timestampValue,e.timestampValue);case 4:return hw(Lc(n),Lc(e));case 5:return Gp(n.stringValue,e.stringValue);case 6:return(function(a,u){const h=Ji(a),m=Ji(u);return h.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const h=a.split("/"),m=u.split("/");for(let p=0;p<h.length&&p<m.length;p++){const v=tt(h[p],m[p]);if(v!==0)return v}return tt(h.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const h=tt(Vt(a.latitude),Vt(u.latitude));return h!==0?h:tt(Vt(a.longitude),Vt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return fw(n.arrayValue,e.arrayValue);case 10:return(function(a,u){var _,I,A,N;const h=a.fields||{},m=u.fields||{},p=(_=h[ch])==null?void 0:_.arrayValue,v=(I=m[ch])==null?void 0:I.arrayValue,y=tt(((A=p==null?void 0:p.values)==null?void 0:A.length)||0,((N=v==null?void 0:v.values)==null?void 0:N.length)||0);return y!==0?y:fw(p,v)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Cd.mapValue&&u===Cd.mapValue)return 0;if(a===Cd.mapValue)return 1;if(u===Cd.mapValue)return-1;const h=a.fields||{},m=Object.keys(h),p=u.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let y=0;y<m.length&&y<v.length;++y){const _=Gp(m[y],v[y]);if(_!==0)return _;const I=il(h[m[y]],p[v[y]]);if(I!==0)return I}return tt(m.length,v.length)})(n.mapValue,e.mapValue);default:throw ze(23264,{he:t})}}function hw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return tt(n,e);const t=Xi(n),r=Xi(e),i=tt(t.seconds,r.seconds);return i!==0?i:tt(t.nanos,r.nanos)}function fw(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=il(t[i],r[i]);if(a)return a}return tt(t.length,r.length)}function ol(n){return Kp(n)}function Kp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Xi(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ji(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return je.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=Kp(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const u of r)a?a=!1:i+=",",i+=`${u}:${Kp(t.fields[u])}`;return i+"}"})(n.mapValue):ze(61005,{value:n})}function Hd(n){switch(Zi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bh(n);return e?16+Hd(e):16;case 5:return 2*n.stringValue.length;case 6:return Ji(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+Hd(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return lo(r.fields,((a,u)=>{i+=a.length+Hd(u)})),i})(n.mapValue);default:throw ze(13486,{value:n})}}function mw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Qp(n){return!!n&&"integerValue"in n}function Yg(n){return!!n&&"arrayValue"in n}function pw(n){return!!n&&"nullValue"in n}function gw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wd(n){return!!n&&"mapValue"in n}function lk(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[e1])==null?void 0:r.stringValue)===t1}function Ic(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return lo(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Ic(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ic(n.arrayValue.values[t]);return e}return{...n}}function ck(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===ak}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Wd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ic(t)}setAll(e){let t=un.emptyPath(),r={},i=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const m=this.getFieldsMap(t);this.applyChanges(m,r,i),r={},i=[],t=h.popLast()}u?r[h.lastSegment()]=Ic(u):i.push(h.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Wd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return bs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Wd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){lo(t,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new Un(Ic(this.value))}}function n1(n){const e=[];return lo(n.fields,((t,r)=>{const i=new un([t]);if(Wd(r)){const a=n1(r.mapValue).fields;if(a.length===0)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)})),new nr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,t,r,i,a,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new _n(e,0,qe.min(),qe.min(),qe.min(),Un.empty(),0)}static newFoundDocument(e,t,r,i){return new _n(e,1,t,qe.min(),r,i,0)}static newNoDocument(e,t){return new _n(e,2,t,qe.min(),qe.min(),Un.empty(),0)}static newUnknownDocument(e,t){return new _n(e,3,t,qe.min(),qe.min(),Un.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,t){this.position=e,this.inclusive=t}}function yw(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],u=n.position[i];if(a.field.isKeyField()?r=je.comparator(je.fromName(u.referenceValue),t.key):r=il(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function vw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!bs(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t="asc"){this.field=e,this.dir=t}}function uk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{}class qt extends r1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new hk(e,t,r):t==="array-contains"?new pk(e,r):t==="in"?new gk(e,r):t==="not-in"?new yk(e,r):t==="array-contains-any"?new vk(e,r):new qt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new fk(e,r):new mk(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(il(t,this.value)):t!==null&&Zi(this.value)===Zi(t)&&this.matchesComparison(il(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ur extends r1{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ur(e,t)}matches(e){return s1(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function s1(n){return n.op==="and"}function i1(n){return dk(n)&&s1(n)}function dk(n){for(const e of n.filters)if(e instanceof Ur)return!1;return!0}function Yp(n){if(n instanceof qt)return n.field.canonicalString()+n.op.toString()+ol(n.value);if(i1(n))return n.filters.map((e=>Yp(e))).join(",");{const e=n.filters.map((t=>Yp(t))).join(",");return`${n.op}(${e})`}}function o1(n,e){return n instanceof qt?(function(r,i){return i instanceof qt&&r.op===i.op&&r.field.isEqual(i.field)&&bs(r.value,i.value)})(n,e):n instanceof Ur?(function(r,i){return i instanceof Ur&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,u,h)=>a&&o1(u,i.filters[h])),!0):!1})(n,e):void ze(19439)}function a1(n){return n instanceof qt?(function(t){return`${t.field.canonicalString()} ${t.op} ${ol(t.value)}`})(n):n instanceof Ur?(function(t){return t.op.toString()+" {"+t.getFilters().map(a1).join(" ,")+"}"})(n):"Filter"}class hk extends qt{constructor(e,t,r){super(e,t,r),this.key=je.fromName(r.referenceValue)}matches(e){const t=je.comparator(e.key,this.key);return this.matchesComparison(t)}}class fk extends qt{constructor(e,t){super(e,"in",t),this.keys=l1("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class mk extends qt{constructor(e,t){super(e,"not-in",t),this.keys=l1("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function l1(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((r=>je.fromName(r.referenceValue)))}class pk extends qt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yg(t)&&Fc(t.arrayValue,this.value)}}class gk extends qt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Fc(this.value.arrayValue,t)}}class yk extends qt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Fc(this.value.arrayValue,t)}}class vk extends qt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Fc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,t=null,r=[],i=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=h,this.Te=null}}function xw(n,e=null,t=[],r=[],i=null,a=null,u=null){return new xk(n,e,t,r,i,a,u)}function Xg(n){const e=We(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Yp(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),zh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>ol(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>ol(r))).join(",")),e.Te=t}return e.Te}function Jg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!uk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!o1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!vw(n.startAt,e.startAt)&&vw(n.endAt,e.endAt)}function Xp(n){return je.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,t=null,r=[],i=[],a=null,u="F",h=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function wk(n,e,t,r,i,a,u,h){return new vl(n,e,t,r,i,a,u,h)}function $h(n){return new vl(n)}function ww(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function c1(n){return n.collectionGroup!==null}function Nc(n){const e=We(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Xt(un.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Uc(a,r))})),t.has(un.keyField().canonicalString())||e.Ie.push(new Uc(un.keyField(),r))}return e.Ie}function ys(n){const e=We(n);return e.Ee||(e.Ee=_k(e,Nc(n))),e.Ee}function _k(n,e){if(n.limitType==="F")return xw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Uc(i.field,a)}));const t=n.endAt?new uh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new uh(n.startAt.position,n.startAt.inclusive):null;return xw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Jp(n,e){const t=n.filters.concat([e]);return new vl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Zp(n,e,t){return new vl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function qh(n,e){return Jg(ys(n),ys(e))&&n.limitType===e.limitType}function u1(n){return`${Xg(ys(n))}|lt:${n.limitType}`}function Ga(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((i=>a1(i))).join(", ")}]`),zh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((i=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(i))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>ol(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>ol(i))).join(",")),`Target(${r})`})(ys(n))}; limitType=${n.limitType})`}function Hh(n,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):je.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,i){for(const a of Nc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(u,h,m){const p=yw(u,h,m);return u.inclusive?p<=0:p<0})(r.startAt,Nc(r),i)||r.endAt&&!(function(u,h,m){const p=yw(u,h,m);return u.inclusive?p>=0:p>0})(r.endAt,Nc(r),i))})(n,e)}function Ek(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function d1(n){return(e,t)=>{let r=!1;for(const i of Nc(n)){const a=bk(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function bk(n,e,t){const r=n.field.isKeyField()?je.comparator(e.key,t.key):(function(a,u,h){const m=u.data.field(a),p=h.data.field(a);return m!==null&&p!==null?il(m,p):ze(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ze(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){lo(this.inner,((t,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return KE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=new At(je.comparator);function Js(){return Tk}const h1=new At(je.comparator);function vc(...n){let e=h1;for(const t of n)e=e.insert(t.key,t);return e}function f1(n){let e=h1;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Bo(){return Cc()}function m1(){return Cc()}function Cc(){return new na((n=>n.toString()),((n,e)=>n.isEqual(e)))}const Sk=new At(je.comparator),Ik=new Xt(je.comparator);function nt(...n){let e=Ik;for(const t of n)e=e.add(t);return e}const Nk=new Xt(tt);function Ck(){return Nk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ah(e)?"-0":e}}function p1(n){return{integerValue:""+n}}function g1(n,e){return nk(e)?p1(e):Zg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(){this._=void 0}}function Ak(n,e,t){return n instanceof zc?(function(i,a){const u={fields:{[XE]:{stringValue:YE},[ZE]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Qg(a)&&(a=Bh(a)),a&&(u.fields[JE]=a),{mapValue:u}})(t,e):n instanceof Bc?v1(n,e):n instanceof $c?x1(n,e):(function(i,a){const u=y1(i,a),h=_w(u)+_w(i.Ae);return Qp(u)&&Qp(i.Ae)?p1(h):Zg(i.serializer,h)})(n,e)}function Rk(n,e,t){return n instanceof Bc?v1(n,e):n instanceof $c?x1(n,e):t}function y1(n,e){return n instanceof qc?(function(r){return Qp(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class zc extends Wh{}class Bc extends Wh{constructor(e){super(),this.elements=e}}function v1(n,e){const t=w1(e);for(const r of n.elements)t.some((i=>bs(i,r)))||t.push(r);return{arrayValue:{values:t}}}class $c extends Wh{constructor(e){super(),this.elements=e}}function x1(n,e){let t=w1(e);for(const r of n.elements)t=t.filter((i=>!bs(i,r)));return{arrayValue:{values:t}}}class qc extends Wh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function _w(n){return Vt(n.integerValue||n.doubleValue)}function w1(n){return Yg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,t){this.field=e,this.transform=t}}function kk(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Bc&&i instanceof Bc||r instanceof $c&&i instanceof $c?sl(r.elements,i.elements,bs):r instanceof qc&&i instanceof qc?bs(r.Ae,i.Ae):r instanceof zc&&i instanceof zc})(n.transform,e.transform)}class Pk{constructor(e,t){this.version=e,this.transformResults=t}}class xr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xr}static exists(e){return new xr(void 0,e)}static updateTime(e){return new xr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Gh{}function E1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ey(n.key,xr.none()):new nu(n.key,n.data,xr.none());{const t=n.data,r=Un.empty();let i=new Xt(un.comparator);for(let a of e.fields)if(!i.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),i=i.add(a)}return new co(n.key,r,new nr(i.toArray()),xr.none())}}function jk(n,e,t){n instanceof nu?(function(i,a,u){const h=i.value.clone(),m=bw(i.fieldTransforms,a,u.transformResults);h.setAll(m),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):n instanceof co?(function(i,a,u){if(!Gd(i.precondition,a))return void a.convertToUnknownDocument(u.version);const h=bw(i.fieldTransforms,a,u.transformResults),m=a.data;m.setAll(b1(i)),m.setAll(h),a.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(n,e,t):(function(i,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Ac(n,e,t,r){return n instanceof nu?(function(a,u,h,m){if(!Gd(a.precondition,u))return h;const p=a.value.clone(),v=Tw(a.fieldTransforms,m,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof co?(function(a,u,h,m){if(!Gd(a.precondition,u))return h;const p=Tw(a.fieldTransforms,m,u),v=u.data;return v.setAll(b1(a)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((y=>y.field)))})(n,e,t,r):(function(a,u,h){return Gd(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,t)}function Dk(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=y1(r.transform,i||null);a!=null&&(t===null&&(t=Un.empty()),t.set(r.field,a))}return t||null}function Ew(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&sl(r,i,((a,u)=>kk(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class nu extends Gh{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class co extends Gh{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function b1(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function bw(n,e,t){const r=new Map;ht(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const a=n[i],u=a.transform,h=e.data.field(a.field);r.set(a.field,Rk(u,h,t[i]))}return r}function Tw(n,e,t){const r=new Map;for(const i of n){const a=i.transform,u=t.data.field(i.field);r.set(i.field,Ak(a,u,e))}return r}class ey extends Gh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Mk extends Gh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&jk(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ac(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ac(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=m1();return this.mutations.forEach((i=>{const a=e.get(i.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(i.key)?null:h;const m=E1(u,h);m!==null&&r.set(i.key,m),u.isValidDocument()||u.convertToNoDocument(qe.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),nt())}isEqual(e){return this.batchId===e.batchId&&sl(this.mutations,e.mutations,((t,r)=>Ew(t,r)))&&sl(this.baseMutations,e.baseMutations,((t,r)=>Ew(t,r)))}}class ty{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ht(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Sk})();const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new ty(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lk=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,ot;function Fk(n){switch(n){case ne.OK:return ze(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return ze(15467,{code:n})}}function T1(n){if(n===void 0)return Xs("GRPC error has no .code"),ne.UNKNOWN;switch(n){case $t.OK:return ne.OK;case $t.CANCELLED:return ne.CANCELLED;case $t.UNKNOWN:return ne.UNKNOWN;case $t.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case $t.INTERNAL:return ne.INTERNAL;case $t.UNAVAILABLE:return ne.UNAVAILABLE;case $t.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case $t.NOT_FOUND:return ne.NOT_FOUND;case $t.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case $t.ABORTED:return ne.ABORTED;case $t.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case $t.DATA_LOSS:return ne.DATA_LOSS;default:return ze(39323,{code:n})}}(ot=$t||($t={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=new qi([4294967295,4294967295],0);function Sw(n){const e=Uk().encode(n),t=new LE;return t.update(e),new Uint8Array(t.digest())}function Iw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new qi([t,r],0),new qi([i,a],0)]}class ny{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new xc(`Invalid padding: ${t}`);if(r<0)throw new xc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new xc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=qi.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(qi.fromNumber(r)));return i.compare(zk)===1&&(i=new qi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Sw(e),[r,i]=Iw(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,i,a);if(!this.we(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new ny(a,i,t);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const t=Sw(e),[r,i]=Iw(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,i,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class xc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Kh(qe.min(),i,new At(tt),Js(),nt())}}class ru{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ru(r,t,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}}class S1{constructor(e,t){this.targetId=e,this.Ce=t}}class I1{constructor(e,t,r=dn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Nw{constructor(){this.ve=0,this.Fe=Cw(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=nt(),t=nt(),r=nt();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ze(38017,{changeType:a})}})),new ru(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=Cw()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Bk{constructor(e){this.Ge=e,this.ze=new Map,this.je=Js(),this.Je=Ad(),this.He=Ad(),this.Ye=new At(tt)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:ze(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const a=i.target;if(Xp(a))if(r===0){const u=new je(a.path);this.et(t,u,_n.newNoDocument(u,qe.min()))}else ht(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const h=this.ut(e),m=h?this.ct(h,e,u):1;if(m!==0){this.it(t);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let u,h;try{u=Ji(r).toUint8Array()}catch(m){if(m instanceof QE)return rl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{h=new ny(u,i,a)}catch(m){return rl(m instanceof xc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return h.ge===0?null:h}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach((a=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(t,a,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((a,u)=>{const h=this.ot(u);if(h){if(a.current&&Xp(h.target)){const m=new je(h.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,_n.newNoDocument(m,e))}a.Be&&(t.set(u,a.ke()),a.qe())}}));let r=nt();this.He.forEach(((a,u)=>{let h=!0;u.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const i=new Kh(e,t,this.Ye,this.je,r);return this.je=Js(),this.Je=Ad(),this.He=Ad(),this.Ye=new At(tt),i}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Nw,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Xt(tt),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Xt(tt),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Ee("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Nw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ad(){return new At(je.comparator)}function Cw(){return new At(je.comparator)}const $k={asc:"ASCENDING",desc:"DESCENDING"},qk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hk={and:"AND",or:"OR"};class Wk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function eg(n,e){return n.useProto3Json||zh(e)?e:{value:e}}function dh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function N1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Gk(n,e){return dh(n,e.toTimestamp())}function vs(n){return ht(!!n,49232),qe.fromTimestamp((function(t){const r=Xi(t);return new xt(r.seconds,r.nanos)})(n))}function ry(n,e){return tg(n,e).canonicalString()}function tg(n,e){const t=(function(i){return new vt(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function C1(n){const e=vt.fromString(n);return ht(j1(e),10190,{key:e.toString()}),e}function ng(n,e){return ry(n.databaseId,e.path)}function mp(n,e){const t=C1(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new je(R1(t))}function A1(n,e){return ry(n.databaseId,e)}function Kk(n){const e=C1(n);return e.length===4?vt.emptyPath():R1(e)}function rg(n){return new vt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function R1(n){return ht(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Aw(n,e,t){return{name:ng(n,e),fields:t.value.mapValue.fields}}function Qk(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ze(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(p,v){return p.useProto3Json?(ht(v===void 0||typeof v=="string",58123),dn.fromBase64String(v||"")):(ht(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),dn.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(p){const v=p.code===void 0?ne.UNKNOWN:T1(p.code);return new xe(v,p.message||"")})(u);t=new I1(r,i,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=mp(n,r.document.name),a=vs(r.document.updateTime),u=r.document.createTime?vs(r.document.createTime):qe.min(),h=new Un({mapValue:{fields:r.document.fields}}),m=_n.newFoundDocument(i,a,u,h),p=r.targetIds||[],v=r.removedTargetIds||[];t=new Kd(p,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=mp(n,r.document),a=r.readTime?vs(r.readTime):qe.min(),u=_n.newNoDocument(i,a),h=r.removedTargetIds||[];t=new Kd([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=mp(n,r.document),a=r.removedTargetIds||[];t=new Kd([],a,i,null)}else{if(!("filter"in e))return ze(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,u=new Vk(i,a),h=r.targetId;t=new S1(h,u)}}return t}function Yk(n,e){let t;if(e instanceof nu)t={update:Aw(n,e.key,e.value)};else if(e instanceof ey)t={delete:ng(n,e.key)};else if(e instanceof co)t={update:Aw(n,e.key,e.data),updateMask:iP(e.fieldMask)};else{if(!(e instanceof Mk))return ze(16599,{Vt:e.type});t={verify:ng(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const h=u.transform;if(h instanceof zc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Bc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof $c)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof qc)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw ze(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:Gk(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ze(27497)})(n,e.precondition)),t}function Xk(n,e){return n&&n.length>0?(ht(e!==void 0,14353),n.map((t=>(function(i,a){let u=i.updateTime?vs(i.updateTime):vs(a);return u.isEqual(qe.min())&&(u=vs(a)),new Pk(u,i.transformResults||[])})(t,e)))):[]}function Jk(n,e){return{documents:[A1(n,e.path)]}}function Zk(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=A1(n,i);const a=(function(p){if(p.length!==0)return P1(Ur.create(p,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(p){if(p.length!==0)return p.map((v=>(function(_){return{field:Ka(_.field),direction:nP(_.dir)}})(v)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=eg(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:i}}function eP(n){let e=Kk(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ht(r===1,65062);const v=t.from[0];v.allDescendants?i=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=(function(y){const _=k1(y);return _ instanceof Ur&&i1(_)?_.getFilters():[_]})(t.where));let u=[];t.orderBy&&(u=(function(y){return y.map((_=>(function(A){return new Uc(Qa(A.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(_)))})(t.orderBy));let h=null;t.limit&&(h=(function(y){let _;return _=typeof y=="object"?y.value:y,zh(_)?null:_})(t.limit));let m=null;t.startAt&&(m=(function(y){const _=!!y.before,I=y.values||[];return new uh(I,_)})(t.startAt));let p=null;return t.endAt&&(p=(function(y){const _=!y.before,I=y.values||[];return new uh(I,_)})(t.endAt)),wk(e,i,u,a,h,"F",m,p)}function tP(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function k1(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Qa(t.unaryFilter.field);return qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Qa(t.unaryFilter.field);return qt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Qa(t.unaryFilter.field);return qt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Qa(t.unaryFilter.field);return qt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ze(61313);default:return ze(60726)}})(n):n.fieldFilter!==void 0?(function(t){return qt.create(Qa(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ze(58110);default:return ze(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Ur.create(t.compositeFilter.filters.map((r=>k1(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ze(1026)}})(t.compositeFilter.op))})(n):ze(30097,{filter:n})}function nP(n){return $k[n]}function rP(n){return qk[n]}function sP(n){return Hk[n]}function Ka(n){return{fieldPath:n.canonicalString()}}function Qa(n){return un.fromServerFormat(n.fieldPath)}function P1(n){return n instanceof qt?(function(t){if(t.op==="=="){if(gw(t.value))return{unaryFilter:{field:Ka(t.field),op:"IS_NAN"}};if(pw(t.value))return{unaryFilter:{field:Ka(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(gw(t.value))return{unaryFilter:{field:Ka(t.field),op:"IS_NOT_NAN"}};if(pw(t.value))return{unaryFilter:{field:Ka(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(t.field),op:rP(t.op),value:t.value}}})(n):n instanceof Ur?(function(t){const r=t.getFilters().map((i=>P1(i)));return r.length===1?r[0]:{compositeFilter:{op:sP(t.op),filters:r}}})(n):ze(54877,{filter:n})}function iP(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function j1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,t,r,i,a=qe.min(),u=qe.min(),h=dn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new Fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.yt=e}}function aP(n){const e=eP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Zp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(){this.Cn=new cP}addToCollectionParentIndex(e,t){return this.Cn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(Yi.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(Yi.min())}updateCollectionGroup(e,t,r){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class cP{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Xt(vt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xt(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},D1=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(D1,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new al(0)}static cr(){return new al(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="LruGarbageCollector",uP=1048576;function Pw([n,e],[t,r]){const i=tt(n,t);return i===0?tt(e,r):i}class dP{constructor(e){this.Ir=e,this.buffer=new Xt(Pw),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Pw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class hP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ee(kw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){yl(t)?Ee(kw,"Ignoring IndexedDB error during garbage collection: ",t):await gl(t)}await this.Vr(3e5)}))}}class fP{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return re.resolve(Uh.ce);const r=new dP(t);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(Rw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rw):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,a,u,h,m,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,u=Date.now(),this.nthSequenceNumber(e,i)))).next((y=>(r=y,h=Date.now(),this.removeTargets(e,r,t)))).next((y=>(a=y,m=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(p=Date.now(),Wa()<=et.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${i} in `+(h-u)+`ms
	Removed ${a} targets in `+(m-h)+`ms
	Removed ${y} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:y}))))}}function mP(n,e){return new fP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(){this.changes=new na((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?re.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&Ac(r.mutation,i,nr.empty(),xt.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,nt()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=nt()){const i=Bo();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((a=>{let u=vc();return a.forEach(((h,m)=>{u=u.insert(h,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=Bo();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,nt())))}populateOverlays(e,t,r){const i=[];return r.forEach((a=>{t.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,r,i){let a=Js();const u=Cc(),h=(function(){return Cc()})();return t.forEach(((m,p)=>{const v=r.get(p.key);i.has(p.key)&&(v===void 0||v.mutation instanceof co)?a=a.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),Ac(v.mutation,p,v.mutation.getFieldMask(),xt.now())):u.set(p.key,nr.empty())})),this.recalculateAndSaveOverlays(e,a).next((m=>(m.forEach(((p,v)=>u.set(p,v))),t.forEach(((p,v)=>h.set(p,new gP(v,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,t){const r=Cc();let i=new At(((u,h)=>u-h)),a=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((m=>{const p=t.get(m);if(p===null)return;let v=r.get(m)||nr.empty();v=h.applyToLocalView(p,v),r.set(m,v);const y=(i.get(h.batchId)||nt()).add(m);i=i.insert(h.batchId,y)}))})).next((()=>{const u=[],h=i.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),p=m.key,v=m.value,y=m1();v.forEach((_=>{if(!a.has(_)){const I=E1(t.get(_),r.get(_));I!==null&&y.set(_,I),a=a.add(_)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,y))}return re.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return(function(u){return je.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):c1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):re.resolve(Bo());let h=Oc,m=a;return u.next((p=>re.forEach(p,((v,y)=>(h<y.largestBatchId&&(h=y.largestBatchId),a.get(v)?re.resolve():this.remoteDocumentCache.getEntry(e,v).next((_=>{m=m.insert(v,_)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,m,p,nt()))).next((v=>({batchId:h,changes:f1(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new je(t)).next((r=>{let i=vc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let u=vc();return this.indexManager.getCollectionParents(e,a).next((h=>re.forEach(h,(m=>{const p=(function(y,_){return new vl(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(t,m.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next((v=>{v.forEach(((y,_)=>{u=u.insert(y,_)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i)))).next((u=>{a.forEach(((m,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,_n.newInvalidDocument(v)))}));let h=vc();return u.forEach(((m,p)=>{const v=a.get(m);v!==void 0&&Ac(v.mutation,p,nr.empty(),xt.now()),Hh(t,p)&&(h=h.insert(m,p))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return re.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:vs(i.createTime)}})(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:aP(i.bundledQuery),readTime:vs(i.readTime)}})(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(){this.overlays=new At(je.comparator),this.qr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Bo();return re.forEach(t,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,a)=>{this.St(e,t,a)})),re.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),re.resolve()}getOverlaysForCollection(e,t,r){const i=Bo(),a=t.length+1,u=new je(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const m=h.getNext().value,p=m.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&m.largestBatchId>r&&i.set(m.getKey(),m)}return re.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new At(((p,v)=>p-v));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let v=a.get(p.largestBatchId);v===null&&(v=Bo(),a=a.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const h=Bo(),m=a.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,v)=>h.set(p,v))),!(h.size()>=i)););return re.resolve(h)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Lk(t,r));let a=this.qr.get(t);a===void 0&&(a=nt(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(){this.Qr=new Xt(rn.$r),this.Ur=new Xt(rn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new rn(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new rn(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new je(new vt([])),r=new rn(t,e),i=new rn(t,e+1),a=[];return this.Ur.forEachInRange([r,i],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new je(new vt([])),r=new rn(t,e),i=new rn(t,e+1);let a=nt();return this.Ur.forEachInRange([r,i],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new rn(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class rn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return je.comparator(e.key,t.key)||tt(e.Yr,t.Yr)}static Kr(e,t){return tt(e.Yr,t.Yr)||je.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Xt(rn.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Ok(a,t,r,i);this.mutationQueue.push(u);for(const h of i)this.Zr=this.Zr.add(new rn(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return re.resolve(u)}lookupMutationBatch(e,t){return re.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ei(r),a=i<0?0:i;return re.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Kg:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new rn(t,0),i=new rn(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(u=>{const h=this.Xr(u.Yr);a.push(h)})),re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Xt(tt);return t.forEach((i=>{const a=new rn(i,0),u=new rn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(h=>{r=r.add(h.Yr)}))})),re.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;je.isDocumentKey(a)||(a=a.child(""));const u=new rn(new je(a),0);let h=new Xt(tt);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(h=h.add(m.Yr)),!0)}),u),re.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){ht(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return re.forEach(t.mutations,(i=>{const a=new rn(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new rn(t,0),i=this.Zr.firstAfterOrEqual(r);return re.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e){this.ri=e,this.docs=(function(){return new At(je.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return re.resolve(r?r.document.mutableCopy():_n.newInvalidDocument(t))}getEntries(e,t){let r=Js();return t.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():_n.newInvalidDocument(i))})),re.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Js();const u=t.path,h=new je(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||J2(X2(v),r)<=0||(i.has(v.key)||Hh(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return re.resolve(a)}getAllFromCollectionGroup(e,t,r,i){ze(9500)}ii(e,t){return re.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new bP(this)}getSize(e){return re.resolve(this.size)}}class bP extends pP{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),re.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e){this.persistence=e,this.si=new na((t=>Xg(t)),Jg),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.oi=0,this._i=new sy,this.targetCount=0,this.ai=al.ur()}forEachTarget(e,t){return this.si.forEach(((r,i)=>t(i))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),re.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new al(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.Pr(t),re.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)})),re.waitFor(a).next((()=>i))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return re.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),re.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach((u=>{a.push(i.markPotentiallyOrphaned(e,u))})),re.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),re.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return re.resolve(r)}containsKey(e,t){return re.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,t){this.ui={},this.overlays={},this.ci=new Uh(0),this.li=!1,this.li=!0,this.hi=new wP,this.referenceDelegate=e(this),this.Pi=new TP(this),this.indexManager=new lP,this.remoteDocumentCache=(function(i){return new EP(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new oP(t),this.Ii=new vP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new xP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new _P(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){Ee("MemoryPersistence","Starting transaction:",e);const i=new SP(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,t){return re.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class SP extends ek{constructor(e){super(),this.currentSequenceNumber=e}}class iy{constructor(e){this.persistence=e,this.Ri=new sy,this.Vi=null}static mi(e){return new iy(e)}get fi(){if(this.Vi)return this.Vi;throw ze(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),re.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),re.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(r=>{const i=je.fromPath(r);return this.gi(e,i).next((a=>{a||t.removeEntry(i,qe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return re.or([()=>re.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class hh{constructor(e,t){this.persistence=e,this.pi=new na((r=>rk(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=mP(this,t)}static mi(e,t){return new hh(e,t)}Ei(){}di(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return re.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?re.resolve():t(i)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(u=>this.br(e,u,t).next((h=>{h||(r++,a.removeEntry(u,qe.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),re.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Hd(e.data.value)),t}br(e,t,r){return re.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return re.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=nt(),i=nt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new oy(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return iC()?8:tk(En())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.ys(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,t,i,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new IP;return this.Ss(e,t,u).next((h=>{if(a.result=h,this.Vs)return this.bs(e,t,u,h.size)}))})).next((()=>a.result))}bs(e,t,r,i){return r.documentReadCount<this.fs?(Wa()<=et.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Ga(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(Wa()<=et.DEBUG&&Ee("QueryEngine","Query:",Ga(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Wa()<=et.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Ga(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ys(t))):re.resolve())}ys(e,t){if(ww(t))return re.resolve(null);let r=ys(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=Zp(t,null,"F"),r=ys(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=nt(...a);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((m=>{const p=this.Ds(t,h);return this.Cs(t,p,u,m.readTime)?this.ys(e,Zp(t,null,"F")):this.vs(e,p,t,m)}))))})))))}ws(e,t,r,i){return ww(t)||i.isEqual(qe.min())?re.resolve(null):this.ps.getDocuments(e,r).next((a=>{const u=this.Ds(t,a);return this.Cs(t,u,r,i)?re.resolve(null):(Wa()<=et.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ga(t)),this.vs(e,u,t,Y2(i,Oc)).next((h=>h)))}))}Ds(e,t){let r=new Xt(d1(e));return t.forEach(((i,a)=>{Hh(e,a)&&(r=r.add(a))})),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,t,r){return Wa()<=et.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Ga(t)),this.ps.getDocumentsMatchingQuery(e,t,Yi.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="LocalStore",CP=3e8;class AP{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new At(tt),this.xs=new na((a=>Xg(a)),Jg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function RP(n,e,t,r){return new AP(n,e,t,r)}async function O1(n,e){const t=We(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],h=[];let m=nt();for(const p of i){u.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of a){h.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(r,m).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function kP(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,m,p,v){const y=p.batch,_=y.keys();let I=re.resolve();return _.forEach((A=>{I=I.next((()=>v.getEntry(m,A))).next((N=>{const R=p.docVersions.get(A);ht(R!==null,48541),N.version.compareTo(R)<0&&(y.applyToRemoteDocument(N,p),N.isValidDocument()&&(N.setReadTime(p.commitVersion),v.addEntry(N)))}))})),I.next((()=>h.mutationQueue.removeMutationBatch(m,y)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let m=nt();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(m=m.add(h.batch.mutations[p].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(r,i)))}))}function L1(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function PP(n,e){const t=We(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const h=[];e.targetChanges.forEach(((v,y)=>{const _=i.get(y);if(!_)return;h.push(t.Pi.removeMatchingKeys(a,v.removedDocuments,y).next((()=>t.Pi.addMatchingKeys(a,v.addedDocuments,y))));let I=_.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?I=I.withResumeToken(dn.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,r)),i=i.insert(y,I),(function(N,R,L){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=CP?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(_,I,v)&&h.push(t.Pi.updateTargetData(a,I))}));let m=Js(),p=nt();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))})),h.push(jP(a,u,e.documentUpdates).next((v=>{m=v.ks,p=v.qs}))),!r.isEqual(qe.min())){const v=t.Pi.getLastRemoteSnapshotVersion(a).next((y=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));h.push(v)}return re.waitFor(h).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,m,p))).next((()=>m))})).then((a=>(t.Ms=i,a)))}function jP(n,e,t){let r=nt(),i=nt();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let u=Js();return t.forEach(((h,m)=>{const p=a.get(h);m.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(h)),m.isNoDocument()&&m.version.isEqual(qe.min())?(e.removeEntry(h,m.readTime),u=u.insert(h,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),u=u.insert(h,m)):Ee(ay,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",m.version)})),{ks:u,qs:i}}))}function DP(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Kg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function MP(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return t.Pi.getTargetData(r,e).next((a=>a?(i=a,re.resolve(i)):t.Pi.allocateTargetId(r).next((u=>(i=new Fi(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function sg(n,e,t){const r=We(n),i=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!yl(u))throw u;Ee(ay,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function jw(n,e,t){const r=We(n);let i=qe.min(),a=nt();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,p,v){const y=We(m),_=y.xs.get(v);return _!==void 0?re.resolve(y.Ms.get(_)):y.Pi.getTargetData(p,v)})(r,u,ys(e)).next((h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,h.targetId).next((m=>{a=m}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?i:qe.min(),t?a:nt()))).next((h=>(OP(r,Ek(e),h),{documents:h,Qs:a})))))}function OP(n,e,t){let r=n.Os.get(e)||qe.min();t.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Os.set(e,r)}class Dw{constructor(){this.activeTargetIds=Ck()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LP{constructor(){this.Mo=new Dw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Dw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="ConnectivityMonitor";class Ow{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ee(Mw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ee(Mw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rd=null;function ig(){return Rd===null?Rd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Rd++,"0x"+Rd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="RestConnection",FP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===lh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,a){const u=ig(),h=this.zo(e,t.toUriEncodedString());Ee(pp,`Sending RPC '${e}' ${u}:`,h,r);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,i,a);const{host:p}=new URL(h),v=so(p);return this.Jo(e,h,m,r,v).then((y=>(Ee(pp,`Received RPC '${e}' ${u}: `,y),y)),(y=>{throw rl(pp,`RPC '${e}' ${u} failed with error: `,y,"url: ",h,"request:",r),y}))}Ho(e,t,r,i,a,u){return this.Go(e,t,r,i,a)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,t){const r=FP[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn="WebChannelConnection";class BP extends UP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,a){const u=ig();return new Promise(((h,m)=>{const p=new VE;p.setWithCredentials(!0),p.listenOnce(FE.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case qd.NO_ERROR:const y=p.getResponseJson();Ee(xn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(y)),h(y);break;case qd.TIMEOUT:Ee(xn,`RPC '${e}' ${u} timed out`),m(new xe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case qd.HTTP_ERROR:const _=p.getStatus();if(Ee(xn,`RPC '${e}' ${u} failed with status:`,_,"response text:",p.getResponseText()),_>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const A=I==null?void 0:I.error;if(A&&A.status&&A.message){const N=(function(L){const z=L.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(z)>=0?z:ne.UNKNOWN})(A.status);m(new xe(N,A.message))}else m(new xe(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new xe(ne.UNAVAILABLE,"Connection failed."));break;default:ze(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{Ee(xn,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(i);Ee(xn,`RPC '${e}' ${u} sending request:`,i),p.send(t,"POST",v,r,15)}))}T_(e,t,r){const i=ig(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=BE(),h=zE(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const v=a.join("");Ee(xn,`Creating RPC '${e}' stream ${i}: ${v}`,m);const y=u.createWebChannel(v,m);this.I_(y);let _=!1,I=!1;const A=new zP({Yo:R=>{I?Ee(xn,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(_||(Ee(xn,`Opening RPC '${e}' stream ${i} transport.`),y.open(),_=!0),Ee(xn,`RPC '${e}' stream ${i} sending:`,R),y.send(R))},Zo:()=>y.close()}),N=(R,L,z)=>{R.listen(L,(F=>{try{z(F)}catch(K){setTimeout((()=>{throw K}),0)}}))};return N(y,yc.EventType.OPEN,(()=>{I||(Ee(xn,`RPC '${e}' stream ${i} transport opened.`),A.o_())})),N(y,yc.EventType.CLOSE,(()=>{I||(I=!0,Ee(xn,`RPC '${e}' stream ${i} transport closed`),A.a_(),this.E_(y))})),N(y,yc.EventType.ERROR,(R=>{I||(I=!0,rl(xn,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),A.a_(new xe(ne.UNAVAILABLE,"The operation could not be completed")))})),N(y,yc.EventType.MESSAGE,(R=>{var L;if(!I){const z=R.data[0];ht(!!z,16349);const F=z,K=(F==null?void 0:F.error)||((L=F[0])==null?void 0:L.error);if(K){Ee(xn,`RPC '${e}' stream ${i} received error:`,K);const J=K.status;let te=(function(P){const O=$t[P];if(O!==void 0)return T1(O)})(J),C=K.message;te===void 0&&(te=ne.INTERNAL,C="Unknown error status: "+J+" with message "+K.message),I=!0,A.a_(new xe(te,C)),y.close()}else Ee(xn,`RPC '${e}' stream ${i} received:`,z),A.u_(z)}})),N(h,UE.STAT_EVENT,(R=>{R.stat===Wp.PROXY?Ee(xn,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Wp.NOPROXY&&Ee(xn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function gp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(n){return new Wk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&Ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="PersistentStream";class F1{constructor(e,t,r,i,a,u,h,m){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new V1(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Xs(t.toString()),Xs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===t&&this.G_(r,i)}),(r=>{e((()=>{const i=new xe(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ee(Lw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Ee(Lw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $P extends F1{constructor(e,t,r,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Qk(this.serializer,e),r=(function(a){if(!("targetChange"in a))return qe.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?qe.min():u.readTime?vs(u.readTime):qe.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=rg(this.serializer),t.addTarget=(function(a,u){let h;const m=u.target;if(h=Xp(m)?{documents:Jk(a,m)}:{query:Zk(a,m).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=N1(a,u.resumeToken);const p=eg(a,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(qe.min())>0){h.readTime=dh(a,u.snapshotVersion.toTimestamp());const p=eg(a,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const r=tP(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=rg(this.serializer),t.removeTarget=e,this.q_(t)}}class qP extends F1{constructor(e,t,r,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Xk(e.writeResults,e.commitTime),r=vs(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=rg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>Yk(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{}class WP extends HP{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new xe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,tg(t,r),i,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new xe(ne.UNKNOWN,a.toString())}))}Ho(e,t,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,tg(t,r),i,u,h,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new xe(ne.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class GP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xs(t),this.aa=!1):Ee("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo="RemoteStore";class KP{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{ra(this)&&(Ee(Yo,"Restarting streams for network reachability change."),await(async function(m){const p=We(m);p.Ea.add(4),await su(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Yh(p)})(this))}))})),this.Ra=new GP(r,i)}}async function Yh(n){if(ra(n))for(const e of n.da)await e(!0)}async function su(n){for(const e of n.da)await e(!1)}function U1(n,e){const t=We(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),dy(t)?uy(t):xl(t).O_()&&cy(t,e))}function ly(n,e){const t=We(n),r=xl(t);t.Ia.delete(e),r.O_()&&z1(t,e),t.Ia.size===0&&(r.O_()?r.L_():ra(t)&&t.Ra.set("Unknown"))}function cy(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xl(n).Y_(e)}function z1(n,e){n.Va.Ue(e),xl(n).Z_(e)}function uy(n){n.Va=new Bk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),xl(n).start(),n.Ra.ua()}function dy(n){return ra(n)&&!xl(n).x_()&&n.Ia.size>0}function ra(n){return We(n).Ea.size===0}function B1(n){n.Va=void 0}async function QP(n){n.Ra.set("Online")}async function YP(n){n.Ia.forEach(((e,t)=>{cy(n,e)}))}async function XP(n,e){B1(n),dy(n)?(n.Ra.ha(e),uy(n)):n.Ra.set("Unknown")}async function JP(n,e,t){if(n.Ra.set("Online"),e instanceof I1&&e.state===2&&e.cause)try{await(async function(i,a){const u=a.cause;for(const h of a.targetIds)i.Ia.has(h)&&(await i.remoteSyncer.rejectListen(h,u),i.Ia.delete(h),i.Va.removeTarget(h))})(n,e)}catch(r){Ee(Yo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await fh(n,r)}else if(e instanceof Kd?n.Va.Ze(e):e instanceof S1?n.Va.st(e):n.Va.tt(e),!t.isEqual(qe.min()))try{const r=await L1(n.localStore);t.compareTo(r)>=0&&await(function(a,u){const h=a.Va.Tt(u);return h.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=a.Ia.get(p);v&&a.Ia.set(p,v.withResumeToken(m.resumeToken,u))}})),h.targetMismatches.forEach(((m,p)=>{const v=a.Ia.get(m);if(!v)return;a.Ia.set(m,v.withResumeToken(dn.EMPTY_BYTE_STRING,v.snapshotVersion)),z1(a,m);const y=new Fi(v.target,m,p,v.sequenceNumber);cy(a,y)})),a.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(r){Ee(Yo,"Failed to raise snapshot:",r),await fh(n,r)}}async function fh(n,e,t){if(!yl(e))throw e;n.Ea.add(1),await su(n),n.Ra.set("Offline"),t||(t=()=>L1(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Ee(Yo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Yh(n)}))}function $1(n,e){return e().catch((t=>fh(n,t,e)))}async function Xh(n){const e=We(n),t=eo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Kg;for(;ZP(e);)try{const i=await DP(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,ej(e,i)}catch(i){await fh(e,i)}q1(e)&&H1(e)}function ZP(n){return ra(n)&&n.Ta.length<10}function ej(n,e){n.Ta.push(e);const t=eo(n);t.O_()&&t.X_&&t.ea(e.mutations)}function q1(n){return ra(n)&&!eo(n).x_()&&n.Ta.length>0}function H1(n){eo(n).start()}async function tj(n){eo(n).ra()}async function nj(n){const e=eo(n);for(const t of n.Ta)e.ea(t.mutations)}async function rj(n,e,t){const r=n.Ta.shift(),i=ty.from(r,e,t);await $1(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await Xh(n)}async function sj(n,e){e&&eo(n).X_&&await(async function(r,i){if((function(u){return Fk(u)&&u!==ne.ABORTED})(i.code)){const a=r.Ta.shift();eo(r).B_(),await $1(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Xh(r)}})(n,e),q1(n)&&H1(n)}async function Vw(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),Ee(Yo,"RemoteStore received new credentials");const r=ra(t);t.Ea.add(3),await su(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Yh(t)}async function ij(n,e){const t=We(n);e?(t.Ea.delete(2),await Yh(t)):e||(t.Ea.add(2),await su(t),t.Ra.set("Unknown"))}function xl(n){return n.ma||(n.ma=(function(t,r,i){const a=We(t);return a.sa(),new $P(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(n.datastore,n.asyncQueue,{Xo:QP.bind(null,n),t_:YP.bind(null,n),r_:XP.bind(null,n),H_:JP.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),dy(n)?uy(n):n.Ra.set("Unknown")):(await n.ma.stop(),B1(n))}))),n.ma}function eo(n){return n.fa||(n.fa=(function(t,r,i){const a=We(t);return a.sa(),new qP(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:tj.bind(null,n),r_:sj.bind(null,n),ta:nj.bind(null,n),na:rj.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Xh(n)):(await n.fa.stop(),n.Ta.length>0&&(Ee(Yo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const u=Date.now()+r,h=new hy(e,t,u,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fy(n,e){if(Xs("AsyncQueue",`${e}: ${n}`),yl(n))return new xe(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{static emptySet(e){return new Za(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||je.comparator(t.key,r.key):(t,r)=>je.comparator(t.key,r.key),this.keyedMap=vc(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Za)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Za;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this.ga=new At(je.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ze(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class ll{constructor(e,t,r,i,a,u,h,m,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,a){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new ll(e,t,Za.emptySet(t),u,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class aj{constructor(){this.queries=Uw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=We(t),a=i.queries;i.queries=Uw(),a.forEach(((u,h)=>{for(const m of h.Sa)m.onError(r)}))})(this,new xe(ne.ABORTED,"Firestore shutting down"))}}function Uw(){return new na((n=>u1(n)),qh)}async function my(n,e){const t=We(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new oj,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(i,!0);break;case 1:a.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(u){const h=fy(u,`Initialization of query '${Ga(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&gy(t)}async function py(n,e){const t=We(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function lj(n,e){const t=We(n);let r=!1;for(const i of e){const a=i.query,u=t.queries.get(a);if(u){for(const h of u.Sa)h.Fa(i)&&(r=!0);u.wa=i}}r&&gy(t)}function cj(n,e,t){const r=We(n),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(t);r.queries.delete(e)}function gy(n){n.Ca.forEach((e=>{e.next()}))}var og,zw;(zw=og||(og={})).Ma="default",zw.Cache="cache";class yy{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ll(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==og.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e){this.key=e}}class G1{constructor(e){this.key=e}}class uj{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=nt(),this.mutatedKeys=nt(),this.eu=d1(e),this.tu=new Za(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new Fw,i=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=i,h=!1;const m=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((v,y)=>{const _=i.get(v),I=Hh(this.query,y)?y:null,A=!!_&&this.mutatedKeys.has(_.key),N=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let R=!1;_&&I?_.data.isEqual(I.data)?A!==N&&(r.track({type:3,doc:I}),R=!0):this.su(_,I)||(r.track({type:2,doc:I}),R=!0,(m&&this.eu(I,m)>0||p&&this.eu(I,p)<0)&&(h=!0)):!_&&I?(r.track({type:0,doc:I}),R=!0):_&&!I&&(r.track({type:1,doc:_}),R=!0,(m||p)&&(h=!0)),R&&(I?(u=u.add(I),a=N?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:h,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,y)=>(function(I,A){const N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze(20277,{Rt:R})}};return N(I)-N(A)})(v.type,y.type)||this.eu(v.doc,y.doc))),this.ou(r),i=i??!1;const h=t&&!i?this._u():[],m=this.Xa.size===0&&this.current&&!i?1:0,p=m!==this.Za;return this.Za=m,u.length!==0||p?{snapshot:new ll(this.query,e.tu,a,u,e.mutatedKeys,m===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Fw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=nt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new G1(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new W1(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=nt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ll.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const vy="SyncEngine";class dj{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class hj{constructor(e){this.key=e,this.hu=!1}}class fj{constructor(e,t,r,i,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new na((h=>u1(h)),qh),this.Iu=new Map,this.Eu=new Set,this.du=new At(je.comparator),this.Au=new Map,this.Ru=new sy,this.Vu={},this.mu=new Map,this.fu=al.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mj(n,e,t=!0){const r=Z1(n);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await K1(r,e,t,!0),i}async function pj(n,e){const t=Z1(n);await K1(t,e,!0,!1)}async function K1(n,e,t,r){const i=await MP(n.localStore,ys(e)),a=i.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return r&&(h=await gj(n,e,a,u==="current",i.resumeToken)),n.isPrimaryClient&&t&&U1(n.remoteStore,i),h}async function gj(n,e,t,r,i){n.pu=(y,_,I)=>(async function(N,R,L,z){let F=R.view.ru(L);F.Cs&&(F=await jw(N.localStore,R.query,!1).then((({documents:C})=>R.view.ru(C,F))));const K=z&&z.targetChanges.get(R.targetId),J=z&&z.targetMismatches.get(R.targetId)!=null,te=R.view.applyChanges(F,N.isPrimaryClient,K,J);return $w(N,R.targetId,te.au),te.snapshot})(n,y,_,I);const a=await jw(n.localStore,e,!0),u=new uj(e,a.Qs),h=u.ru(a.documents),m=ru.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=u.applyChanges(h,n.isPrimaryClient,m);$w(n,t,p.au);const v=new dj(e,t,u);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function yj(n,e,t){const r=We(n),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((u=>!qh(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await sg(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),t&&ly(r.remoteStore,i.targetId),ag(r,i.targetId)})).catch(gl)):(ag(r,i.targetId),await sg(r.localStore,i.targetId,!0))}async function vj(n,e){const t=We(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),ly(t.remoteStore,r.targetId))}async function xj(n,e,t){const r=Ij(n);try{const i=await(function(u,h){const m=We(u),p=xt.now(),v=h.reduce(((I,A)=>I.add(A.key)),nt());let y,_;return m.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let A=Js(),N=nt();return m.Ns.getEntries(I,v).next((R=>{A=R,A.forEach(((L,z)=>{z.isValidDocument()||(N=N.add(L))}))})).next((()=>m.localDocuments.getOverlayedDocuments(I,A))).next((R=>{y=R;const L=[];for(const z of h){const F=Dk(z,y.get(z.key).overlayedDocument);F!=null&&L.push(new co(z.key,F,n1(F.value.mapValue),xr.exists(!0)))}return m.mutationQueue.addMutationBatch(I,p,L,h)})).next((R=>{_=R;const L=R.applyToLocalDocumentSet(y,N);return m.documentOverlayCache.saveOverlays(I,R.batchId,L)}))})).then((()=>({batchId:_.batchId,changes:f1(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(u,h,m){let p=u.Vu[u.currentUser.toKey()];p||(p=new At(tt)),p=p.insert(h,m),u.Vu[u.currentUser.toKey()]=p})(r,i.batchId,t),await iu(r,i.changes),await Xh(r.remoteStore)}catch(i){const a=fy(i,"Failed to persist write");t.reject(a)}}async function Q1(n,e){const t=We(n);try{const r=await PP(t.localStore,e);e.targetChanges.forEach(((i,a)=>{const u=t.Au.get(a);u&&(ht(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?u.hu=!0:i.modifiedDocuments.size>0?ht(u.hu,14607):i.removedDocuments.size>0&&(ht(u.hu,42227),u.hu=!1))})),await iu(t,r,e)}catch(r){await gl(r)}}function Bw(n,e,t){const r=We(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach(((a,u)=>{const h=u.view.va(e);h.snapshot&&i.push(h.snapshot)})),(function(u,h){const m=We(u);m.onlineState=h;let p=!1;m.queries.forEach(((v,y)=>{for(const _ of y.Sa)_.va(h)&&(p=!0)})),p&&gy(m)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function wj(n,e,t){const r=We(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),a=i&&i.key;if(a){let u=new At(je.comparator);u=u.insert(a,_n.newNoDocument(a,qe.min()));const h=nt().add(a),m=new Kh(qe.min(),new Map,new At(tt),u,h);await Q1(r,m),r.du=r.du.remove(a),r.Au.delete(e),xy(r)}else await sg(r.localStore,e,!1).then((()=>ag(r,e,t))).catch(gl)}async function _j(n,e){const t=We(n),r=e.batch.batchId;try{const i=await kP(t.localStore,e);X1(t,r,null),Y1(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await iu(t,i)}catch(i){await gl(i)}}async function Ej(n,e,t){const r=We(n);try{const i=await(function(u,h){const m=We(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return m.mutationQueue.lookupMutationBatch(p,h).next((y=>(ht(y!==null,37113),v=y.keys(),m.mutationQueue.removeMutationBatch(p,y)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,h))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>m.localDocuments.getDocuments(p,v)))}))})(r.localStore,e);X1(r,e,t),Y1(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await iu(r,i)}catch(i){await gl(i)}}function Y1(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function X1(n,e,t){const r=We(n);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function ag(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||J1(n,r)}))}function J1(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(ly(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),xy(n))}function $w(n,e,t){for(const r of t)r instanceof W1?(n.Ru.addReference(r.key,e),bj(n,r)):r instanceof G1?(Ee(vy,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||J1(n,r.key)):ze(19791,{wu:r})}function bj(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(Ee(vy,"New document in limbo: "+t),n.Eu.add(r),xy(n))}function xy(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new je(vt.fromString(e)),r=n.fu.next();n.Au.set(r,new hj(t)),n.du=n.du.insert(t,r),U1(n.remoteStore,new Fi(ys($h(t.path)),r,"TargetPurposeLimboResolution",Uh.ce))}}async function iu(n,e,t){const r=We(n),i=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,m)=>{u.push(r.pu(m,e,t).then((p=>{var v;if((p||t)&&r.isPrimaryClient){const y=p?!p.fromCache:(v=t==null?void 0:t.targetChanges.get(m.targetId))==null?void 0:v.current;r.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){i.push(p);const y=oy.As(m.targetId,p);a.push(y)}})))})),await Promise.all(u),r.Pu.H_(i),await(async function(m,p){const v=We(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>re.forEach(p,(_=>re.forEach(_.Es,(I=>v.persistence.referenceDelegate.addReference(y,_.targetId,I))).next((()=>re.forEach(_.ds,(I=>v.persistence.referenceDelegate.removeReference(y,_.targetId,I)))))))))}catch(y){if(!yl(y))throw y;Ee(ay,"Failed to update sequence numbers: "+y)}for(const y of p){const _=y.targetId;if(!y.fromCache){const I=v.Ms.get(_),A=I.snapshotVersion,N=I.withLastLimboFreeSnapshotVersion(A);v.Ms=v.Ms.insert(_,N)}}})(r.localStore,a))}async function Tj(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){Ee(vy,"User change. New user:",e.toKey());const r=await O1(t.localStore,e);t.currentUser=e,(function(a,u){a.mu.forEach((h=>{h.forEach((m=>{m.reject(new xe(ne.CANCELLED,u))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await iu(t,r.Ls)}}function Sj(n,e){const t=We(n),r=t.Au.get(e);if(r&&r.hu)return nt().add(r.key);{let i=nt();const a=t.Iu.get(e);if(!a)return i;for(const u of a){const h=t.Tu.get(u);i=i.unionWith(h.view.nu)}return i}}function Z1(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Q1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wj.bind(null,e),e.Pu.H_=lj.bind(null,e.eventManager),e.Pu.yu=cj.bind(null,e.eventManager),e}function Ij(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_j.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ej.bind(null,e),e}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return RP(this.persistence,new NP,e.initialUser,this.serializer)}Cu(e){return new M1(iy.mi,this.serializer)}Du(e){return new LP}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class Nj extends mh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ht(this.persistence.referenceDelegate instanceof hh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new hP(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new M1((r=>hh.mi(r,t)),this.serializer)}}class lg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Bw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Tj.bind(null,this.syncEngine),await ij(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new aj})()}createDatastore(e){const t=Qh(e.databaseInfo.databaseId),r=(function(a){return new BP(a)})(e.databaseInfo);return(function(a,u,h,m){return new WP(a,u,h,m)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,a,u,h){return new KP(r,i,a,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>Bw(this.syncEngine,t,0)),(function(){return Ow.v()?new Ow:new VP})())}createSyncEngine(e,t){return(function(i,a,u,h,m,p,v){const y=new fj(i,a,u,h,m,p);return v&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(i){const a=We(i);Ee(Yo,"RemoteStore shutting down."),a.Ea.add(5),await su(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}lg.provider={build:()=>new lg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="FirestoreClient";class Cj{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=wn.UNAUTHENTICATED,this.clientId=Gg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{Ee(to,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(Ee(to,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=fy(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function yp(n,e){n.asyncQueue.verifyOperationInProgress(),Ee(to,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await O1(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function qw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Aj(n);Ee(to,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>Vw(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>Vw(e.remoteStore,i))),n._onlineComponents=e}async function Aj(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ee(to,"Using user provided OfflineComponentProvider");try{await yp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;rl("Error using user provided cache. Falling back to memory cache: "+t),await yp(n,new mh)}}else Ee(to,"Using default OfflineComponentProvider"),await yp(n,new Nj(void 0));return n._offlineComponents}async function eb(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ee(to,"Using user provided OnlineComponentProvider"),await qw(n,n._uninitializedComponentsProvider._online)):(Ee(to,"Using default OnlineComponentProvider"),await qw(n,new lg))),n._onlineComponents}function Rj(n){return eb(n).then((e=>e.syncEngine))}async function ph(n){const e=await eb(n),t=e.eventManager;return t.onListen=mj.bind(null,e.syncEngine),t.onUnlisten=yj.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=pj.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=vj.bind(null,e.syncEngine),t}function kj(n,e,t={}){const r=new Ks;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,h,m,p){const v=new wy({next:_=>{v.Nu(),u.enqueueAndForget((()=>py(a,y)));const I=_.docs.has(h);!I&&_.fromCache?p.reject(new xe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&_.fromCache&&m&&m.source==="server"?p.reject(new xe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(_)},error:_=>p.reject(_)}),y=new yy($h(h.path),v,{includeMetadataChanges:!0,qa:!0});return my(a,y)})(await ph(n),n.asyncQueue,e,t,r))),r.promise}function Pj(n,e,t={}){const r=new Ks;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,h,m,p){const v=new wy({next:_=>{v.Nu(),u.enqueueAndForget((()=>py(a,y))),_.fromCache&&m.source==="server"?p.reject(new xe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(_)},error:_=>p.reject(_)}),y=new yy(h,v,{includeMetadataChanges:!0,qa:!0});return my(a,y)})(await ph(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="firestore.googleapis.com",Ww=!0;class Gw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new xe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nb,this.ssl=Ww}else this.host=e.host,this.ssl=e.ssl??Ww;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=D1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uP)throw new xe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Q2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tb(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new xe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new xe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new xe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new F2;switch(r.type){case"firstParty":return new $2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=Hw.get(t);r&&(Ee("ComponentProvider","Removing Datastore"),Hw.delete(t),r.terminate())})(this),Promise.resolve()}}function jj(n,e,t,r={}){var p;n=$n(n,Jh);const i=so(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;i&&(kg(`https://${h}`),Pg("Firestore",!0)),a.host!==nb&&a.host!==h&&rl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...a,host:h,ssl:i,emulatorOptions:r};if(!Ho(m,u)&&(n._setSettings(m),r.mockUserToken)){let v,y;if(typeof r.mockUserToken=="string")v=r.mockUserToken,y=wn.MOCK_USER;else{v=YN(r.mockUserToken,(p=n._app)==null?void 0:p.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new xe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new wn(_)}n._authCredentials=new U2(new qE(v,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new uo(this.firestore,e,this._query)}}class Pt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}toJSON(){return{type:Pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(tu(t,Pt._jsonSchema))return new Pt(e,r||null,new je(vt.fromString(t.referencePath)))}}Pt._jsonSchemaVersion="firestore/documentReference/1.0",Pt._jsonSchema={type:Ht("string",Pt._jsonSchemaVersion),referencePath:Ht("string")};class Hi extends uo{constructor(e,t,r){super(e,t,$h(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new je(e))}withConverter(e){return new Hi(this.firestore,e,this._path)}}function sr(n,e,...t){if(n=jt(n),HE("collection","path",e),n instanceof Jh){const r=vt.fromString(e,...t);return ow(r),new Hi(n,null,r)}{if(!(n instanceof Pt||n instanceof Hi))throw new xe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vt.fromString(e,...t));return ow(r),new Hi(n.firestore,null,r)}}function wt(n,e,...t){if(n=jt(n),arguments.length===1&&(e=Gg.newId()),HE("doc","path",e),n instanceof Jh){const r=vt.fromString(e,...t);return iw(r),new Pt(n,null,new je(r))}{if(!(n instanceof Pt||n instanceof Hi))throw new xe(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vt.fromString(e,...t));return iw(r),new Pt(n.firestore,n instanceof Hi?n.converter:null,new je(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="AsyncQueue";class Qw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new V1(this,"async_queue_retry"),this._c=()=>{const r=gp();r&&Ee(Kw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=gp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=gp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ks;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yl(e))throw e;Ee(Kw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Xs("INTERNAL UNHANDLED ERROR: ",Yw(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=hy.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&ze(47125,{Pc:Yw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Yw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(n,["next","error","complete"])}class Zs extends Jh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Qw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Qw(e),this._firestoreClient=void 0,await e}}}function Dj(n,e){const t=typeof n=="object"?n:Mg(),r=typeof n=="string"?n:lh,i=Mh(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=Y_("firestore");a&&jj(i,...a)}return i}function Zh(n){if(n._terminated)throw new xe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Mj(n),n._firestoreClient}function Mj(n){var r,i,a;const e=n._freezeSettings(),t=(function(h,m,p,v){return new ok(h,m,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,tb(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new Cj(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(h){const m=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(m),_online:m}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vr(dn.fromBase64String(e))}catch(t){throw new xe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new vr(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(tu(e,vr._jsonSchema))return vr.fromBase64String(e.bytes)}}vr._jsonSchemaVersion="firestore/bytes/1.0",vr._jsonSchema={type:Ht("string",vr._jsonSchemaVersion),bytes:Ht("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new xe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xs._jsonSchemaVersion}}static fromJSON(e){if(tu(e,xs._jsonSchema))return new xs(e.latitude,e.longitude)}}xs._jsonSchemaVersion="firestore/geoPoint/1.0",xs._jsonSchema={type:Ht("string",xs._jsonSchemaVersion),latitude:Ht("number"),longitude:Ht("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ws._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(tu(e,ws._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ws(e.vectorValues);throw new xe(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ws._jsonSchemaVersion="firestore/vectorValue/1.0",ws._jsonSchema={type:Ht("string",ws._jsonSchemaVersion),vectorValues:Ht("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj=/^__.*__$/;class Lj{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new co(e,this.data,this.fieldMask,t,this.fieldTransforms):new nu(e,this.data,t,this.fieldTransforms)}}class rb{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new co(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function sb(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze(40011,{Ac:n})}}class _y{constructor(e,t,r,i,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new _y({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return gh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(sb(this.Ac)&&Oj.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Vj{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Qh(e)}Cc(e,t,r,i=!1){return new _y({Ac:e,methodName:t,Dc:r,path:un.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tf(n){const e=n._freezeSettings(),t=Qh(n._databaseId);return new Vj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ib(n,e,t,r,i,a={}){const u=n.Cc(a.merge||a.mergeFields?2:0,e,t,i);Ty("Data must be an object, but it was:",u,r);const h=ob(r,u);let m,p;if(a.merge)m=new nr(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const y of a.mergeFields){const _=cg(e,y,t);if(!u.contains(_))throw new xe(ne.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);lb(v,_)||v.push(_)}m=new nr(v),p=u.fieldTransforms.filter((y=>m.covers(y.field)))}else m=null,p=u.fieldTransforms;return new Lj(new Un(h),m,p)}class nf extends ou{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nf}}class Ey extends ou{_toFieldTransform(e){return new _1(e.path,new zc)}isEqual(e){return e instanceof Ey}}class by extends ou{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new qc(e.serializer,g1(e.serializer,this.Fc));return new _1(e.path,t)}isEqual(e){return e instanceof by&&this.Fc===e.Fc}}function Fj(n,e,t,r){const i=n.Cc(1,e,t);Ty("Data must be an object, but it was:",i,r);const a=[],u=Un.empty();lo(r,((m,p)=>{const v=Sy(e,m,t);p=jt(p);const y=i.yc(v);if(p instanceof nf)a.push(v);else{const _=au(p,y);_!=null&&(a.push(v),u.set(v,_))}}));const h=new nr(a);return new rb(u,h,i.fieldTransforms)}function Uj(n,e,t,r,i,a){const u=n.Cc(1,e,t),h=[cg(e,r,t)],m=[i];if(a.length%2!=0)throw new xe(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<a.length;_+=2)h.push(cg(e,a[_])),m.push(a[_+1]);const p=[],v=Un.empty();for(let _=h.length-1;_>=0;--_)if(!lb(p,h[_])){const I=h[_];let A=m[_];A=jt(A);const N=u.yc(I);if(A instanceof nf)p.push(I);else{const R=au(A,N);R!=null&&(p.push(I),v.set(I,R))}}const y=new nr(p);return new rb(v,y,u.fieldTransforms)}function zj(n,e,t,r=!1){return au(t,n.Cc(r?4:3,e))}function au(n,e){if(ab(n=jt(n)))return Ty("Unsupported field value:",e,n),ob(n,e);if(n instanceof ou)return(function(r,i){if(!sb(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let u=0;for(const h of r){let m=au(h,i.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),a.push(m),u++}return{arrayValue:{values:a}}})(n,e)}return(function(r,i){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return g1(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=xt.fromDate(r);return{timestampValue:dh(i.serializer,a)}}if(r instanceof xt){const a=new xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dh(i.serializer,a)}}if(r instanceof xs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vr)return{bytesValue:N1(i.serializer,r._byteString)};if(r instanceof Pt){const a=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw i.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ry(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ws)return(function(u,h){return{mapValue:{fields:{[e1]:{stringValue:t1},[ch]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return Zg(h.serializer,p)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Fh(r)}`)})(n,e)}function ob(n,e){const t={};return KE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lo(n,((r,i)=>{const a=au(i,e.mc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function ab(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof xt||n instanceof xs||n instanceof vr||n instanceof Pt||n instanceof ou||n instanceof ws)}function Ty(n,e,t){if(!ab(t)||!WE(t)){const r=Fh(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function cg(n,e,t){if((e=jt(e))instanceof ef)return e._internalPath;if(typeof e=="string")return Sy(n,e);throw gh("Field path arguments must be of type string or ",n,!1,void 0,t)}const Bj=new RegExp("[~\\*/\\[\\]]");function Sy(n,e,t){if(e.search(Bj)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ef(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function gh(n,e,t,r,i){const a=r&&!r.isEmpty(),u=i!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(a||u)&&(m+=" (found",a&&(m+=` in field ${r}`),u&&(m+=` in document ${i}`),m+=")"),new xe(ne.INVALID_ARGUMENT,h+n+m)}function lb(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $j(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class $j extends cb{data(){return super.data()}}function rf(n,e){return typeof e=="string"?Sy(n,e):e instanceof ef?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new xe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Iy{}class db extends Iy{}function sa(n,e,...t){let r=[];e instanceof Iy&&r.push(e),r=r.concat(t),(function(a){const u=a.filter((m=>m instanceof Ny)).length,h=a.filter((m=>m instanceof sf)).length;if(u>1||u>0&&h>0)throw new xe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)n=i._apply(n);return n}class sf extends db{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new sf(e,t,r)}_apply(e){const t=this._parse(e);return fb(e._query,t),new uo(e.firestore,e.converter,Jp(e._query,t))}_parse(e){const t=tf(e.firestore);return(function(a,u,h,m,p,v,y){let _;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new xe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Zw(y,v);const A=[];for(const N of y)A.push(Jw(m,a,N));_={arrayValue:{values:A}}}else _=Jw(m,a,y)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Zw(y,v),_=zj(h,u,y,v==="in"||v==="not-in");return qt.create(p,v,_)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function cl(n,e,t){const r=e,i=rf("where",n);return sf._create(i,r,t)}class Ny extends Iy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ny(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Ur.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,a){let u=i;const h=a.getFlattenedFilters();for(const m of h)fb(u,m),u=Jp(u,m)})(e._query,t),new uo(e.firestore,e.converter,Jp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Cy extends db{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Cy(e,t)}_apply(e){const t=(function(i,a,u){if(i.startAt!==null)throw new xe(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new xe(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Uc(a,u)})(e._query,this._field,this._direction);return new uo(e.firestore,e.converter,(function(i,a){const u=i.explicitOrderBy.concat([a]);return new vl(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}}function hb(n,e="asc"){const t=e,r=rf("orderBy",n);return Cy._create(r,t)}function Jw(n,e,t){if(typeof(t=jt(t))=="string"){if(t==="")throw new xe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!c1(e)&&t.indexOf("/")!==-1)throw new xe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(vt.fromString(t));if(!je.isDocumentKey(r))throw new xe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mw(n,new je(r))}if(t instanceof Pt)return mw(n,t._key);throw new xe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fh(t)}.`)}function Zw(n,e){if(!Array.isArray(n)||n.length===0)throw new xe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fb(n,e){const t=(function(i,a){for(const u of i)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new xe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class qj{convertValue(e,t="none"){switch(Zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ze(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return lo(e,((i,a)=>{r[i]=this.convertValue(a,t)})),r}convertVectorValue(e){var r,i,a;const t=(a=(i=(r=e.fields)==null?void 0:r[ch].arrayValue)==null?void 0:i.values)==null?void 0:a.map((u=>Vt(u.doubleValue)));return new ws(t)}convertGeoPoint(e){return new xs(Vt(e.latitude),Vt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Bh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Lc(e));default:return null}}convertTimestamp(e){const t=Xi(e);return new xt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=vt.fromString(e);ht(j1(r),9688,{name:e});const i=new Vc(r.get(1),r.get(3)),a=new je(r.popFirst(5));return i.isEqual(t)||Xs(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class wc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $o extends cb{constructor(e,t,r,i,a,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(rf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=$o._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}$o._jsonSchemaVersion="firestore/documentSnapshot/1.0",$o._jsonSchema={type:Ht("string",$o._jsonSchemaVersion),bundleSource:Ht("string","DocumentSnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class Qd extends $o{data(e={}){return super.data(e)}}class qo{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new wc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Qd(this._firestore,this._userDataWriter,r.key,r,new wc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map((h=>{const m=new Qd(i._firestore,i._userDataWriter,h.doc.key,h.doc,new wc(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const m=new Qd(i._firestore,i._userDataWriter,h.doc.key,h.doc,new wc(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,v=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:Hj(h.type),doc:m,oldIndex:p,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=qo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Hj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(n){n=$n(n,Pt);const e=$n(n.firestore,Zs);return kj(Zh(e),n._key).then((t=>gb(e,n,t)))}qo._jsonSchemaVersion="firestore/querySnapshot/1.0",qo._jsonSchema={type:Ht("string",qo._jsonSchemaVersion),bundleSource:Ht("string","QuerySnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class Ay extends qj{constructor(e){super(),this.firestore=e}convertBytes(e){return new vr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,t)}}function Xo(n){n=$n(n,uo);const e=$n(n.firestore,Zs),t=Zh(e),r=new Ay(e);return ub(n._query),Pj(t,n._query).then((i=>new qo(e,r,n,i)))}function vp(n,e,t){n=$n(n,Pt);const r=$n(n.firestore,Zs),i=mb(n.converter,e,t);return af(r,[ib(tf(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,xr.none())])}function Ws(n,e,t,...r){n=$n(n,Pt);const i=$n(n.firestore,Zs),a=tf(i);let u;return u=typeof(e=jt(e))=="string"||e instanceof ef?Uj(a,"updateDoc",n._key,e,t,r):Fj(a,"updateDoc",n._key,e),af(i,[u.toMutation(n._key,xr.exists(!0))])}function Wj(n){return af($n(n.firestore,Zs),[new ey(n._key,xr.none())])}function of(n,e){const t=$n(n.firestore,Zs),r=wt(n),i=mb(n.converter,e);return af(t,[ib(tf(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,xr.exists(!1))]).then((()=>r))}function pb(n,...e){var m,p,v;n=jt(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Xw(e[r])||(t=e[r++]);const i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Xw(e[r])){const y=e[r];e[r]=(m=y.next)==null?void 0:m.bind(y),e[r+1]=(p=y.error)==null?void 0:p.bind(y),e[r+2]=(v=y.complete)==null?void 0:v.bind(y)}let a,u,h;if(n instanceof Pt)u=$n(n.firestore,Zs),h=$h(n._key.path),a={next:y=>{e[r]&&e[r](gb(u,n,y))},error:e[r+1],complete:e[r+2]};else{const y=$n(n,uo);u=$n(y.firestore,Zs),h=y._query;const _=new Ay(u);a={next:I=>{e[r]&&e[r](new qo(u,_,y,I))},error:e[r+1],complete:e[r+2]},ub(n._query)}return(function(_,I,A,N){const R=new wy(N),L=new yy(I,R,A);return _.asyncQueue.enqueueAndForget((async()=>my(await ph(_),L))),()=>{R.Nu(),_.asyncQueue.enqueueAndForget((async()=>py(await ph(_),L)))}})(Zh(u),h,i,a)}function af(n,e){return(function(r,i){const a=new Ks;return r.asyncQueue.enqueueAndForget((async()=>xj(await Rj(r),i,a))),a.promise})(Zh(n),e)}function gb(n,e,t){const r=t.docs.get(e._key),i=new Ay(n);return new $o(n,i,e._key,r,new wc(t.hasPendingWrites,t.fromCache),e.converter)}function Wi(){return new Ey("serverTimestamp")}function _c(n){return new by("increment",n)}(function(e,t=!0){(function(i){pl=i})(fl),Wo(new Qi("firestore",((r,{instanceIdentifier:i,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new Zs(new z2(r.getProvider("auth-internal")),new q2(u,r.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new xe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vc(p.options.projectId,v)})(u,i),u);return a={useFetchStreams:t,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),ps(tw,nw,e),ps(tw,nw,"esm2020")})();var Gj="firebase",Kj="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ps(Gj,Kj,"app");const Qj={apiKey:"AIzaSyDlOVr6qUe8ZvtFRkMLcdh9LWazBk7gLy8",authDomain:"secondlife-e85d4.firebaseapp.com",projectId:"secondlife-e85d4",storageBucket:"secondlife-e85d4.firebasestorage.app",messagingSenderId:"819469013262",appId:"1:819469013262:web:eed27a2c79c7051b59875f",measurementId:"G-PSP6XC8E7H"},yb=tE(Qj),fc=L2(yb),Ze=Dj(yb),Yj=new $s,vb=b.createContext(void 0),ri=()=>{const n=b.useContext(vb);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},Xj=({children:n})=>{const[e,t]=b.useState(null),[r,i]=b.useState(!0);b.useEffect(()=>SR(fc,async v=>{if(v){const y=await wr(wt(Ze,"users",v.uid));y.exists()&&t(y.data())}else t(null);i(!1)}),[]);const a=async(p,v,y)=>{try{i(!0);const _=await _R(fc,v,y),I={uid:_.user.uid,displayName:p,email:v,photoURL:`https://ui-avatars.com/api/?name=${encodeURIComponent(p)}&background=10b981&color=fff`,joinedDate:new Date().toISOString(),exchangedItems:0,co2Saved:0};await vp(wt(Ze,"users",_.user.uid),I),t(I)}catch(_){throw console.error("Erreur signup:",_),new Error(_.message)}finally{i(!1)}},u=async(p,v)=>{try{i(!0);const y=await ER(fc,p,v),_=await wr(wt(Ze,"users",y.user.uid));_.exists()&&t(_.data())}catch(y){throw console.error("Erreur login:",y),new Error(y.message)}finally{i(!1)}},h=async()=>{try{i(!0);const v=(await WR(fc,Yj)).user,y=await wr(wt(Ze,"users",v.uid));if(y.exists()){const _=y.data();v.photoURL&&_.photoURL!==v.photoURL&&(_.photoURL=v.photoURL,await vp(wt(Ze,"users",v.uid),_,{merge:!0})),t(_)}else{const _={uid:v.uid,displayName:v.displayName||"Utilisateur",email:v.email||"",photoURL:v.photoURL||`https://ui-avatars.com/api/?name=${v.displayName}&background=10b981&color=fff`,joinedDate:new Date().toISOString(),exchangedItems:0,co2Saved:0};await vp(wt(Ze,"users",v.uid),_),t(_)}}catch(p){throw console.error("Erreur Google login:",p),new Error(p.message)}finally{i(!1)}},m=async()=>{try{await IR(fc),t(null)}catch(p){console.error("Erreur logout:",p)}};return l.jsx(vb.Provider,{value:{user:e,login:u,loginWithGoogle:h,signup:a,logout:m,isLoading:r},children:n})};var lu=H_();const xb=Ag(lu);function Jj(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const Zj=n=>{switch(n){case"success":return nD;case"info":return sD;case"warning":return rD;case"error":return iD;default:return null}},eD=Array(12).fill(0),tD=({visible:n,className:e})=>fe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},fe.createElement("div",{className:"sonner-spinner"},eD.map((t,r)=>fe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),nD=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),rD=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),sD=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),iD=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),oD=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},fe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),fe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),aD=()=>{const[n,e]=fe.useState(document.hidden);return fe.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let ug=1;class lD{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...i}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:ug++,u=this.toasts.find(m=>m.id===a),h=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),u?this.toasts=this.toasts.map(m=>m.id===a?(this.publish({...m,...e,id:a,title:r}),{...m,...e,id:a,dismissible:h,title:r}):m):this.addToast({title:r,...i,dismissible:h,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,u;const h=i.then(async p=>{if(u=["resolve",p],fe.isValidElement(p))a=!1,this.create({id:r,type:"default",message:p});else if(uD(p)&&!p.ok){a=!1;const y=typeof t.error=="function"?await t.error(`HTTP error! status: ${p.status}`):t.error,_=typeof t.description=="function"?await t.description(`HTTP error! status: ${p.status}`):t.description,A=typeof y=="object"&&!fe.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:_,...A})}else if(p instanceof Error){a=!1;const y=typeof t.error=="function"?await t.error(p):t.error,_=typeof t.description=="function"?await t.description(p):t.description,A=typeof y=="object"&&!fe.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:_,...A})}else if(t.success!==void 0){a=!1;const y=typeof t.success=="function"?await t.success(p):t.success,_=typeof t.description=="function"?await t.description(p):t.description,A=typeof y=="object"&&!fe.isValidElement(y)?y:{message:y};this.create({id:r,type:"success",description:_,...A})}}).catch(async p=>{if(u=["reject",p],t.error!==void 0){a=!1;const v=typeof t.error=="function"?await t.error(p):t.error,y=typeof t.description=="function"?await t.description(p):t.description,I=typeof v=="object"&&!fe.isValidElement(v)?v:{message:v};this.create({id:r,type:"error",description:y,...I})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),m=()=>new Promise((p,v)=>h.then(()=>u[0]==="reject"?v(u[1]):p(u[1])).catch(v));return typeof r!="string"&&typeof r!="number"?{unwrap:m}:Object.assign(r,{unwrap:m})},this.custom=(e,t)=>{const r=(t==null?void 0:t.id)||ug++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ln=new lD,cD=(n,e)=>{const t=(e==null?void 0:e.id)||ug++;return Ln.addToast({title:n,...e,id:t}),t},uD=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",dD=cD,hD=()=>Ln.toasts,fD=()=>Ln.getActiveToasts(),Ve=Object.assign(dD,{success:Ln.success,info:Ln.info,warning:Ln.warning,error:Ln.error,custom:Ln.custom,message:Ln.message,promise:Ln.promise,dismiss:Ln.dismiss,loading:Ln.loading},{getHistory:hD,getToasts:fD});Jj("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function kd(n){return n.label!==void 0}const mD=3,pD="24px",gD="16px",e_=4e3,yD=356,vD=14,xD=45,wD=200;function us(...n){return n.filter(Boolean).join(" ")}function _D(n){const[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}const ED=n=>{var e,t,r,i,a,u,h,m,p;const{invert:v,toast:y,unstyled:_,interacting:I,setHeights:A,visibleToasts:N,heights:R,index:L,toasts:z,expanded:F,removeToast:K,defaultRichColors:J,closeButton:te,style:C,cancelButtonStyle:S,actionButtonStyle:P,className:O="",descriptionClassName:D="",duration:U,position:j,gap:ve,expandByDefault:be,classNames:ie,icons:ye,closeButtonAriaLabel:q="Close toast"}=n,[Z,se]=fe.useState(null),[V,Q]=fe.useState(null),[ce,me]=fe.useState(!1),[de,ue]=fe.useState(!1),[ee,ge]=fe.useState(!1),[we,Ae]=fe.useState(!1),[$e,Se]=fe.useState(!1),[dt,Dt]=fe.useState(0),[or,bn]=fe.useState(0),Wt=fe.useRef(y.duration||U||e_),qr=fe.useRef(null),st=fe.useRef(null),It=L===0,qn=L+1<=N,Gt=y.type,ar=y.dismissible!==!1,aa=y.className||"",Hr=y.descriptionClassName||"",Wr=fe.useMemo(()=>R.findIndex(Fe=>Fe.toastId===y.id)||0,[R,y.id]),oi=fe.useMemo(()=>{var Fe;return(Fe=y.closeButton)!=null?Fe:te},[y.closeButton,te]),br=fe.useMemo(()=>y.duration||U||e_,[y.duration,U]),ai=fe.useRef(0),An=fe.useRef(0),Tr=fe.useRef(0),Sr=fe.useRef(null),[Gr,li]=j.split("-"),ci=fe.useMemo(()=>R.reduce((Fe,mt,Mt)=>Mt>=Wr?Fe:Fe+mt.height,0),[R,Wr]),Rn=aD(),ui=y.invert||v,lr=Gt==="loading";An.current=fe.useMemo(()=>Wr*ve+ci,[Wr,ci]),fe.useEffect(()=>{Wt.current=br},[br]),fe.useEffect(()=>{me(!0)},[]),fe.useEffect(()=>{const Fe=st.current;if(Fe){const mt=Fe.getBoundingClientRect().height;return bn(mt),A(Mt=>[{toastId:y.id,height:mt,position:y.position},...Mt]),()=>A(Mt=>Mt.filter(Jt=>Jt.toastId!==y.id))}},[A,y.id]),fe.useLayoutEffect(()=>{if(!ce)return;const Fe=st.current,mt=Fe.style.height;Fe.style.height="auto";const Mt=Fe.getBoundingClientRect().height;Fe.style.height=mt,bn(Mt),A(Jt=>Jt.find(Rt=>Rt.toastId===y.id)?Jt.map(Rt=>Rt.toastId===y.id?{...Rt,height:Mt}:Rt):[{toastId:y.id,height:Mt,position:y.position},...Jt])},[ce,y.title,y.description,A,y.id]);const Tn=fe.useCallback(()=>{ue(!0),Dt(An.current),A(Fe=>Fe.filter(mt=>mt.toastId!==y.id)),setTimeout(()=>{K(y)},wD)},[y,K,A,An]);fe.useEffect(()=>{if(y.promise&&Gt==="loading"||y.duration===1/0||y.type==="loading")return;let Fe;return F||I||Rn?(()=>{if(Tr.current<ai.current){const Jt=new Date().getTime()-ai.current;Wt.current=Wt.current-Jt}Tr.current=new Date().getTime()})():(()=>{Wt.current!==1/0&&(ai.current=new Date().getTime(),Fe=setTimeout(()=>{y.onAutoClose==null||y.onAutoClose.call(y,y),Tn()},Wt.current))})(),()=>clearTimeout(Fe)},[F,I,y,Gt,Rn,Tn]),fe.useEffect(()=>{y.delete&&Tn()},[Tn,y.delete]);function Ir(){var Fe;if(ye!=null&&ye.loading){var mt;return fe.createElement("div",{className:us(ie==null?void 0:ie.loader,y==null||(mt=y.classNames)==null?void 0:mt.loader,"sonner-loader"),"data-visible":Gt==="loading"},ye.loading)}return fe.createElement(tD,{className:us(ie==null?void 0:ie.loader,y==null||(Fe=y.classNames)==null?void 0:Fe.loader),visible:Gt==="loading"})}const Nr=y.icon||(ye==null?void 0:ye[Gt])||Zj(Gt);var _t,di;return fe.createElement("li",{tabIndex:0,ref:st,className:us(O,aa,ie==null?void 0:ie.toast,y==null||(e=y.classNames)==null?void 0:e.toast,ie==null?void 0:ie.default,ie==null?void 0:ie[Gt],y==null||(t=y.classNames)==null?void 0:t[Gt]),"data-sonner-toast":"","data-rich-colors":(_t=y.richColors)!=null?_t:J,"data-styled":!(y.jsx||y.unstyled||_),"data-mounted":ce,"data-promise":!!y.promise,"data-swiped":$e,"data-removed":de,"data-visible":qn,"data-y-position":Gr,"data-x-position":li,"data-index":L,"data-front":It,"data-swiping":ee,"data-dismissible":ar,"data-type":Gt,"data-invert":ui,"data-swipe-out":we,"data-swipe-direction":V,"data-expanded":!!(F||be&&ce),style:{"--index":L,"--toasts-before":L,"--z-index":z.length-L,"--offset":`${de?dt:An.current}px`,"--initial-height":be?"auto":`${or}px`,...C,...y.style},onDragEnd:()=>{ge(!1),se(null),Sr.current=null},onPointerDown:Fe=>{lr||!ar||(qr.current=new Date,Dt(An.current),Fe.target.setPointerCapture(Fe.pointerId),Fe.target.tagName!=="BUTTON"&&(ge(!0),Sr.current={x:Fe.clientX,y:Fe.clientY}))},onPointerUp:()=>{var Fe,mt,Mt;if(we||!ar)return;Sr.current=null;const Jt=Number(((Fe=st.current)==null?void 0:Fe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Sn=Number(((mt=st.current)==null?void 0:mt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Rt=new Date().getTime()-((Mt=qr.current)==null?void 0:Mt.getTime()),Ft=Z==="x"?Jt:Sn,Hn=Math.abs(Ft)/Rt;if(Math.abs(Ft)>=xD||Hn>.11){Dt(An.current),y.onDismiss==null||y.onDismiss.call(y,y),Q(Z==="x"?Jt>0?"right":"left":Sn>0?"down":"up"),Tn(),Ae(!0);return}else{var Ut,fn;(Ut=st.current)==null||Ut.style.setProperty("--swipe-amount-x","0px"),(fn=st.current)==null||fn.style.setProperty("--swipe-amount-y","0px")}Se(!1),ge(!1),se(null)},onPointerMove:Fe=>{var mt,Mt,Jt;if(!Sr.current||!ar||((mt=window.getSelection())==null?void 0:mt.toString().length)>0)return;const Rt=Fe.clientY-Sr.current.y,Ft=Fe.clientX-Sr.current.x;var Hn;const Ut=(Hn=n.swipeDirections)!=null?Hn:_D(j);!Z&&(Math.abs(Ft)>1||Math.abs(Rt)>1)&&se(Math.abs(Ft)>Math.abs(Rt)?"x":"y");let fn={x:0,y:0};const cr=Zt=>1/(1.5+Math.abs(Zt)/20);if(Z==="y"){if(Ut.includes("top")||Ut.includes("bottom"))if(Ut.includes("top")&&Rt<0||Ut.includes("bottom")&&Rt>0)fn.y=Rt;else{const Zt=Rt*cr(Rt);fn.y=Math.abs(Zt)<Math.abs(Rt)?Zt:Rt}}else if(Z==="x"&&(Ut.includes("left")||Ut.includes("right")))if(Ut.includes("left")&&Ft<0||Ut.includes("right")&&Ft>0)fn.x=Ft;else{const Zt=Ft*cr(Ft);fn.x=Math.abs(Zt)<Math.abs(Ft)?Zt:Ft}(Math.abs(fn.x)>0||Math.abs(fn.y)>0)&&Se(!0),(Mt=st.current)==null||Mt.style.setProperty("--swipe-amount-x",`${fn.x}px`),(Jt=st.current)==null||Jt.style.setProperty("--swipe-amount-y",`${fn.y}px`)}},oi&&!y.jsx&&Gt!=="loading"?fe.createElement("button",{"aria-label":q,"data-disabled":lr,"data-close-button":!0,onClick:lr||!ar?()=>{}:()=>{Tn(),y.onDismiss==null||y.onDismiss.call(y,y)},className:us(ie==null?void 0:ie.closeButton,y==null||(r=y.classNames)==null?void 0:r.closeButton)},(di=ye==null?void 0:ye.close)!=null?di:oD):null,(Gt||y.icon||y.promise)&&y.icon!==null&&((ye==null?void 0:ye[Gt])!==null||y.icon)?fe.createElement("div",{"data-icon":"",className:us(ie==null?void 0:ie.icon,y==null||(i=y.classNames)==null?void 0:i.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||Ir():null,y.type!=="loading"?Nr:null):null,fe.createElement("div",{"data-content":"",className:us(ie==null?void 0:ie.content,y==null||(a=y.classNames)==null?void 0:a.content)},fe.createElement("div",{"data-title":"",className:us(ie==null?void 0:ie.title,y==null||(u=y.classNames)==null?void 0:u.title)},y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title),y.description?fe.createElement("div",{"data-description":"",className:us(D,Hr,ie==null?void 0:ie.description,y==null||(h=y.classNames)==null?void 0:h.description)},typeof y.description=="function"?y.description():y.description):null),fe.isValidElement(y.cancel)?y.cancel:y.cancel&&kd(y.cancel)?fe.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||S,onClick:Fe=>{kd(y.cancel)&&ar&&(y.cancel.onClick==null||y.cancel.onClick.call(y.cancel,Fe),Tn())},className:us(ie==null?void 0:ie.cancelButton,y==null||(m=y.classNames)==null?void 0:m.cancelButton)},y.cancel.label):null,fe.isValidElement(y.action)?y.action:y.action&&kd(y.action)?fe.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||P,onClick:Fe=>{kd(y.action)&&(y.action.onClick==null||y.action.onClick.call(y.action,Fe),!Fe.defaultPrevented&&Tn())},className:us(ie==null?void 0:ie.actionButton,y==null||(p=y.classNames)==null?void 0:p.actionButton)},y.action.label):null)};function t_(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function bD(n,e){const t={};return[n,e].forEach((r,i)=>{const a=i===1,u=a?"--mobile-offset":"--offset",h=a?gD:pD;function m(p){["top","right","bottom","left"].forEach(v=>{t[`${u}-${v}`]=typeof p=="number"?`${p}px`:p})}typeof r=="number"||typeof r=="string"?m(r):typeof r=="object"?["top","right","bottom","left"].forEach(p=>{r[p]===void 0?t[`${u}-${p}`]=h:t[`${u}-${p}`]=typeof r[p]=="number"?`${r[p]}px`:r[p]}):m(h)}),t}const TD=fe.forwardRef(function(e,t){const{invert:r,position:i="bottom-right",hotkey:a=["altKey","KeyT"],expand:u,closeButton:h,className:m,offset:p,mobileOffset:v,theme:y="light",richColors:_,duration:I,style:A,visibleToasts:N=mD,toastOptions:R,dir:L=t_(),gap:z=vD,icons:F,containerAriaLabel:K="Notifications"}=e,[J,te]=fe.useState([]),C=fe.useMemo(()=>Array.from(new Set([i].concat(J.filter(V=>V.position).map(V=>V.position)))),[J,i]),[S,P]=fe.useState([]),[O,D]=fe.useState(!1),[U,j]=fe.useState(!1),[ve,be]=fe.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ie=fe.useRef(null),ye=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=fe.useRef(null),Z=fe.useRef(!1),se=fe.useCallback(V=>{te(Q=>{var ce;return(ce=Q.find(me=>me.id===V.id))!=null&&ce.delete||Ln.dismiss(V.id),Q.filter(({id:me})=>me!==V.id)})},[]);return fe.useEffect(()=>Ln.subscribe(V=>{if(V.dismiss){requestAnimationFrame(()=>{te(Q=>Q.map(ce=>ce.id===V.id?{...ce,delete:!0}:ce))});return}setTimeout(()=>{xb.flushSync(()=>{te(Q=>{const ce=Q.findIndex(me=>me.id===V.id);return ce!==-1?[...Q.slice(0,ce),{...Q[ce],...V},...Q.slice(ce+1)]:[V,...Q]})})})}),[J]),fe.useEffect(()=>{if(y!=="system"){be(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?be("dark"):be("light")),typeof window>"u")return;const V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:Q})=>{be(Q?"dark":"light")})}catch{V.addListener(({matches:ce})=>{try{be(ce?"dark":"light")}catch(me){console.error(me)}})}},[y]),fe.useEffect(()=>{J.length<=1&&D(!1)},[J]),fe.useEffect(()=>{const V=Q=>{var ce;if(a.every(ue=>Q[ue]||Q.code===ue)){var de;D(!0),(de=ie.current)==null||de.focus()}Q.code==="Escape"&&(document.activeElement===ie.current||(ce=ie.current)!=null&&ce.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[a]),fe.useEffect(()=>{if(ie.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,Z.current=!1)}},[ie.current]),fe.createElement("section",{ref:t,"aria-label":`${K} ${ye}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((V,Q)=>{var ce;const[me,de]=V.split("-");return J.length?fe.createElement("ol",{key:V,dir:L==="auto"?t_():L,tabIndex:-1,ref:ie,className:m,"data-sonner-toaster":!0,"data-sonner-theme":ve,"data-y-position":me,"data-lifted":O&&J.length>1&&!u,"data-x-position":de,style:{"--front-toast-height":`${((ce=S[0])==null?void 0:ce.height)||0}px`,"--width":`${yD}px`,"--gap":`${z}px`,...A,...bD(p,v)},onBlur:ue=>{Z.current&&!ue.currentTarget.contains(ue.relatedTarget)&&(Z.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||Z.current||(Z.current=!0,q.current=ue.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{U||D(!1)},onDragEnd:()=>D(!1),onPointerDown:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||j(!0)},onPointerUp:()=>j(!1)},J.filter(ue=>!ue.position&&Q===0||ue.position===V).map((ue,ee)=>{var ge,we;return fe.createElement(ED,{key:ue.id,icons:F,index:ee,toast:ue,defaultRichColors:_,duration:(ge=R==null?void 0:R.duration)!=null?ge:I,className:R==null?void 0:R.className,descriptionClassName:R==null?void 0:R.descriptionClassName,invert:r,visibleToasts:N,closeButton:(we=R==null?void 0:R.closeButton)!=null?we:h,interacting:U,position:V,style:R==null?void 0:R.style,unstyled:R==null?void 0:R.unstyled,classNames:R==null?void 0:R.classNames,cancelButtonStyle:R==null?void 0:R.cancelButtonStyle,actionButtonStyle:R==null?void 0:R.actionButtonStyle,closeButtonAriaLabel:R==null?void 0:R.closeButtonAriaLabel,removeToast:se,toasts:J.filter(Ae=>Ae.position==ue.position),heights:S.filter(Ae=>Ae.position==ue.position),setHeights:P,expandByDefault:u,gap:z,expanded:O,swipeDirections:e.swipeDirections})})):null}))});/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ID=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),n_=n=>{const e=ID(n);return e.charAt(0).toUpperCase()+e.slice(1)},wb=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ND={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=b.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:u,...h},m)=>b.createElement("svg",{ref:m,...ND,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:wb("lucide",i),...h},[...u.map(([p,v])=>b.createElement(p,v)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=(n,e)=>{const t=b.forwardRef(({className:r,...i},a)=>b.createElement(CD,{ref:a,iconNode:e,className:wb(`lucide-${SD(n_(n))}`,`lucide-${n}`,r),...i}));return t.displayName=n_(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],RD=Qe("arrow-left",AD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],r_=Qe("arrow-right",kD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],jD=Qe("award",PD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]],MD=Qe("bike",DD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],_b=Qe("book-open",OD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],VD=Qe("book",LD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],el=Qe("calendar",FD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Eb=Qe("check",UD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],bb=Qe("chevron-down",zD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],$D=Qe("chevron-up",BD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Tb=Qe("circle-check",qD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Sb=Qe("clock",HD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],GD=Qe("external-link",WD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]],QD=Qe("file-video",KD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],XD=Qe("house",YD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]],ZD=Qe("laptop",JD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],Gi=Qe("leaf",eM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],xp=Qe("lightbulb",tM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],wp=Qe("lock",nM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Ib=Qe("log-out",rM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],iM=Qe("mail",sM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Rc=Qe("message-circle",oM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ui=Qe("package",aM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],cM=Qe("play",lM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_p=Qe("plus",uM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]],Nb=Qe("recycle",dM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],dg=Qe("repeat",hM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],s_=Qe("send",fM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],pM=Qe("shirt",mM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"M20 9V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3",key:"1dgpiv"}],["path",{d:"M2 16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"xacw8m"}],["path",{d:"M4 18v2",key:"jwo5n2"}],["path",{d:"M20 18v2",key:"1ar1qi"}],["path",{d:"M12 4v9",key:"oqhhn3"}]],yM=Qe("sofa",gM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Ry=Qe("sparkles",vM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],wM=Qe("square-pen",xM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],EM=Qe("star",_M);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],i_=Qe("thumbs-up",bM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],SM=Qe("trash-2",TM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Ki=Qe("trending-up",IM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Cb=Qe("upload",NM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ab=Qe("user",CM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],RM=Qe("users",AM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],Ep=Qe("wrench",kM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cu=Qe("x",PM),jM=({onSwitchToSignup:n,onClose:e})=>{const[t,r]=b.useState(""),[i,a]=b.useState(""),[u,h]=b.useState(!1),{login:m,loginWithGoogle:p}=ri(),v=async _=>{_.preventDefault(),h(!0);try{await m(t,i),Ve.success("Connexion russie !"),e()}catch(I){Ve.error(I.message||"Erreur lors de la connexion")}finally{h(!1)}},y=async()=>{try{await p(),Ve.success("Connexion avec Google russie !"),e()}catch(_){Ve.error(_.message||"Erreur lors de la connexion avec Google")}};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 px-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full relative",children:[l.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(cu,{className:"w-6 h-6"})}),l.jsxs("div",{className:"text-center mb-8",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[l.jsx("div",{className:"w-10 h-10 bg-emerald-500 rounded-full flex items-center justify-center",children:l.jsx(Nb,{className:"w-6 h-6 text-white"})}),l.jsx("span",{className:"text-2xl font-semibold text-gray-900",children:"SecondLife"})]}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Connexion"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Bienvenue sur SecondLife"})]}),l.jsxs("button",{onClick:y,type:"button",className:"w-full flex items-center justify-center gap-3 px-4 py-3 border-2 border-gray-200 rounded-lg hover:bg-gray-50 transition-colors mb-6",children:[l.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),l.jsx("span",{className:"font-medium text-gray-700",children:"Continuer avec Google"})]}),l.jsxs("div",{className:"relative mb-6",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-gray-300"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Ou avec email"})})]}),l.jsxs("form",{onSubmit:v,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),l.jsx("input",{id:"email",type:"email",value:t,onChange:_=>r(_.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"votre@email.com"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Mot de passe"}),l.jsx("input",{id:"password",type:"password",value:i,onChange:_=>a(_.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:""})]}),l.jsx("button",{type:"submit",disabled:u,className:"w-full bg-emerald-500 text-white py-3 rounded-lg font-medium hover:bg-emerald-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Connexion...":"Se connecter"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-gray-600",children:["Pas encore de compte ?"," ",l.jsx("button",{onClick:n,className:"text-emerald-600 hover:text-emerald-700 font-medium",children:"S'inscrire"})]})})]})})},DM=({onSwitchToLogin:n,onClose:e})=>{const[t,r]=b.useState(""),[i,a]=b.useState(""),[u,h]=b.useState(""),[m,p]=b.useState(""),[v,y]=b.useState(!1),{signup:_,loginWithGoogle:I}=ri(),A=async R=>{if(R.preventDefault(),u!==m){Ve.error("Les mots de passe ne correspondent pas");return}if(u.length<6){Ve.error("Le mot de passe doit contenir au moins 6 caractres");return}y(!0);try{await _(t,i,u),Ve.success("Compte cr avec succs !"),e()}catch(L){Ve.error(L.message||"Erreur lors de la cration du compte")}finally{y(!1)}},N=async()=>{try{await I(),Ve.success("Inscription avec Google russie !"),e()}catch(R){Ve.error(R.message||"Erreur lors de l'inscription avec Google")}};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 px-4 py-8 overflow-y-auto",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full my-auto relative",children:[l.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(cu,{className:"w-6 h-6"})}),l.jsxs("div",{className:"text-center mb-6",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[l.jsx("div",{className:"w-10 h-10 bg-emerald-500 rounded-full flex items-center justify-center",children:l.jsx(Nb,{className:"w-6 h-6 text-white"})}),l.jsx("span",{className:"text-2xl font-semibold text-gray-900",children:"SecondLife"})]}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Crer un compte"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Rejoignez la communaut SecondLife"})]}),l.jsxs("button",{onClick:N,type:"button",className:"w-full flex items-center justify-center gap-3 px-4 py-2.5 border-2 border-gray-200 rounded-lg hover:bg-gray-50 transition-colors mb-4",children:[l.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),l.jsx("span",{className:"font-medium text-gray-700",children:"Continuer avec Google"})]}),l.jsxs("div",{className:"relative mb-4",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-gray-300"})}),l.jsx("div",{className:"relative flex justify-center text-xs",children:l.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Ou avec email"})})]}),l.jsxs("form",{onSubmit:A,className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom complet"}),l.jsx("input",{id:"name",type:"text",value:t,onChange:R=>r(R.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent text-sm",placeholder:"Votre nom"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),l.jsx("input",{id:"email",type:"email",value:i,onChange:R=>a(R.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent text-sm",placeholder:"votre@email.com"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mot de passe"}),l.jsx("input",{id:"password",type:"password",value:u,onChange:R=>h(R.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent text-sm",placeholder:""})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmer le mot de passe"}),l.jsx("input",{id:"confirmPassword",type:"password",value:m,onChange:R=>p(R.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent text-sm",placeholder:""})]}),l.jsx("button",{type:"submit",disabled:v,className:"w-full bg-emerald-500 text-white py-2.5 rounded-lg font-medium hover:bg-emerald-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed mt-4",children:v?"Cration...":"S'inscrire"})]}),l.jsx("div",{className:"mt-4 text-center",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["Vous avez dj un compte ?"," ",l.jsx("button",{onClick:n,className:"text-emerald-600 hover:text-emerald-700 font-medium",children:"Se connecter"})]})})]})})};function o_(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function lf(...n){return e=>{let t=!1;const r=n.map(i=>{const a=o_(i,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():o_(n[i],null)}}}}function gt(...n){return b.useCallback(lf(...n),n)}var ei=b.forwardRef((n,e)=>{const{children:t,...r}=n,i=b.Children.toArray(t),a=i.find(OM);if(a){const u=a.props.children,h=i.map(m=>m===a?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:m);return l.jsx(hg,{...r,ref:e,children:b.isValidElement(u)?b.cloneElement(u,void 0,h):null})}return l.jsx(hg,{...r,ref:e,children:t})});ei.displayName="Slot";var hg=b.forwardRef((n,e)=>{const{children:t,...r}=n;if(b.isValidElement(t)){const i=VM(t),a=LM(r,t.props);return t.type!==b.Fragment&&(a.ref=e?lf(e,i):i),b.cloneElement(t,a)}return b.Children.count(t)>1?b.Children.only(null):null});hg.displayName="SlotClone";var MM=({children:n})=>l.jsx(l.Fragment,{children:n});function OM(n){return b.isValidElement(n)&&n.type===MM}function LM(n,e){const t={...e};for(const r in e){const i=n[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?t[r]=(...h)=>{a(...h),i(...h)}:i&&(t[r]=i):r==="style"?t[r]={...i,...a}:r==="className"&&(t[r]=[i,a].filter(Boolean).join(" "))}return{...n,...t}}function VM(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Rb(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=Rb(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function kb(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=Rb(n))&&(r&&(r+=" "),r+=e);return r}const a_=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,l_=kb,Pb=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return l_(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:a}=e,u=Object.keys(i).map(p=>{const v=t==null?void 0:t[p],y=a==null?void 0:a[p];if(v===null)return null;const _=a_(v)||a_(y);return i[p][_]}),h=t&&Object.entries(t).reduce((p,v)=>{let[y,_]=v;return _===void 0||(p[y]=_),p},{}),m=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,v)=>{let{class:y,className:_,...I}=v;return Object.entries(I).every(A=>{let[N,R]=A;return Array.isArray(R)?R.includes({...a,...h}[N]):{...a,...h}[N]===R})?[...p,y,_]:p},[]);return l_(n,u,m,t==null?void 0:t.class,t==null?void 0:t.className)},ky="-",FM=n=>{const e=zM(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:u=>{const h=u.split(ky);return h[0]===""&&h.length!==1&&h.shift(),jb(h,e)||UM(u)},getConflictingClassGroupIds:(u,h)=>{const m=t[u]||[];return h&&r[u]?[...m,...r[u]]:m}}},jb=(n,e)=>{var u;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?jb(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=n.join(ky);return(u=e.validators.find(({validator:h})=>h(a)))==null?void 0:u.classGroupId},c_=/^\[(.+)\]$/,UM=n=>{if(c_.test(n)){const e=c_.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},zM=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const i in t)fg(t[i],r,i,e);return r},fg=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const a=i===""?e:u_(e,i);a.classGroupId=t;return}if(typeof i=="function"){if(BM(i)){fg(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([a,u])=>{fg(u,u_(e,a),t,r)})})},u_=(n,e)=>{let t=n;return e.split(ky).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},BM=n=>n.isThemeGetter,$M=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(a,u)=>{t.set(a,u),e++,e>n&&(e=0,r=t,t=new Map)};return{get(a){let u=t.get(a);if(u!==void 0)return u;if((u=r.get(a))!==void 0)return i(a,u),u},set(a,u){t.has(a)?t.set(a,u):i(a,u)}}},mg="!",pg=":",qM=pg.length,HM=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=i=>{const a=[];let u=0,h=0,m=0,p;for(let A=0;A<i.length;A++){let N=i[A];if(u===0&&h===0){if(N===pg){a.push(i.slice(m,A)),m=A+qM;continue}if(N==="/"){p=A;continue}}N==="["?u++:N==="]"?u--:N==="("?h++:N===")"&&h--}const v=a.length===0?i:i.substring(m),y=WM(v),_=y!==v,I=p&&p>m?p-m:void 0;return{modifiers:a,hasImportantModifier:_,baseClassName:y,maybePostfixModifierPosition:I}};if(e){const i=e+pg,a=r;r=u=>u.startsWith(i)?a(u.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(t){const i=r;r=a=>t({className:a,parseClassName:i})}return r},WM=n=>n.endsWith(mg)?n.substring(0,n.length-1):n.startsWith(mg)?n.substring(1):n,GM=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let a=[];return r.forEach(u=>{u[0]==="["||e[u]?(i.push(...a.sort(),u),a=[]):a.push(u)}),i.push(...a.sort()),i}},KM=n=>({cache:$M(n.cacheSize),parseClassName:HM(n),sortModifiers:GM(n),...FM(n)}),QM=/\s+/,YM=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=e,u=[],h=n.trim().split(QM);let m="";for(let p=h.length-1;p>=0;p-=1){const v=h[p],{isExternal:y,modifiers:_,hasImportantModifier:I,baseClassName:A,maybePostfixModifierPosition:N}=t(v);if(y){m=v+(m.length>0?" "+m:m);continue}let R=!!N,L=r(R?A.substring(0,N):A);if(!L){if(!R){m=v+(m.length>0?" "+m:m);continue}if(L=r(A),!L){m=v+(m.length>0?" "+m:m);continue}R=!1}const z=a(_).join(":"),F=I?z+mg:z,K=F+L;if(u.includes(K))continue;u.push(K);const J=i(L,R);for(let te=0;te<J.length;++te){const C=J[te];u.push(F+C)}m=v+(m.length>0?" "+m:m)}return m};function XM(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Db(e))&&(r&&(r+=" "),r+=t);return r}const Db=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=Db(n[r]))&&(t&&(t+=" "),t+=e);return t};function JM(n,...e){let t,r,i,a=u;function u(m){const p=e.reduce((v,y)=>y(v),n());return t=KM(p),r=t.cache.get,i=t.cache.set,a=h,h(m)}function h(m){const p=r(m);if(p)return p;const v=YM(m,t);return i(m,v),v}return function(){return a(XM.apply(null,arguments))}}const Yt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},Mb=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Ob=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ZM=/^\d+\/\d+$/,e4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,t4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,n4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,r4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,s4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ba=n=>ZM.test(n),Xe=n=>!!n&&!Number.isNaN(Number(n)),ji=n=>!!n&&Number.isInteger(Number(n)),bp=n=>n.endsWith("%")&&Xe(n.slice(0,-1)),Bs=n=>e4.test(n),i4=()=>!0,o4=n=>t4.test(n)&&!n4.test(n),Lb=()=>!1,a4=n=>r4.test(n),l4=n=>s4.test(n),c4=n=>!Ne(n)&&!Ce(n),u4=n=>wl(n,Ub,Lb),Ne=n=>Mb.test(n),Fo=n=>wl(n,zb,o4),Tp=n=>wl(n,p4,Xe),d_=n=>wl(n,Vb,Lb),d4=n=>wl(n,Fb,l4),Pd=n=>wl(n,Bb,a4),Ce=n=>Ob.test(n),mc=n=>_l(n,zb),h4=n=>_l(n,g4),h_=n=>_l(n,Vb),f4=n=>_l(n,Ub),m4=n=>_l(n,Fb),jd=n=>_l(n,Bb,!0),wl=(n,e,t)=>{const r=Mb.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},_l=(n,e,t=!1)=>{const r=Ob.exec(n);return r?r[1]?e(r[1]):t:!1},Vb=n=>n==="position"||n==="percentage",Fb=n=>n==="image"||n==="url",Ub=n=>n==="length"||n==="size"||n==="bg-size",zb=n=>n==="length",p4=n=>n==="number",g4=n=>n==="family-name",Bb=n=>n==="shadow",y4=()=>{const n=Yt("color"),e=Yt("font"),t=Yt("text"),r=Yt("font-weight"),i=Yt("tracking"),a=Yt("leading"),u=Yt("breakpoint"),h=Yt("container"),m=Yt("spacing"),p=Yt("radius"),v=Yt("shadow"),y=Yt("inset-shadow"),_=Yt("text-shadow"),I=Yt("drop-shadow"),A=Yt("blur"),N=Yt("perspective"),R=Yt("aspect"),L=Yt("ease"),z=Yt("animate"),F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],J=()=>[...K(),Ce,Ne],te=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],S=()=>[Ce,Ne,m],P=()=>[Ba,"full","auto",...S()],O=()=>[ji,"none","subgrid",Ce,Ne],D=()=>["auto",{span:["full",ji,Ce,Ne]},ji,Ce,Ne],U=()=>[ji,"auto",Ce,Ne],j=()=>["auto","min","max","fr",Ce,Ne],ve=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],be=()=>["start","end","center","stretch","center-safe","end-safe"],ie=()=>["auto",...S()],ye=()=>[Ba,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],q=()=>[n,Ce,Ne],Z=()=>[...K(),h_,d_,{position:[Ce,Ne]}],se=()=>["no-repeat",{repeat:["","x","y","space","round"]}],V=()=>["auto","cover","contain",f4,u4,{size:[Ce,Ne]}],Q=()=>[bp,mc,Fo],ce=()=>["","none","full",p,Ce,Ne],me=()=>["",Xe,mc,Fo],de=()=>["solid","dashed","dotted","double"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ee=()=>[Xe,bp,h_,d_],ge=()=>["","none",A,Ce,Ne],we=()=>["none",Xe,Ce,Ne],Ae=()=>["none",Xe,Ce,Ne],$e=()=>[Xe,Ce,Ne],Se=()=>[Ba,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Bs],breakpoint:[Bs],color:[i4],container:[Bs],"drop-shadow":[Bs],ease:["in","out","in-out"],font:[c4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Bs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Bs],shadow:[Bs],spacing:["px",Xe],text:[Bs],"text-shadow":[Bs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ba,Ne,Ce,R]}],container:["container"],columns:[{columns:[Xe,Ne,Ce,h]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:J()}],overflow:[{overflow:te()}],"overflow-x":[{"overflow-x":te()}],"overflow-y":[{"overflow-y":te()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[ji,"auto",Ce,Ne]}],basis:[{basis:[Ba,"full","auto",h,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Xe,Ba,"auto","initial","none",Ne]}],grow:[{grow:["",Xe,Ce,Ne]}],shrink:[{shrink:["",Xe,Ce,Ne]}],order:[{order:[ji,"first","last","none",Ce,Ne]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":j()}],"auto-rows":[{"auto-rows":j()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...ve(),"normal"]}],"justify-items":[{"justify-items":[...be(),"normal"]}],"justify-self":[{"justify-self":["auto",...be()]}],"align-content":[{content:["normal",...ve()]}],"align-items":[{items:[...be(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...be(),{baseline:["","last"]}]}],"place-content":[{"place-content":ve()}],"place-items":[{"place-items":[...be(),"baseline"]}],"place-self":[{"place-self":["auto",...be()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:ie()}],mx:[{mx:ie()}],my:[{my:ie()}],ms:[{ms:ie()}],me:[{me:ie()}],mt:[{mt:ie()}],mr:[{mr:ie()}],mb:[{mb:ie()}],ml:[{ml:ie()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:ye()}],w:[{w:[h,"screen",...ye()]}],"min-w":[{"min-w":[h,"screen","none",...ye()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[u]},...ye()]}],h:[{h:["screen",...ye()]}],"min-h":[{"min-h":["screen","none",...ye()]}],"max-h":[{"max-h":["screen",...ye()]}],"font-size":[{text:["base",t,mc,Fo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ce,Tp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",bp,Ne]}],"font-family":[{font:[h4,Ne,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ce,Ne]}],"line-clamp":[{"line-clamp":[Xe,"none",Ce,Tp]}],leading:[{leading:[a,...S()]}],"list-image":[{"list-image":["none",Ce,Ne]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ce,Ne]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:q()}],"text-color":[{text:q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...de(),"wavy"]}],"text-decoration-thickness":[{decoration:[Xe,"from-font","auto",Ce,Fo]}],"text-decoration-color":[{decoration:q()}],"underline-offset":[{"underline-offset":[Xe,"auto",Ce,Ne]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce,Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce,Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Z()}],"bg-repeat":[{bg:se()}],"bg-size":[{bg:V()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ji,Ce,Ne],radial:["",Ce,Ne],conic:[ji,Ce,Ne]},m4,d4]}],"bg-color":[{bg:q()}],"gradient-from-pos":[{from:Q()}],"gradient-via-pos":[{via:Q()}],"gradient-to-pos":[{to:Q()}],"gradient-from":[{from:q()}],"gradient-via":[{via:q()}],"gradient-to":[{to:q()}],rounded:[{rounded:ce()}],"rounded-s":[{"rounded-s":ce()}],"rounded-e":[{"rounded-e":ce()}],"rounded-t":[{"rounded-t":ce()}],"rounded-r":[{"rounded-r":ce()}],"rounded-b":[{"rounded-b":ce()}],"rounded-l":[{"rounded-l":ce()}],"rounded-ss":[{"rounded-ss":ce()}],"rounded-se":[{"rounded-se":ce()}],"rounded-ee":[{"rounded-ee":ce()}],"rounded-es":[{"rounded-es":ce()}],"rounded-tl":[{"rounded-tl":ce()}],"rounded-tr":[{"rounded-tr":ce()}],"rounded-br":[{"rounded-br":ce()}],"rounded-bl":[{"rounded-bl":ce()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...de(),"hidden","none"]}],"divide-style":[{divide:[...de(),"hidden","none"]}],"border-color":[{border:q()}],"border-color-x":[{"border-x":q()}],"border-color-y":[{"border-y":q()}],"border-color-s":[{"border-s":q()}],"border-color-e":[{"border-e":q()}],"border-color-t":[{"border-t":q()}],"border-color-r":[{"border-r":q()}],"border-color-b":[{"border-b":q()}],"border-color-l":[{"border-l":q()}],"divide-color":[{divide:q()}],"outline-style":[{outline:[...de(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Xe,Ce,Ne]}],"outline-w":[{outline:["",Xe,mc,Fo]}],"outline-color":[{outline:q()}],shadow:[{shadow:["","none",v,jd,Pd]}],"shadow-color":[{shadow:q()}],"inset-shadow":[{"inset-shadow":["none",y,jd,Pd]}],"inset-shadow-color":[{"inset-shadow":q()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:q()}],"ring-offset-w":[{"ring-offset":[Xe,Fo]}],"ring-offset-color":[{"ring-offset":q()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":q()}],"text-shadow":[{"text-shadow":["none",_,jd,Pd]}],"text-shadow-color":[{"text-shadow":q()}],opacity:[{opacity:[Xe,Ce,Ne]}],"mix-blend":[{"mix-blend":[...ue(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ue()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Xe]}],"mask-image-linear-from-pos":[{"mask-linear-from":ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":ee()}],"mask-image-linear-from-color":[{"mask-linear-from":q()}],"mask-image-linear-to-color":[{"mask-linear-to":q()}],"mask-image-t-from-pos":[{"mask-t-from":ee()}],"mask-image-t-to-pos":[{"mask-t-to":ee()}],"mask-image-t-from-color":[{"mask-t-from":q()}],"mask-image-t-to-color":[{"mask-t-to":q()}],"mask-image-r-from-pos":[{"mask-r-from":ee()}],"mask-image-r-to-pos":[{"mask-r-to":ee()}],"mask-image-r-from-color":[{"mask-r-from":q()}],"mask-image-r-to-color":[{"mask-r-to":q()}],"mask-image-b-from-pos":[{"mask-b-from":ee()}],"mask-image-b-to-pos":[{"mask-b-to":ee()}],"mask-image-b-from-color":[{"mask-b-from":q()}],"mask-image-b-to-color":[{"mask-b-to":q()}],"mask-image-l-from-pos":[{"mask-l-from":ee()}],"mask-image-l-to-pos":[{"mask-l-to":ee()}],"mask-image-l-from-color":[{"mask-l-from":q()}],"mask-image-l-to-color":[{"mask-l-to":q()}],"mask-image-x-from-pos":[{"mask-x-from":ee()}],"mask-image-x-to-pos":[{"mask-x-to":ee()}],"mask-image-x-from-color":[{"mask-x-from":q()}],"mask-image-x-to-color":[{"mask-x-to":q()}],"mask-image-y-from-pos":[{"mask-y-from":ee()}],"mask-image-y-to-pos":[{"mask-y-to":ee()}],"mask-image-y-from-color":[{"mask-y-from":q()}],"mask-image-y-to-color":[{"mask-y-to":q()}],"mask-image-radial":[{"mask-radial":[Ce,Ne]}],"mask-image-radial-from-pos":[{"mask-radial-from":ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":ee()}],"mask-image-radial-from-color":[{"mask-radial-from":q()}],"mask-image-radial-to-color":[{"mask-radial-to":q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":K()}],"mask-image-conic-pos":[{"mask-conic":[Xe]}],"mask-image-conic-from-pos":[{"mask-conic-from":ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":ee()}],"mask-image-conic-from-color":[{"mask-conic-from":q()}],"mask-image-conic-to-color":[{"mask-conic-to":q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Z()}],"mask-repeat":[{mask:se()}],"mask-size":[{mask:V()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ce,Ne]}],filter:[{filter:["","none",Ce,Ne]}],blur:[{blur:ge()}],brightness:[{brightness:[Xe,Ce,Ne]}],contrast:[{contrast:[Xe,Ce,Ne]}],"drop-shadow":[{"drop-shadow":["","none",I,jd,Pd]}],"drop-shadow-color":[{"drop-shadow":q()}],grayscale:[{grayscale:["",Xe,Ce,Ne]}],"hue-rotate":[{"hue-rotate":[Xe,Ce,Ne]}],invert:[{invert:["",Xe,Ce,Ne]}],saturate:[{saturate:[Xe,Ce,Ne]}],sepia:[{sepia:["",Xe,Ce,Ne]}],"backdrop-filter":[{"backdrop-filter":["","none",Ce,Ne]}],"backdrop-blur":[{"backdrop-blur":ge()}],"backdrop-brightness":[{"backdrop-brightness":[Xe,Ce,Ne]}],"backdrop-contrast":[{"backdrop-contrast":[Xe,Ce,Ne]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Xe,Ce,Ne]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Xe,Ce,Ne]}],"backdrop-invert":[{"backdrop-invert":["",Xe,Ce,Ne]}],"backdrop-opacity":[{"backdrop-opacity":[Xe,Ce,Ne]}],"backdrop-saturate":[{"backdrop-saturate":[Xe,Ce,Ne]}],"backdrop-sepia":[{"backdrop-sepia":["",Xe,Ce,Ne]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ce,Ne]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Xe,"initial",Ce,Ne]}],ease:[{ease:["linear","initial",L,Ce,Ne]}],delay:[{delay:[Xe,Ce,Ne]}],animate:[{animate:["none",z,Ce,Ne]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,Ce,Ne]}],"perspective-origin":[{"perspective-origin":J()}],rotate:[{rotate:we()}],"rotate-x":[{"rotate-x":we()}],"rotate-y":[{"rotate-y":we()}],"rotate-z":[{"rotate-z":we()}],scale:[{scale:Ae()}],"scale-x":[{"scale-x":Ae()}],"scale-y":[{"scale-y":Ae()}],"scale-z":[{"scale-z":Ae()}],"scale-3d":["scale-3d"],skew:[{skew:$e()}],"skew-x":[{"skew-x":$e()}],"skew-y":[{"skew-y":$e()}],transform:[{transform:[Ce,Ne,"","none","gpu","cpu"]}],"transform-origin":[{origin:J()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Se()}],"translate-x":[{"translate-x":Se()}],"translate-y":[{"translate-y":Se()}],"translate-z":[{"translate-z":Se()}],"translate-none":["translate-none"],accent:[{accent:q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce,Ne]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce,Ne]}],fill:[{fill:["none",...q()]}],"stroke-w":[{stroke:[Xe,mc,Fo,Tp]}],stroke:[{stroke:["none",...q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},v4=JM(y4);function lt(...n){return v4(kb(n))}const x4=Pb("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function rt({className:n,variant:e,size:t,asChild:r=!1,...i}){const a=r?ei:"button";return l.jsx(a,{"data-slot":"button",className:lt(x4({variant:e,size:t,className:n})),...i})}function w4(n,e){const t=b.createContext(e),r=a=>{const{children:u,...h}=a,m=b.useMemo(()=>h,Object.values(h));return l.jsx(t.Provider,{value:m,children:u})};r.displayName=n+"Provider";function i(a){const u=b.useContext(t);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[r,i]}function si(n,e=[]){let t=[];function r(a,u){const h=b.createContext(u),m=t.length;t=[...t,u];const p=y=>{var L;const{scope:_,children:I,...A}=y,N=((L=_==null?void 0:_[n])==null?void 0:L[m])||h,R=b.useMemo(()=>A,Object.values(A));return l.jsx(N.Provider,{value:R,children:I})};p.displayName=a+"Provider";function v(y,_){var N;const I=((N=_==null?void 0:_[n])==null?void 0:N[m])||h,A=b.useContext(I);if(A)return A;if(u!==void 0)return u;throw new Error(`\`${y}\` must be used within \`${a}\``)}return[p,v]}const i=()=>{const a=t.map(u=>b.createContext(u));return function(h){const m=(h==null?void 0:h[n])||a;return b.useMemo(()=>({[`__scope${n}`]:{...h,[n]:m}}),[h,m])}};return i.scopeName=n,[r,_4(i,...e)]}function _4(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const u=r.reduce((h,{useScope:m,scopeName:p})=>{const y=m(a)[`__scope${p}`];return{...h,...y}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function ir(n){const e=b.useRef(n);return b.useEffect(()=>{e.current=n}),b.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}var hn=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},E4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ye=E4.reduce((n,e)=>{const t=b.forwardRef((r,i)=>{const{asChild:a,...u}=r,h=a?ei:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(h,{...u,ref:i})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function $b(n,e){n&&lu.flushSync(()=>n.dispatchEvent(e))}var Py="Avatar",[b4]=si(Py),[T4,qb]=b4(Py),Hb=b.forwardRef((n,e)=>{const{__scopeAvatar:t,...r}=n,[i,a]=b.useState("idle");return l.jsx(T4,{scope:t,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:l.jsx(Ye.span,{...r,ref:e})})});Hb.displayName=Py;var Wb="AvatarImage",Gb=b.forwardRef((n,e)=>{const{__scopeAvatar:t,src:r,onLoadingStatusChange:i=()=>{},...a}=n,u=qb(Wb,t),h=S4(r,a.referrerPolicy),m=ir(p=>{i(p),u.onImageLoadingStatusChange(p)});return hn(()=>{h!=="idle"&&m(h)},[h,m]),h==="loaded"?l.jsx(Ye.img,{...a,ref:e,src:r}):null});Gb.displayName=Wb;var Kb="AvatarFallback",Qb=b.forwardRef((n,e)=>{const{__scopeAvatar:t,delayMs:r,...i}=n,a=qb(Kb,t),[u,h]=b.useState(r===void 0);return b.useEffect(()=>{if(r!==void 0){const m=window.setTimeout(()=>h(!0),r);return()=>window.clearTimeout(m)}},[r]),u&&a.imageLoadingStatus!=="loaded"?l.jsx(Ye.span,{...i,ref:e}):null});Qb.displayName=Kb;function S4(n,e){const[t,r]=b.useState("idle");return hn(()=>{if(!n){r("error");return}let i=!0;const a=new window.Image,u=h=>()=>{i&&r(h)};return r("loading"),a.onload=u("loaded"),a.onerror=u("error"),a.src=n,e&&(a.referrerPolicy=e),()=>{i=!1}},[n,e]),t}var I4=Hb,N4=Gb,C4=Qb;function yh({className:n,...e}){return l.jsx(I4,{"data-slot":"avatar",className:lt("relative flex size-10 shrink-0 overflow-hidden rounded-full",n),...e})}function vh({className:n,...e}){return l.jsx(N4,{"data-slot":"avatar-image",className:lt("aspect-square size-full",n),...e})}function xh({className:n,...e}){return l.jsx(C4,{"data-slot":"avatar-fallback",className:lt("bg-muted flex size-full items-center justify-center rounded-full",n),...e})}function Pe(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function ul({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=A4({defaultProp:e,onChange:t}),a=n!==void 0,u=a?n:r,h=ir(t),m=b.useCallback(p=>{if(a){const y=typeof p=="function"?p(n):p;y!==n&&h(y)}else i(p)},[a,n,i,h]);return[u,m]}function A4({defaultProp:n,onChange:e}){const t=b.useState(n),[r]=t,i=b.useRef(r),a=ir(e);return b.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),t}function jy(n){const e=n+"CollectionProvider",[t,r]=si(e),[i,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=I=>{const{scope:A,children:N}=I,R=fe.useRef(null),L=fe.useRef(new Map).current;return l.jsx(i,{scope:A,itemMap:L,collectionRef:R,children:N})};u.displayName=e;const h=n+"CollectionSlot",m=fe.forwardRef((I,A)=>{const{scope:N,children:R}=I,L=a(h,N),z=gt(A,L.collectionRef);return l.jsx(ei,{ref:z,children:R})});m.displayName=h;const p=n+"CollectionItemSlot",v="data-radix-collection-item",y=fe.forwardRef((I,A)=>{const{scope:N,children:R,...L}=I,z=fe.useRef(null),F=gt(A,z),K=a(p,N);return fe.useEffect(()=>(K.itemMap.set(z,{ref:z,...L}),()=>void K.itemMap.delete(z))),l.jsx(ei,{[v]:"",ref:F,children:R})});y.displayName=p;function _(I){const A=a(n+"CollectionConsumer",I);return fe.useCallback(()=>{const R=A.collectionRef.current;if(!R)return[];const L=Array.from(R.querySelectorAll(`[${v}]`));return Array.from(A.itemMap.values()).sort((K,J)=>L.indexOf(K.ref.current)-L.indexOf(J.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:u,Slot:m,ItemSlot:y},_,r]}var R4=b.createContext(void 0);function cf(n){const e=b.useContext(R4);return n||e||"ltr"}function k4(n,e=globalThis==null?void 0:globalThis.document){const t=ir(n);b.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var P4="DismissableLayer",gg="dismissableLayer.update",j4="dismissableLayer.pointerDownOutside",D4="dismissableLayer.focusOutside",f_,Yb=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),uf=b.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:u,onDismiss:h,...m}=n,p=b.useContext(Yb),[v,y]=b.useState(null),_=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,I]=b.useState({}),A=gt(e,C=>y(C)),N=Array.from(p.layers),[R]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),L=N.indexOf(R),z=v?N.indexOf(v):-1,F=p.layersWithOutsidePointerEventsDisabled.size>0,K=z>=L,J=L4(C=>{const S=C.target,P=[...p.branches].some(O=>O.contains(S));!K||P||(i==null||i(C),u==null||u(C),C.defaultPrevented||h==null||h())},_),te=V4(C=>{const S=C.target;[...p.branches].some(O=>O.contains(S))||(a==null||a(C),u==null||u(C),C.defaultPrevented||h==null||h())},_);return k4(C=>{z===p.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&h&&(C.preventDefault(),h()))},_),b.useEffect(()=>{if(v)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(f_=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),m_(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(_.body.style.pointerEvents=f_)}},[v,_,t,p]),b.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),m_())},[v,p]),b.useEffect(()=>{const C=()=>I({});return document.addEventListener(gg,C),()=>document.removeEventListener(gg,C)},[]),l.jsx(Ye.div,{...m,ref:A,style:{pointerEvents:F?K?"auto":"none":void 0,...n.style},onFocusCapture:Pe(n.onFocusCapture,te.onFocusCapture),onBlurCapture:Pe(n.onBlurCapture,te.onBlurCapture),onPointerDownCapture:Pe(n.onPointerDownCapture,J.onPointerDownCapture)})});uf.displayName=P4;var M4="DismissableLayerBranch",O4=b.forwardRef((n,e)=>{const t=b.useContext(Yb),r=b.useRef(null),i=gt(e,r);return b.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),l.jsx(Ye.div,{...n,ref:i})});O4.displayName=M4;function L4(n,e=globalThis==null?void 0:globalThis.document){const t=ir(n),r=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const a=h=>{if(h.target&&!r.current){let m=function(){Xb(j4,t,p,{discrete:!0})};const p={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=m,e.addEventListener("click",i.current,{once:!0})):m()}else e.removeEventListener("click",i.current);r.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function V4(n,e=globalThis==null?void 0:globalThis.document){const t=ir(n),r=b.useRef(!1);return b.useEffect(()=>{const i=a=>{a.target&&!r.current&&Xb(D4,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function m_(){const n=new CustomEvent(gg);document.dispatchEvent(n)}function Xb(n,e,t,{discrete:r}){const i=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?$b(i,a):i.dispatchEvent(a)}var Sp=0;function Dy(){b.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??p_()),document.body.insertAdjacentElement("beforeend",n[1]??p_()),Sp++,()=>{Sp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Sp--}},[])}function p_(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Ip="focusScope.autoFocusOnMount",Np="focusScope.autoFocusOnUnmount",g_={bubbles:!1,cancelable:!0},F4="FocusScope",df=b.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...u}=n,[h,m]=b.useState(null),p=ir(i),v=ir(a),y=b.useRef(null),_=gt(e,N=>m(N)),I=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let N=function(F){if(I.paused||!h)return;const K=F.target;h.contains(K)?y.current=K:Di(y.current,{select:!0})},R=function(F){if(I.paused||!h)return;const K=F.relatedTarget;K!==null&&(h.contains(K)||Di(y.current,{select:!0}))},L=function(F){if(document.activeElement===document.body)for(const J of F)J.removedNodes.length>0&&Di(h)};document.addEventListener("focusin",N),document.addEventListener("focusout",R);const z=new MutationObserver(L);return h&&z.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",R),z.disconnect()}}},[r,h,I.paused]),b.useEffect(()=>{if(h){v_.add(I);const N=document.activeElement;if(!h.contains(N)){const L=new CustomEvent(Ip,g_);h.addEventListener(Ip,p),h.dispatchEvent(L),L.defaultPrevented||(U4(H4(Jb(h)),{select:!0}),document.activeElement===N&&Di(h))}return()=>{h.removeEventListener(Ip,p),setTimeout(()=>{const L=new CustomEvent(Np,g_);h.addEventListener(Np,v),h.dispatchEvent(L),L.defaultPrevented||Di(N??document.body,{select:!0}),h.removeEventListener(Np,v),v_.remove(I)},0)}}},[h,p,v,I]);const A=b.useCallback(N=>{if(!t&&!r||I.paused)return;const R=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,L=document.activeElement;if(R&&L){const z=N.currentTarget,[F,K]=z4(z);F&&K?!N.shiftKey&&L===K?(N.preventDefault(),t&&Di(F,{select:!0})):N.shiftKey&&L===F&&(N.preventDefault(),t&&Di(K,{select:!0})):L===z&&N.preventDefault()}},[t,r,I.paused]);return l.jsx(Ye.div,{tabIndex:-1,...u,ref:_,onKeyDown:A})});df.displayName=F4;function U4(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Di(r,{select:e}),document.activeElement!==t)return}function z4(n){const e=Jb(n),t=y_(e,n),r=y_(e.reverse(),n);return[t,r]}function Jb(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function y_(n,e){for(const t of n)if(!B4(t,{upTo:e}))return t}function B4(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function $4(n){return n instanceof HTMLInputElement&&"select"in n}function Di(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&$4(n)&&e&&n.select()}}var v_=q4();function q4(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=x_(n,e),n.unshift(e)},remove(e){var t;n=x_(n,e),(t=n[0])==null||t.resume()}}}function x_(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function H4(n){return n.filter(e=>e.tagName!=="A")}var W4=DN.useId||(()=>{}),G4=0;function _s(n){const[e,t]=b.useState(W4());return hn(()=>{t(r=>r??String(G4++))},[n]),n||(e?`radix-${e}`:"")}const K4=["top","right","bottom","left"],no=Math.min,tr=Math.max,wh=Math.round,Dd=Math.floor,Es=n=>({x:n,y:n}),Q4={left:"right",right:"left",bottom:"top",top:"bottom"},Y4={start:"end",end:"start"};function yg(n,e,t){return tr(n,no(e,t))}function ti(n,e){return typeof n=="function"?n(e):n}function ni(n){return n.split("-")[0]}function El(n){return n.split("-")[1]}function My(n){return n==="x"?"y":"x"}function Oy(n){return n==="y"?"height":"width"}const X4=new Set(["top","bottom"]);function ms(n){return X4.has(ni(n))?"y":"x"}function Ly(n){return My(ms(n))}function J4(n,e,t){t===void 0&&(t=!1);const r=El(n),i=Ly(n),a=Oy(i);let u=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(u=_h(u)),[u,_h(u)]}function Z4(n){const e=_h(n);return[vg(n),e,vg(e)]}function vg(n){return n.replace(/start|end/g,e=>Y4[e])}const w_=["left","right"],__=["right","left"],eO=["top","bottom"],tO=["bottom","top"];function nO(n,e,t){switch(n){case"top":case"bottom":return t?e?__:w_:e?w_:__;case"left":case"right":return e?eO:tO;default:return[]}}function rO(n,e,t,r){const i=El(n);let a=nO(ni(n),t==="start",r);return i&&(a=a.map(u=>u+"-"+i),e&&(a=a.concat(a.map(vg)))),a}function _h(n){return n.replace(/left|right|bottom|top/g,e=>Q4[e])}function sO(n){return{top:0,right:0,bottom:0,left:0,...n}}function Zb(n){return typeof n!="number"?sO(n):{top:n,right:n,bottom:n,left:n}}function Eh(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function E_(n,e,t){let{reference:r,floating:i}=n;const a=ms(e),u=Ly(e),h=Oy(u),m=ni(e),p=a==="y",v=r.x+r.width/2-i.width/2,y=r.y+r.height/2-i.height/2,_=r[h]/2-i[h]/2;let I;switch(m){case"top":I={x:v,y:r.y-i.height};break;case"bottom":I={x:v,y:r.y+r.height};break;case"right":I={x:r.x+r.width,y};break;case"left":I={x:r.x-i.width,y};break;default:I={x:r.x,y:r.y}}switch(El(e)){case"start":I[u]-=_*(t&&p?-1:1);break;case"end":I[u]+=_*(t&&p?-1:1);break}return I}const iO=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:u}=t,h=a.filter(Boolean),m=await(u.isRTL==null?void 0:u.isRTL(e));let p=await u.getElementRects({reference:n,floating:e,strategy:i}),{x:v,y}=E_(p,r,m),_=r,I={},A=0;for(let N=0;N<h.length;N++){const{name:R,fn:L}=h[N],{x:z,y:F,data:K,reset:J}=await L({x:v,y,initialPlacement:r,placement:_,strategy:i,middlewareData:I,rects:p,platform:u,elements:{reference:n,floating:e}});v=z??v,y=F??y,I={...I,[R]:{...I[R],...K}},J&&A<=50&&(A++,typeof J=="object"&&(J.placement&&(_=J.placement),J.rects&&(p=J.rects===!0?await u.getElementRects({reference:n,floating:e,strategy:i}):J.rects),{x:v,y}=E_(p,_,m)),N=-1)}return{x:v,y,placement:_,strategy:i,middlewareData:I}};async function Hc(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:u,elements:h,strategy:m}=n,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:y="floating",altBoundary:_=!1,padding:I=0}=ti(e,n),A=Zb(I),R=h[_?y==="floating"?"reference":"floating":y],L=Eh(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(R)))==null||t?R:R.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(h.floating)),boundary:p,rootBoundary:v,strategy:m})),z=y==="floating"?{x:r,y:i,width:u.floating.width,height:u.floating.height}:u.reference,F=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h.floating)),K=await(a.isElement==null?void 0:a.isElement(F))?await(a.getScale==null?void 0:a.getScale(F))||{x:1,y:1}:{x:1,y:1},J=Eh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:z,offsetParent:F,strategy:m}):z);return{top:(L.top-J.top+A.top)/K.y,bottom:(J.bottom-L.bottom+A.bottom)/K.y,left:(L.left-J.left+A.left)/K.x,right:(J.right-L.right+A.right)/K.x}}const oO=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:a,platform:u,elements:h,middlewareData:m}=e,{element:p,padding:v=0}=ti(n,e)||{};if(p==null)return{};const y=Zb(v),_={x:t,y:r},I=Ly(i),A=Oy(I),N=await u.getDimensions(p),R=I==="y",L=R?"top":"left",z=R?"bottom":"right",F=R?"clientHeight":"clientWidth",K=a.reference[A]+a.reference[I]-_[I]-a.floating[A],J=_[I]-a.reference[I],te=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let C=te?te[F]:0;(!C||!await(u.isElement==null?void 0:u.isElement(te)))&&(C=h.floating[F]||a.floating[A]);const S=K/2-J/2,P=C/2-N[A]/2-1,O=no(y[L],P),D=no(y[z],P),U=O,j=C-N[A]-D,ve=C/2-N[A]/2+S,be=yg(U,ve,j),ie=!m.arrow&&El(i)!=null&&ve!==be&&a.reference[A]/2-(ve<U?O:D)-N[A]/2<0,ye=ie?ve<U?ve-U:ve-j:0;return{[I]:_[I]+ye,data:{[I]:be,centerOffset:ve-be-ye,...ie&&{alignmentOffset:ye}},reset:ie}}}),aO=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:a,rects:u,initialPlacement:h,platform:m,elements:p}=e,{mainAxis:v=!0,crossAxis:y=!0,fallbackPlacements:_,fallbackStrategy:I="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:N=!0,...R}=ti(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const L=ni(i),z=ms(h),F=ni(h)===h,K=await(m.isRTL==null?void 0:m.isRTL(p.floating)),J=_||(F||!N?[_h(h)]:Z4(h)),te=A!=="none";!_&&te&&J.push(...rO(h,N,A,K));const C=[h,...J],S=await Hc(e,R),P=[];let O=((r=a.flip)==null?void 0:r.overflows)||[];if(v&&P.push(S[L]),y){const ve=J4(i,u,K);P.push(S[ve[0]],S[ve[1]])}if(O=[...O,{placement:i,overflows:P}],!P.every(ve=>ve<=0)){var D,U;const ve=(((D=a.flip)==null?void 0:D.index)||0)+1,be=C[ve];if(be&&(!(y==="alignment"?z!==ms(be):!1)||O.every(q=>ms(q.placement)===z?q.overflows[0]>0:!0)))return{data:{index:ve,overflows:O},reset:{placement:be}};let ie=(U=O.filter(ye=>ye.overflows[0]<=0).sort((ye,q)=>ye.overflows[1]-q.overflows[1])[0])==null?void 0:U.placement;if(!ie)switch(I){case"bestFit":{var j;const ye=(j=O.filter(q=>{if(te){const Z=ms(q.placement);return Z===z||Z==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(Z=>Z>0).reduce((Z,se)=>Z+se,0)]).sort((q,Z)=>q[1]-Z[1])[0])==null?void 0:j[0];ye&&(ie=ye);break}case"initialPlacement":ie=h;break}if(i!==ie)return{reset:{placement:ie}}}return{}}}};function b_(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function T_(n){return K4.some(e=>n[e]>=0)}const lO=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=ti(n,e);switch(r){case"referenceHidden":{const a=await Hc(e,{...i,elementContext:"reference"}),u=b_(a,t.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:T_(u)}}}case"escaped":{const a=await Hc(e,{...i,altBoundary:!0}),u=b_(a,t.floating);return{data:{escapedOffsets:u,escaped:T_(u)}}}default:return{}}}}},eT=new Set(["left","top"]);async function cO(n,e){const{placement:t,platform:r,elements:i}=n,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),u=ni(t),h=El(t),m=ms(t)==="y",p=eT.has(u)?-1:1,v=a&&m?-1:1,y=ti(e,n);let{mainAxis:_,crossAxis:I,alignmentAxis:A}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return h&&typeof A=="number"&&(I=h==="end"?A*-1:A),m?{x:I*v,y:_*p}:{x:_*p,y:I*v}}const uO=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:a,placement:u,middlewareData:h}=e,m=await cO(e,n);return u===((t=h.offset)==null?void 0:t.placement)&&(r=h.arrow)!=null&&r.alignmentOffset?{}:{x:i+m.x,y:a+m.y,data:{...m,placement:u}}}}},dO=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:u=!1,limiter:h={fn:R=>{let{x:L,y:z}=R;return{x:L,y:z}}},...m}=ti(n,e),p={x:t,y:r},v=await Hc(e,m),y=ms(ni(i)),_=My(y);let I=p[_],A=p[y];if(a){const R=_==="y"?"top":"left",L=_==="y"?"bottom":"right",z=I+v[R],F=I-v[L];I=yg(z,I,F)}if(u){const R=y==="y"?"top":"left",L=y==="y"?"bottom":"right",z=A+v[R],F=A-v[L];A=yg(z,A,F)}const N=h.fn({...e,[_]:I,[y]:A});return{...N,data:{x:N.x-t,y:N.y-r,enabled:{[_]:a,[y]:u}}}}}},hO=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:a,middlewareData:u}=e,{offset:h=0,mainAxis:m=!0,crossAxis:p=!0}=ti(n,e),v={x:t,y:r},y=ms(i),_=My(y);let I=v[_],A=v[y];const N=ti(h,e),R=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(m){const F=_==="y"?"height":"width",K=a.reference[_]-a.floating[F]+R.mainAxis,J=a.reference[_]+a.reference[F]-R.mainAxis;I<K?I=K:I>J&&(I=J)}if(p){var L,z;const F=_==="y"?"width":"height",K=eT.has(ni(i)),J=a.reference[y]-a.floating[F]+(K&&((L=u.offset)==null?void 0:L[y])||0)+(K?0:R.crossAxis),te=a.reference[y]+a.reference[F]+(K?0:((z=u.offset)==null?void 0:z[y])||0)-(K?R.crossAxis:0);A<J?A=J:A>te&&(A=te)}return{[_]:I,[y]:A}}}},fO=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:a,platform:u,elements:h}=e,{apply:m=()=>{},...p}=ti(n,e),v=await Hc(e,p),y=ni(i),_=El(i),I=ms(i)==="y",{width:A,height:N}=a.floating;let R,L;y==="top"||y==="bottom"?(R=y,L=_===(await(u.isRTL==null?void 0:u.isRTL(h.floating))?"start":"end")?"left":"right"):(L=y,R=_==="end"?"top":"bottom");const z=N-v.top-v.bottom,F=A-v.left-v.right,K=no(N-v[R],z),J=no(A-v[L],F),te=!e.middlewareData.shift;let C=K,S=J;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(S=F),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=z),te&&!_){const O=tr(v.left,0),D=tr(v.right,0),U=tr(v.top,0),j=tr(v.bottom,0);I?S=A-2*(O!==0||D!==0?O+D:tr(v.left,v.right)):C=N-2*(U!==0||j!==0?U+j:tr(v.top,v.bottom))}await m({...e,availableWidth:S,availableHeight:C});const P=await u.getDimensions(h.floating);return A!==P.width||N!==P.height?{reset:{rects:!0}}:{}}}};function hf(){return typeof window<"u"}function bl(n){return tT(n)?(n.nodeName||"").toLowerCase():"#document"}function rr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Is(n){var e;return(e=(tT(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function tT(n){return hf()?n instanceof Node||n instanceof rr(n).Node:!1}function zr(n){return hf()?n instanceof Element||n instanceof rr(n).Element:!1}function Ts(n){return hf()?n instanceof HTMLElement||n instanceof rr(n).HTMLElement:!1}function S_(n){return!hf()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof rr(n).ShadowRoot}const mO=new Set(["inline","contents"]);function uu(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Br(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!mO.has(i)}const pO=new Set(["table","td","th"]);function gO(n){return pO.has(bl(n))}const yO=[":popover-open",":modal"];function ff(n){return yO.some(e=>{try{return n.matches(e)}catch{return!1}})}const vO=["transform","translate","scale","rotate","perspective"],xO=["transform","translate","scale","rotate","perspective","filter"],wO=["paint","layout","strict","content"];function Vy(n){const e=Fy(),t=zr(n)?Br(n):n;return vO.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||xO.some(r=>(t.willChange||"").includes(r))||wO.some(r=>(t.contain||"").includes(r))}function _O(n){let e=ro(n);for(;Ts(e)&&!dl(e);){if(Vy(e))return e;if(ff(e))return null;e=ro(e)}return null}function Fy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const EO=new Set(["html","body","#document"]);function dl(n){return EO.has(bl(n))}function Br(n){return rr(n).getComputedStyle(n)}function mf(n){return zr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ro(n){if(bl(n)==="html")return n;const e=n.assignedSlot||n.parentNode||S_(n)&&n.host||Is(n);return S_(e)?e.host:e}function nT(n){const e=ro(n);return dl(e)?n.ownerDocument?n.ownerDocument.body:n.body:Ts(e)&&uu(e)?e:nT(e)}function Wc(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=nT(n),a=i===((r=n.ownerDocument)==null?void 0:r.body),u=rr(i);if(a){const h=xg(u);return e.concat(u,u.visualViewport||[],uu(i)?i:[],h&&t?Wc(h):[])}return e.concat(i,Wc(i,[],t))}function xg(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function rT(n){const e=Br(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ts(n),a=i?n.offsetWidth:t,u=i?n.offsetHeight:r,h=wh(t)!==a||wh(r)!==u;return h&&(t=a,r=u),{width:t,height:r,$:h}}function Uy(n){return zr(n)?n:n.contextElement}function tl(n){const e=Uy(n);if(!Ts(e))return Es(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:a}=rT(e);let u=(a?wh(t.width):t.width)/r,h=(a?wh(t.height):t.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!h||!Number.isFinite(h))&&(h=1),{x:u,y:h}}const bO=Es(0);function sT(n){const e=rr(n);return!Fy()||!e.visualViewport?bO:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function TO(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==rr(n)?!1:e}function Jo(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),a=Uy(n);let u=Es(1);e&&(r?zr(r)&&(u=tl(r)):u=tl(n));const h=TO(a,t,r)?sT(a):Es(0);let m=(i.left+h.x)/u.x,p=(i.top+h.y)/u.y,v=i.width/u.x,y=i.height/u.y;if(a){const _=rr(a),I=r&&zr(r)?rr(r):r;let A=_,N=xg(A);for(;N&&r&&I!==A;){const R=tl(N),L=N.getBoundingClientRect(),z=Br(N),F=L.left+(N.clientLeft+parseFloat(z.paddingLeft))*R.x,K=L.top+(N.clientTop+parseFloat(z.paddingTop))*R.y;m*=R.x,p*=R.y,v*=R.x,y*=R.y,m+=F,p+=K,A=rr(N),N=xg(A)}}return Eh({width:v,height:y,x:m,y:p})}function pf(n,e){const t=mf(n).scrollLeft;return e?e.left+t:Jo(Is(n)).left+t}function iT(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-pf(n,t),i=t.top+e.scrollTop;return{x:r,y:i}}function SO(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const a=i==="fixed",u=Is(r),h=e?ff(e.floating):!1;if(r===u||h&&a)return t;let m={scrollLeft:0,scrollTop:0},p=Es(1);const v=Es(0),y=Ts(r);if((y||!y&&!a)&&((bl(r)!=="body"||uu(u))&&(m=mf(r)),Ts(r))){const I=Jo(r);p=tl(r),v.x=I.x+r.clientLeft,v.y=I.y+r.clientTop}const _=u&&!y&&!a?iT(u,m):Es(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-m.scrollLeft*p.x+v.x+_.x,y:t.y*p.y-m.scrollTop*p.y+v.y+_.y}}function IO(n){return Array.from(n.getClientRects())}function NO(n){const e=Is(n),t=mf(n),r=n.ownerDocument.body,i=tr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=tr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let u=-t.scrollLeft+pf(n);const h=-t.scrollTop;return Br(r).direction==="rtl"&&(u+=tr(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:u,y:h}}const I_=25;function CO(n,e){const t=rr(n),r=Is(n),i=t.visualViewport;let a=r.clientWidth,u=r.clientHeight,h=0,m=0;if(i){a=i.width,u=i.height;const v=Fy();(!v||v&&e==="fixed")&&(h=i.offsetLeft,m=i.offsetTop)}const p=pf(r);if(p<=0){const v=r.ownerDocument,y=v.body,_=getComputedStyle(y),I=v.compatMode==="CSS1Compat"&&parseFloat(_.marginLeft)+parseFloat(_.marginRight)||0,A=Math.abs(r.clientWidth-y.clientWidth-I);A<=I_&&(a-=A)}else p<=I_&&(a+=p);return{width:a,height:u,x:h,y:m}}const AO=new Set(["absolute","fixed"]);function RO(n,e){const t=Jo(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,a=Ts(n)?tl(n):Es(1),u=n.clientWidth*a.x,h=n.clientHeight*a.y,m=i*a.x,p=r*a.y;return{width:u,height:h,x:m,y:p}}function N_(n,e,t){let r;if(e==="viewport")r=CO(n,t);else if(e==="document")r=NO(Is(n));else if(zr(e))r=RO(e,t);else{const i=sT(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Eh(r)}function oT(n,e){const t=ro(n);return t===e||!zr(t)||dl(t)?!1:Br(t).position==="fixed"||oT(t,e)}function kO(n,e){const t=e.get(n);if(t)return t;let r=Wc(n,[],!1).filter(h=>zr(h)&&bl(h)!=="body"),i=null;const a=Br(n).position==="fixed";let u=a?ro(n):n;for(;zr(u)&&!dl(u);){const h=Br(u),m=Vy(u);!m&&h.position==="fixed"&&(i=null),(a?!m&&!i:!m&&h.position==="static"&&!!i&&AO.has(i.position)||uu(u)&&!m&&oT(n,u))?r=r.filter(v=>v!==u):i=h,u=ro(u)}return e.set(n,r),r}function PO(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const u=[...t==="clippingAncestors"?ff(e)?[]:kO(e,this._c):[].concat(t),r],h=u[0],m=u.reduce((p,v)=>{const y=N_(e,v,i);return p.top=tr(y.top,p.top),p.right=no(y.right,p.right),p.bottom=no(y.bottom,p.bottom),p.left=tr(y.left,p.left),p},N_(e,h,i));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function jO(n){const{width:e,height:t}=rT(n);return{width:e,height:t}}function DO(n,e,t){const r=Ts(e),i=Is(e),a=t==="fixed",u=Jo(n,!0,a,e);let h={scrollLeft:0,scrollTop:0};const m=Es(0);function p(){m.x=pf(i)}if(r||!r&&!a)if((bl(e)!=="body"||uu(i))&&(h=mf(e)),r){const I=Jo(e,!0,a,e);m.x=I.x+e.clientLeft,m.y=I.y+e.clientTop}else i&&p();a&&!r&&i&&p();const v=i&&!r&&!a?iT(i,h):Es(0),y=u.left+h.scrollLeft-m.x-v.x,_=u.top+h.scrollTop-m.y-v.y;return{x:y,y:_,width:u.width,height:u.height}}function Cp(n){return Br(n).position==="static"}function C_(n,e){if(!Ts(n)||Br(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Is(n)===t&&(t=t.ownerDocument.body),t}function aT(n,e){const t=rr(n);if(ff(n))return t;if(!Ts(n)){let i=ro(n);for(;i&&!dl(i);){if(zr(i)&&!Cp(i))return i;i=ro(i)}return t}let r=C_(n,e);for(;r&&gO(r)&&Cp(r);)r=C_(r,e);return r&&dl(r)&&Cp(r)&&!Vy(r)?t:r||_O(n)||t}const MO=async function(n){const e=this.getOffsetParent||aT,t=this.getDimensions,r=await t(n.floating);return{reference:DO(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function OO(n){return Br(n).direction==="rtl"}const LO={convertOffsetParentRelativeRectToViewportRelativeRect:SO,getDocumentElement:Is,getClippingRect:PO,getOffsetParent:aT,getElementRects:MO,getClientRects:IO,getDimensions:jO,getScale:tl,isElement:zr,isRTL:OO};function lT(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function VO(n,e){let t=null,r;const i=Is(n);function a(){var h;clearTimeout(r),(h=t)==null||h.disconnect(),t=null}function u(h,m){h===void 0&&(h=!1),m===void 0&&(m=1),a();const p=n.getBoundingClientRect(),{left:v,top:y,width:_,height:I}=p;if(h||e(),!_||!I)return;const A=Dd(y),N=Dd(i.clientWidth-(v+_)),R=Dd(i.clientHeight-(y+I)),L=Dd(v),F={rootMargin:-A+"px "+-N+"px "+-R+"px "+-L+"px",threshold:tr(0,no(1,m))||1};let K=!0;function J(te){const C=te[0].intersectionRatio;if(C!==m){if(!K)return u();C?u(!1,C):r=setTimeout(()=>{u(!1,1e-7)},1e3)}C===1&&!lT(p,n.getBoundingClientRect())&&u(),K=!1}try{t=new IntersectionObserver(J,{...F,root:i.ownerDocument})}catch{t=new IntersectionObserver(J,F)}t.observe(n)}return u(!0),a}function FO(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:m=!1}=r,p=Uy(n),v=i||a?[...p?Wc(p):[],...Wc(e)]:[];v.forEach(L=>{i&&L.addEventListener("scroll",t,{passive:!0}),a&&L.addEventListener("resize",t)});const y=p&&h?VO(p,t):null;let _=-1,I=null;u&&(I=new ResizeObserver(L=>{let[z]=L;z&&z.target===p&&I&&(I.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var F;(F=I)==null||F.observe(e)})),t()}),p&&!m&&I.observe(p),I.observe(e));let A,N=m?Jo(n):null;m&&R();function R(){const L=Jo(n);N&&!lT(N,L)&&t(),N=L,A=requestAnimationFrame(R)}return t(),()=>{var L;v.forEach(z=>{i&&z.removeEventListener("scroll",t),a&&z.removeEventListener("resize",t)}),y==null||y(),(L=I)==null||L.disconnect(),I=null,m&&cancelAnimationFrame(A)}}const UO=uO,zO=dO,BO=aO,$O=fO,qO=lO,A_=oO,HO=hO,WO=(n,e,t)=>{const r=new Map,i={platform:LO,...t},a={...i.platform,_c:r};return iO(n,e,{...i,platform:a})};var GO=typeof document<"u",KO=function(){},Yd=GO?b.useLayoutEffect:KO;function bh(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!bh(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const a=i[r];if(!(a==="_owner"&&n.$$typeof)&&!bh(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function cT(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function R_(n,e){const t=cT(n);return Math.round(e*t)/t}function Ap(n){const e=b.useRef(n);return Yd(()=>{e.current=n}),e}function QO(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:u}={},transform:h=!0,whileElementsMounted:m,open:p}=n,[v,y]=b.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[_,I]=b.useState(r);bh(_,r)||I(r);const[A,N]=b.useState(null),[R,L]=b.useState(null),z=b.useCallback(q=>{q!==te.current&&(te.current=q,N(q))},[]),F=b.useCallback(q=>{q!==C.current&&(C.current=q,L(q))},[]),K=a||A,J=u||R,te=b.useRef(null),C=b.useRef(null),S=b.useRef(v),P=m!=null,O=Ap(m),D=Ap(i),U=Ap(p),j=b.useCallback(()=>{if(!te.current||!C.current)return;const q={placement:e,strategy:t,middleware:_};D.current&&(q.platform=D.current),WO(te.current,C.current,q).then(Z=>{const se={...Z,isPositioned:U.current!==!1};ve.current&&!bh(S.current,se)&&(S.current=se,lu.flushSync(()=>{y(se)}))})},[_,e,t,D,U]);Yd(()=>{p===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,y(q=>({...q,isPositioned:!1})))},[p]);const ve=b.useRef(!1);Yd(()=>(ve.current=!0,()=>{ve.current=!1}),[]),Yd(()=>{if(K&&(te.current=K),J&&(C.current=J),K&&J){if(O.current)return O.current(K,J,j);j()}},[K,J,j,O,P]);const be=b.useMemo(()=>({reference:te,floating:C,setReference:z,setFloating:F}),[z,F]),ie=b.useMemo(()=>({reference:K,floating:J}),[K,J]),ye=b.useMemo(()=>{const q={position:t,left:0,top:0};if(!ie.floating)return q;const Z=R_(ie.floating,v.x),se=R_(ie.floating,v.y);return h?{...q,transform:"translate("+Z+"px, "+se+"px)",...cT(ie.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Z,top:se}},[t,h,ie.floating,v.x,v.y]);return b.useMemo(()=>({...v,update:j,refs:be,elements:ie,floatingStyles:ye}),[v,j,be,ie,ye])}const YO=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?A_({element:r.current,padding:i}).fn(t):{}:r?A_({element:r,padding:i}).fn(t):{}}}},XO=(n,e)=>({...UO(n),options:[n,e]}),JO=(n,e)=>({...zO(n),options:[n,e]}),ZO=(n,e)=>({...HO(n),options:[n,e]}),eL=(n,e)=>({...BO(n),options:[n,e]}),tL=(n,e)=>({...$O(n),options:[n,e]}),nL=(n,e)=>({...qO(n),options:[n,e]}),rL=(n,e)=>({...YO(n),options:[n,e]});var sL="Arrow",uT=b.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...a}=n;return l.jsx(Ye.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});uT.displayName=sL;var iL=uT;function oL(n){const[e,t]=b.useState(void 0);return hn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let u,h;if("borderBoxSize"in a){const m=a.borderBoxSize,p=Array.isArray(m)?m[0]:m;u=p.inlineSize,h=p.blockSize}else u=n.offsetWidth,h=n.offsetHeight;t({width:u,height:h})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var zy="Popper",[dT,gf]=si(zy),[aL,hT]=dT(zy),fT=n=>{const{__scopePopper:e,children:t}=n,[r,i]=b.useState(null);return l.jsx(aL,{scope:e,anchor:r,onAnchorChange:i,children:t})};fT.displayName=zy;var mT="PopperAnchor",pT=b.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,a=hT(mT,t),u=b.useRef(null),h=gt(e,u);return b.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||u.current)}),r?null:l.jsx(Ye.div,{...i,ref:h})});pT.displayName=mT;var By="PopperContent",[lL,cL]=dT(By),gT=b.forwardRef((n,e)=>{var ee,ge,we,Ae,$e,Se;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:u=0,arrowPadding:h=0,avoidCollisions:m=!0,collisionBoundary:p=[],collisionPadding:v=0,sticky:y="partial",hideWhenDetached:_=!1,updatePositionStrategy:I="optimized",onPlaced:A,...N}=n,R=hT(By,t),[L,z]=b.useState(null),F=gt(e,dt=>z(dt)),[K,J]=b.useState(null),te=oL(K),C=(te==null?void 0:te.width)??0,S=(te==null?void 0:te.height)??0,P=r+(a!=="center"?"-"+a:""),O=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},D=Array.isArray(p)?p:[p],U=D.length>0,j={padding:O,boundary:D.filter(dL),altBoundary:U},{refs:ve,floatingStyles:be,placement:ie,isPositioned:ye,middlewareData:q}=QO({strategy:"fixed",placement:P,whileElementsMounted:(...dt)=>FO(...dt,{animationFrame:I==="always"}),elements:{reference:R.anchor},middleware:[XO({mainAxis:i+S,alignmentAxis:u}),m&&JO({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?ZO():void 0,...j}),m&&eL({...j}),tL({...j,apply:({elements:dt,rects:Dt,availableWidth:or,availableHeight:bn})=>{const{width:Wt,height:qr}=Dt.reference,st=dt.floating.style;st.setProperty("--radix-popper-available-width",`${or}px`),st.setProperty("--radix-popper-available-height",`${bn}px`),st.setProperty("--radix-popper-anchor-width",`${Wt}px`),st.setProperty("--radix-popper-anchor-height",`${qr}px`)}}),K&&rL({element:K,padding:h}),hL({arrowWidth:C,arrowHeight:S}),_&&nL({strategy:"referenceHidden",...j})]}),[Z,se]=xT(ie),V=ir(A);hn(()=>{ye&&(V==null||V())},[ye,V]);const Q=(ee=q.arrow)==null?void 0:ee.x,ce=(ge=q.arrow)==null?void 0:ge.y,me=((we=q.arrow)==null?void 0:we.centerOffset)!==0,[de,ue]=b.useState();return hn(()=>{L&&ue(window.getComputedStyle(L).zIndex)},[L]),l.jsx("div",{ref:ve.setFloating,"data-radix-popper-content-wrapper":"",style:{...be,transform:ye?be.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:de,"--radix-popper-transform-origin":[(Ae=q.transformOrigin)==null?void 0:Ae.x,($e=q.transformOrigin)==null?void 0:$e.y].join(" "),...((Se=q.hide)==null?void 0:Se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:l.jsx(lL,{scope:t,placedSide:Z,onArrowChange:J,arrowX:Q,arrowY:ce,shouldHideArrow:me,children:l.jsx(Ye.div,{"data-side":Z,"data-align":se,...N,ref:F,style:{...N.style,animation:ye?void 0:"none"}})})})});gT.displayName=By;var yT="PopperArrow",uL={top:"bottom",right:"left",bottom:"top",left:"right"},vT=b.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,a=cL(yT,r),u=uL[a.placedSide];return l.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:l.jsx(iL,{...i,ref:t,style:{...i.style,display:"block"}})})});vT.displayName=yT;function dL(n){return n!==null}var hL=n=>({name:"transformOrigin",options:n,fn(e){var R,L,z;const{placement:t,rects:r,middlewareData:i}=e,u=((R=i.arrow)==null?void 0:R.centerOffset)!==0,h=u?0:n.arrowWidth,m=u?0:n.arrowHeight,[p,v]=xT(t),y={start:"0%",center:"50%",end:"100%"}[v],_=(((L=i.arrow)==null?void 0:L.x)??0)+h/2,I=(((z=i.arrow)==null?void 0:z.y)??0)+m/2;let A="",N="";return p==="bottom"?(A=u?y:`${_}px`,N=`${-m}px`):p==="top"?(A=u?y:`${_}px`,N=`${r.floating.height+m}px`):p==="right"?(A=`${-m}px`,N=u?y:`${I}px`):p==="left"&&(A=`${r.floating.width+m}px`,N=u?y:`${I}px`),{data:{x:A,y:N}}}});function xT(n){const[e,t="center"]=n.split("-");return[e,t]}var wT=fT,_T=pT,ET=gT,bT=vT,fL="Portal",yf=b.forwardRef((n,e)=>{var h;const{container:t,...r}=n,[i,a]=b.useState(!1);hn(()=>a(!0),[]);const u=t||i&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return u?xb.createPortal(l.jsx(Ye.div,{...r,ref:e}),u):null});yf.displayName=fL;function mL(n,e){return b.useReducer((t,r)=>e[t][r]??t,n)}var ii=n=>{const{present:e,children:t}=n,r=pL(e),i=typeof t=="function"?t({present:r.isPresent}):b.Children.only(t),a=gt(r.ref,gL(i));return typeof t=="function"||r.isPresent?b.cloneElement(i,{ref:a}):null};ii.displayName="Presence";function pL(n){const[e,t]=b.useState(),r=b.useRef({}),i=b.useRef(n),a=b.useRef("none"),u=n?"mounted":"unmounted",[h,m]=mL(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const p=Md(r.current);a.current=h==="mounted"?p:"none"},[h]),hn(()=>{const p=r.current,v=i.current;if(v!==n){const _=a.current,I=Md(p);n?m("MOUNT"):I==="none"||(p==null?void 0:p.display)==="none"?m("UNMOUNT"):m(v&&_!==I?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,m]),hn(()=>{if(e){let p;const v=e.ownerDocument.defaultView??window,y=I=>{const N=Md(r.current).includes(I.animationName);if(I.target===e&&N&&(m("ANIMATION_END"),!i.current)){const R=e.style.animationFillMode;e.style.animationFillMode="forwards",p=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=R)})}},_=I=>{I.target===e&&(a.current=Md(r.current))};return e.addEventListener("animationstart",_),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{v.clearTimeout(p),e.removeEventListener("animationstart",_),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else m("ANIMATION_END")},[e,m]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:b.useCallback(p=>{p&&(r.current=getComputedStyle(p)),t(p)},[])}}function Md(n){return(n==null?void 0:n.animationName)||"none"}function gL(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Rp="rovingFocusGroup.onEntryFocus",yL={bubbles:!1,cancelable:!0},vf="RovingFocusGroup",[wg,TT,vL]=jy(vf),[xL,xf]=si(vf,[vL]),[wL,_L]=xL(vf),ST=b.forwardRef((n,e)=>l.jsx(wg.Provider,{scope:n.__scopeRovingFocusGroup,children:l.jsx(wg.Slot,{scope:n.__scopeRovingFocusGroup,children:l.jsx(EL,{...n,ref:e})})}));ST.displayName=vf;var EL=b.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:a,currentTabStopId:u,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:m,onEntryFocus:p,preventScrollOnEntryFocus:v=!1,...y}=n,_=b.useRef(null),I=gt(e,_),A=cf(a),[N=null,R]=ul({prop:u,defaultProp:h,onChange:m}),[L,z]=b.useState(!1),F=ir(p),K=TT(t),J=b.useRef(!1),[te,C]=b.useState(0);return b.useEffect(()=>{const S=_.current;if(S)return S.addEventListener(Rp,F),()=>S.removeEventListener(Rp,F)},[F]),l.jsx(wL,{scope:t,orientation:r,dir:A,loop:i,currentTabStopId:N,onItemFocus:b.useCallback(S=>R(S),[R]),onItemShiftTab:b.useCallback(()=>z(!0),[]),onFocusableItemAdd:b.useCallback(()=>C(S=>S+1),[]),onFocusableItemRemove:b.useCallback(()=>C(S=>S-1),[]),children:l.jsx(Ye.div,{tabIndex:L||te===0?-1:0,"data-orientation":r,...y,ref:I,style:{outline:"none",...n.style},onMouseDown:Pe(n.onMouseDown,()=>{J.current=!0}),onFocus:Pe(n.onFocus,S=>{const P=!J.current;if(S.target===S.currentTarget&&P&&!L){const O=new CustomEvent(Rp,yL);if(S.currentTarget.dispatchEvent(O),!O.defaultPrevented){const D=K().filter(ie=>ie.focusable),U=D.find(ie=>ie.active),j=D.find(ie=>ie.id===N),be=[U,j,...D].filter(Boolean).map(ie=>ie.ref.current);CT(be,v)}}J.current=!1}),onBlur:Pe(n.onBlur,()=>z(!1))})})}),IT="RovingFocusGroupItem",NT=b.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:a,...u}=n,h=_s(),m=a||h,p=_L(IT,t),v=p.currentTabStopId===m,y=TT(t),{onFocusableItemAdd:_,onFocusableItemRemove:I}=p;return b.useEffect(()=>{if(r)return _(),()=>I()},[r,_,I]),l.jsx(wg.ItemSlot,{scope:t,id:m,focusable:r,active:i,children:l.jsx(Ye.span,{tabIndex:v?0:-1,"data-orientation":p.orientation,...u,ref:e,onMouseDown:Pe(n.onMouseDown,A=>{r?p.onItemFocus(m):A.preventDefault()}),onFocus:Pe(n.onFocus,()=>p.onItemFocus(m)),onKeyDown:Pe(n.onKeyDown,A=>{if(A.key==="Tab"&&A.shiftKey){p.onItemShiftTab();return}if(A.target!==A.currentTarget)return;const N=SL(A,p.orientation,p.dir);if(N!==void 0){if(A.metaKey||A.ctrlKey||A.altKey||A.shiftKey)return;A.preventDefault();let L=y().filter(z=>z.focusable).map(z=>z.ref.current);if(N==="last")L.reverse();else if(N==="prev"||N==="next"){N==="prev"&&L.reverse();const z=L.indexOf(A.currentTarget);L=p.loop?IL(L,z+1):L.slice(z+1)}setTimeout(()=>CT(L))}})})})});NT.displayName=IT;var bL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function TL(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function SL(n,e,t){const r=TL(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return bL[r]}function CT(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function IL(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var AT=ST,RT=NT,NL=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},$a=new WeakMap,Od=new WeakMap,Ld={},kp=0,kT=function(n){return n&&(n.host||kT(n.parentNode))},CL=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=kT(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},AL=function(n,e,t,r){var i=CL(e,Array.isArray(n)?n:[n]);Ld[t]||(Ld[t]=new WeakMap);var a=Ld[t],u=[],h=new Set,m=new Set(i),p=function(y){!y||h.has(y)||(h.add(y),p(y.parentNode))};i.forEach(p);var v=function(y){!y||m.has(y)||Array.prototype.forEach.call(y.children,function(_){if(h.has(_))v(_);else try{var I=_.getAttribute(r),A=I!==null&&I!=="false",N=($a.get(_)||0)+1,R=(a.get(_)||0)+1;$a.set(_,N),a.set(_,R),u.push(_),N===1&&A&&Od.set(_,!0),R===1&&_.setAttribute(t,"true"),A||_.setAttribute(r,"true")}catch(L){console.error("aria-hidden: cannot operate on ",_,L)}})};return v(e),h.clear(),kp++,function(){u.forEach(function(y){var _=$a.get(y)-1,I=a.get(y)-1;$a.set(y,_),a.set(y,I),_||(Od.has(y)||y.removeAttribute(r),Od.delete(y)),I||y.removeAttribute(t)}),kp--,kp||($a=new WeakMap,$a=new WeakMap,Od=new WeakMap,Ld={})}},$y=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=NL(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),AL(r,i,t,"aria-hidden")):function(){return null}},hs=function(){return hs=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},hs.apply(this,arguments)};function PT(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function RL(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}var Xd="right-scroll-bar-position",Jd="width-before-scroll-bar",kL="with-scroll-bars-hidden",PL="--removed-body-scroll-bar-size";function Pp(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function jL(n,e){var t=b.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var DL=typeof window<"u"?b.useLayoutEffect:b.useEffect,k_=new WeakMap;function ML(n,e){var t=jL(null,function(r){return n.forEach(function(i){return Pp(i,r)})});return DL(function(){var r=k_.get(t);if(r){var i=new Set(r),a=new Set(n),u=t.current;i.forEach(function(h){a.has(h)||Pp(h,null)}),a.forEach(function(h){i.has(h)||Pp(h,u)})}k_.set(t,n)},[n]),t}function OL(n){return n}function LL(n,e){e===void 0&&(e=OL);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var u=e(a,r);return t.push(u),function(){t=t.filter(function(h){return h!==u})}},assignSyncMedium:function(a){for(r=!0;t.length;){var u=t;t=[],u.forEach(a)}t={push:function(h){return a(h)},filter:function(){return t}}},assignMedium:function(a){r=!0;var u=[];if(t.length){var h=t;t=[],h.forEach(a),u=t}var m=function(){var v=u;u=[],v.forEach(a)},p=function(){return Promise.resolve().then(m)};p(),t={push:function(v){u.push(v),p()},filter:function(v){return u=u.filter(v),t}}}};return i}function VL(n){n===void 0&&(n={});var e=LL(null);return e.options=hs({async:!0,ssr:!1},n),e}var jT=function(n){var e=n.sideCar,t=PT(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,hs({},t))};jT.isSideCarExport=!0;function FL(n,e){return n.useMedium(e),jT}var DT=VL(),jp=function(){},wf=b.forwardRef(function(n,e){var t=b.useRef(null),r=b.useState({onScrollCapture:jp,onWheelCapture:jp,onTouchMoveCapture:jp}),i=r[0],a=r[1],u=n.forwardProps,h=n.children,m=n.className,p=n.removeScrollBar,v=n.enabled,y=n.shards,_=n.sideCar,I=n.noRelative,A=n.noIsolation,N=n.inert,R=n.allowPinchZoom,L=n.as,z=L===void 0?"div":L,F=n.gapMode,K=PT(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),J=_,te=ML([t,e]),C=hs(hs({},K),i);return b.createElement(b.Fragment,null,v&&b.createElement(J,{sideCar:DT,removeScrollBar:p,shards:y,noRelative:I,noIsolation:A,inert:N,setCallbacks:a,allowPinchZoom:!!R,lockRef:t,gapMode:F}),u?b.cloneElement(b.Children.only(h),hs(hs({},C),{ref:te})):b.createElement(z,hs({},C,{className:m,ref:te}),h))});wf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};wf.classNames={fullWidth:Jd,zeroRight:Xd};var UL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zL(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=UL();return e&&n.setAttribute("nonce",e),n}function BL(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function $L(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var qL=function(){var n=0,e=null;return{add:function(t){n==0&&(e=zL())&&(BL(e,t),$L(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},HL=function(){var n=qL();return function(e,t){b.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},MT=function(){var n=HL(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},WL={left:0,top:0,right:0,gap:0},Dp=function(n){return parseInt(n||"",10)||0},GL=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[Dp(t),Dp(r),Dp(i)]},KL=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return WL;var e=GL(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},QL=MT(),nl="data-scroll-locked",YL=function(n,e,t,r){var i=n.left,a=n.top,u=n.right,h=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(kL,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(h,"px ").concat(r,`;
  }
  body[`).concat(nl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(h,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xd,` {
    right: `).concat(h,"px ").concat(r,`;
  }
  
  .`).concat(Jd,` {
    margin-right: `).concat(h,"px ").concat(r,`;
  }
  
  .`).concat(Xd," .").concat(Xd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Jd," .").concat(Jd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(nl,`] {
    `).concat(PL,": ").concat(h,`px;
  }
`)},P_=function(){var n=parseInt(document.body.getAttribute(nl)||"0",10);return isFinite(n)?n:0},XL=function(){b.useEffect(function(){return document.body.setAttribute(nl,(P_()+1).toString()),function(){var n=P_()-1;n<=0?document.body.removeAttribute(nl):document.body.setAttribute(nl,n.toString())}},[])},JL=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;XL();var a=b.useMemo(function(){return KL(i)},[i]);return b.createElement(QL,{styles:YL(a,!e,i,t?"":"!important")})},_g=!1;if(typeof window<"u")try{var Vd=Object.defineProperty({},"passive",{get:function(){return _g=!0,!0}});window.addEventListener("test",Vd,Vd),window.removeEventListener("test",Vd,Vd)}catch{_g=!1}var qa=_g?{passive:!1}:!1,ZL=function(n){return n.tagName==="TEXTAREA"},OT=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!ZL(n)&&t[e]==="visible")},eV=function(n){return OT(n,"overflowY")},tV=function(n){return OT(n,"overflowX")},j_=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=LT(n,r);if(i){var a=VT(n,r),u=a[1],h=a[2];if(u>h)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},nV=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},rV=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},LT=function(n,e){return n==="v"?eV(e):tV(e)},VT=function(n,e){return n==="v"?nV(e):rV(e)},sV=function(n,e){return n==="h"&&e==="rtl"?-1:1},iV=function(n,e,t,r,i){var a=sV(n,window.getComputedStyle(e).direction),u=a*r,h=t.target,m=e.contains(h),p=!1,v=u>0,y=0,_=0;do{if(!h)break;var I=VT(n,h),A=I[0],N=I[1],R=I[2],L=N-R-a*A;(A||L)&&LT(n,h)&&(y+=L,_+=A);var z=h.parentNode;h=z&&z.nodeType===Node.DOCUMENT_FRAGMENT_NODE?z.host:z}while(!m&&h!==document.body||m&&(e.contains(h)||e===h));return(v&&Math.abs(y)<1||!v&&Math.abs(_)<1)&&(p=!0),p},Fd=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},D_=function(n){return[n.deltaX,n.deltaY]},M_=function(n){return n&&"current"in n?n.current:n},oV=function(n,e){return n[0]===e[0]&&n[1]===e[1]},aV=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},lV=0,Ha=[];function cV(n){var e=b.useRef([]),t=b.useRef([0,0]),r=b.useRef(),i=b.useState(lV++)[0],a=b.useState(MT)[0],u=b.useRef(n);b.useEffect(function(){u.current=n},[n]),b.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var N=RL([n.lockRef.current],(n.shards||[]).map(M_),!0).filter(Boolean);return N.forEach(function(R){return R.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),N.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var h=b.useCallback(function(N,R){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!u.current.allowPinchZoom;var L=Fd(N),z=t.current,F="deltaX"in N?N.deltaX:z[0]-L[0],K="deltaY"in N?N.deltaY:z[1]-L[1],J,te=N.target,C=Math.abs(F)>Math.abs(K)?"h":"v";if("touches"in N&&C==="h"&&te.type==="range")return!1;var S=window.getSelection(),P=S&&S.anchorNode,O=P?P===te||P.contains(te):!1;if(O)return!1;var D=j_(C,te);if(!D)return!0;if(D?J=C:(J=C==="v"?"h":"v",D=j_(C,te)),!D)return!1;if(!r.current&&"changedTouches"in N&&(F||K)&&(r.current=J),!J)return!0;var U=r.current||J;return iV(U,R,N,U==="h"?F:K)},[]),m=b.useCallback(function(N){var R=N;if(!(!Ha.length||Ha[Ha.length-1]!==a)){var L="deltaY"in R?D_(R):Fd(R),z=e.current.filter(function(J){return J.name===R.type&&(J.target===R.target||R.target===J.shadowParent)&&oV(J.delta,L)})[0];if(z&&z.should){R.cancelable&&R.preventDefault();return}if(!z){var F=(u.current.shards||[]).map(M_).filter(Boolean).filter(function(J){return J.contains(R.target)}),K=F.length>0?h(R,F[0]):!u.current.noIsolation;K&&R.cancelable&&R.preventDefault()}}},[]),p=b.useCallback(function(N,R,L,z){var F={name:N,delta:R,target:L,should:z,shadowParent:uV(L)};e.current.push(F),setTimeout(function(){e.current=e.current.filter(function(K){return K!==F})},1)},[]),v=b.useCallback(function(N){t.current=Fd(N),r.current=void 0},[]),y=b.useCallback(function(N){p(N.type,D_(N),N.target,h(N,n.lockRef.current))},[]),_=b.useCallback(function(N){p(N.type,Fd(N),N.target,h(N,n.lockRef.current))},[]);b.useEffect(function(){return Ha.push(a),n.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:_}),document.addEventListener("wheel",m,qa),document.addEventListener("touchmove",m,qa),document.addEventListener("touchstart",v,qa),function(){Ha=Ha.filter(function(N){return N!==a}),document.removeEventListener("wheel",m,qa),document.removeEventListener("touchmove",m,qa),document.removeEventListener("touchstart",v,qa)}},[]);var I=n.removeScrollBar,A=n.inert;return b.createElement(b.Fragment,null,A?b.createElement(a,{styles:aV(i)}):null,I?b.createElement(JL,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function uV(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const dV=FL(DT,cV);var _f=b.forwardRef(function(n,e){return b.createElement(wf,hs({},n,{ref:e,sideCar:dV}))});_f.classNames=wf.classNames;var Eg=["Enter"," "],hV=["ArrowDown","PageUp","Home"],FT=["ArrowUp","PageDown","End"],fV=[...hV,...FT],mV={ltr:[...Eg,"ArrowRight"],rtl:[...Eg,"ArrowLeft"]},pV={ltr:["ArrowLeft"],rtl:["ArrowRight"]},du="Menu",[Gc,gV,yV]=jy(du),[ia,UT]=si(du,[yV,gf,xf]),Ef=gf(),zT=xf(),[vV,oa]=ia(du),[xV,hu]=ia(du),BT=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:i,onOpenChange:a,modal:u=!0}=n,h=Ef(e),[m,p]=b.useState(null),v=b.useRef(!1),y=ir(a),_=cf(i);return b.useEffect(()=>{const I=()=>{v.current=!0,document.addEventListener("pointerdown",A,{capture:!0,once:!0}),document.addEventListener("pointermove",A,{capture:!0,once:!0})},A=()=>v.current=!1;return document.addEventListener("keydown",I,{capture:!0}),()=>{document.removeEventListener("keydown",I,{capture:!0}),document.removeEventListener("pointerdown",A,{capture:!0}),document.removeEventListener("pointermove",A,{capture:!0})}},[]),l.jsx(wT,{...h,children:l.jsx(vV,{scope:e,open:t,onOpenChange:y,content:m,onContentChange:p,children:l.jsx(xV,{scope:e,onClose:b.useCallback(()=>y(!1),[y]),isUsingKeyboardRef:v,dir:_,modal:u,children:r})})})};BT.displayName=du;var wV="MenuAnchor",qy=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=Ef(t);return l.jsx(_T,{...i,...r,ref:e})});qy.displayName=wV;var Hy="MenuPortal",[_V,$T]=ia(Hy,{forceMount:void 0}),qT=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:i}=n,a=oa(Hy,e);return l.jsx(_V,{scope:e,forceMount:t,children:l.jsx(ii,{present:t||a.open,children:l.jsx(yf,{asChild:!0,container:i,children:r})})})};qT.displayName=Hy;var _r="MenuContent",[EV,Wy]=ia(_r),HT=b.forwardRef((n,e)=>{const t=$T(_r,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,a=oa(_r,n.__scopeMenu),u=hu(_r,n.__scopeMenu);return l.jsx(Gc.Provider,{scope:n.__scopeMenu,children:l.jsx(ii,{present:r||a.open,children:l.jsx(Gc.Slot,{scope:n.__scopeMenu,children:u.modal?l.jsx(bV,{...i,ref:e}):l.jsx(TV,{...i,ref:e})})})})}),bV=b.forwardRef((n,e)=>{const t=oa(_r,n.__scopeMenu),r=b.useRef(null),i=gt(e,r);return b.useEffect(()=>{const a=r.current;if(a)return $y(a)},[]),l.jsx(Gy,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:Pe(n.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),TV=b.forwardRef((n,e)=>{const t=oa(_r,n.__scopeMenu);return l.jsx(Gy,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),Gy=b.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:u,disableOutsidePointerEvents:h,onEntryFocus:m,onEscapeKeyDown:p,onPointerDownOutside:v,onFocusOutside:y,onInteractOutside:_,onDismiss:I,disableOutsideScroll:A,...N}=n,R=oa(_r,t),L=hu(_r,t),z=Ef(t),F=zT(t),K=gV(t),[J,te]=b.useState(null),C=b.useRef(null),S=gt(e,C,R.onContentChange),P=b.useRef(0),O=b.useRef(""),D=b.useRef(0),U=b.useRef(null),j=b.useRef("right"),ve=b.useRef(0),be=A?_f:b.Fragment,ie=A?{as:ei,allowPinchZoom:!0}:void 0,ye=Z=>{var ee,ge;const se=O.current+Z,V=K().filter(we=>!we.disabled),Q=document.activeElement,ce=(ee=V.find(we=>we.ref.current===Q))==null?void 0:ee.textValue,me=V.map(we=>we.textValue),de=OV(me,se,ce),ue=(ge=V.find(we=>we.textValue===de))==null?void 0:ge.ref.current;(function we(Ae){O.current=Ae,window.clearTimeout(P.current),Ae!==""&&(P.current=window.setTimeout(()=>we(""),1e3))})(se),ue&&setTimeout(()=>ue.focus())};b.useEffect(()=>()=>window.clearTimeout(P.current),[]),Dy();const q=b.useCallback(Z=>{var V,Q;return j.current===((V=U.current)==null?void 0:V.side)&&VV(Z,(Q=U.current)==null?void 0:Q.area)},[]);return l.jsx(EV,{scope:t,searchRef:O,onItemEnter:b.useCallback(Z=>{q(Z)&&Z.preventDefault()},[q]),onItemLeave:b.useCallback(Z=>{var se;q(Z)||((se=C.current)==null||se.focus(),te(null))},[q]),onTriggerLeave:b.useCallback(Z=>{q(Z)&&Z.preventDefault()},[q]),pointerGraceTimerRef:D,onPointerGraceIntentChange:b.useCallback(Z=>{U.current=Z},[]),children:l.jsx(be,{...ie,children:l.jsx(df,{asChild:!0,trapped:i,onMountAutoFocus:Pe(a,Z=>{var se;Z.preventDefault(),(se=C.current)==null||se.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:l.jsx(uf,{asChild:!0,disableOutsidePointerEvents:h,onEscapeKeyDown:p,onPointerDownOutside:v,onFocusOutside:y,onInteractOutside:_,onDismiss:I,children:l.jsx(AT,{asChild:!0,...F,dir:L.dir,orientation:"vertical",loop:r,currentTabStopId:J,onCurrentTabStopIdChange:te,onEntryFocus:Pe(m,Z=>{L.isUsingKeyboardRef.current||Z.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(ET,{role:"menu","aria-orientation":"vertical","data-state":aS(R.open),"data-radix-menu-content":"",dir:L.dir,...z,...N,ref:S,style:{outline:"none",...N.style},onKeyDown:Pe(N.onKeyDown,Z=>{const V=Z.target.closest("[data-radix-menu-content]")===Z.currentTarget,Q=Z.ctrlKey||Z.altKey||Z.metaKey,ce=Z.key.length===1;V&&(Z.key==="Tab"&&Z.preventDefault(),!Q&&ce&&ye(Z.key));const me=C.current;if(Z.target!==me||!fV.includes(Z.key))return;Z.preventDefault();const ue=K().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);FT.includes(Z.key)&&ue.reverse(),DV(ue)}),onBlur:Pe(n.onBlur,Z=>{Z.currentTarget.contains(Z.target)||(window.clearTimeout(P.current),O.current="")}),onPointerMove:Pe(n.onPointerMove,Kc(Z=>{const se=Z.target,V=ve.current!==Z.clientX;if(Z.currentTarget.contains(se)&&V){const Q=Z.clientX>ve.current?"right":"left";j.current=Q,ve.current=Z.clientX}}))})})})})})})});HT.displayName=_r;var SV="MenuGroup",Ky=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return l.jsx(Ye.div,{role:"group",...r,ref:e})});Ky.displayName=SV;var IV="MenuLabel",WT=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return l.jsx(Ye.div,{...r,ref:e})});WT.displayName=IV;var Th="MenuItem",O_="menu.itemSelect",bf=b.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...i}=n,a=b.useRef(null),u=hu(Th,n.__scopeMenu),h=Wy(Th,n.__scopeMenu),m=gt(e,a),p=b.useRef(!1),v=()=>{const y=a.current;if(!t&&y){const _=new CustomEvent(O_,{bubbles:!0,cancelable:!0});y.addEventListener(O_,I=>r==null?void 0:r(I),{once:!0}),$b(y,_),_.defaultPrevented?p.current=!1:u.onClose()}};return l.jsx(GT,{...i,ref:m,disabled:t,onClick:Pe(n.onClick,v),onPointerDown:y=>{var _;(_=n.onPointerDown)==null||_.call(n,y),p.current=!0},onPointerUp:Pe(n.onPointerUp,y=>{var _;p.current||(_=y.currentTarget)==null||_.click()}),onKeyDown:Pe(n.onKeyDown,y=>{const _=h.searchRef.current!=="";t||_&&y.key===" "||Eg.includes(y.key)&&(y.currentTarget.click(),y.preventDefault())})})});bf.displayName=Th;var GT=b.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:i,...a}=n,u=Wy(Th,t),h=zT(t),m=b.useRef(null),p=gt(e,m),[v,y]=b.useState(!1),[_,I]=b.useState("");return b.useEffect(()=>{const A=m.current;A&&I((A.textContent??"").trim())},[a.children]),l.jsx(Gc.ItemSlot,{scope:t,disabled:r,textValue:i??_,children:l.jsx(RT,{asChild:!0,...h,focusable:!r,children:l.jsx(Ye.div,{role:"menuitem","data-highlighted":v?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:p,onPointerMove:Pe(n.onPointerMove,Kc(A=>{r?u.onItemLeave(A):(u.onItemEnter(A),A.defaultPrevented||A.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Pe(n.onPointerLeave,Kc(A=>u.onItemLeave(A))),onFocus:Pe(n.onFocus,()=>y(!0)),onBlur:Pe(n.onBlur,()=>y(!1))})})})}),NV="MenuCheckboxItem",KT=b.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...i}=n;return l.jsx(ZT,{scope:n.__scopeMenu,checked:t,children:l.jsx(bf,{role:"menuitemcheckbox","aria-checked":Sh(t)?"mixed":t,...i,ref:e,"data-state":Yy(t),onSelect:Pe(i.onSelect,()=>r==null?void 0:r(Sh(t)?!0:!t),{checkForDefaultPrevented:!1})})})});KT.displayName=NV;var QT="MenuRadioGroup",[CV,AV]=ia(QT,{value:void 0,onValueChange:()=>{}}),YT=b.forwardRef((n,e)=>{const{value:t,onValueChange:r,...i}=n,a=ir(r);return l.jsx(CV,{scope:n.__scopeMenu,value:t,onValueChange:a,children:l.jsx(Ky,{...i,ref:e})})});YT.displayName=QT;var XT="MenuRadioItem",JT=b.forwardRef((n,e)=>{const{value:t,...r}=n,i=AV(XT,n.__scopeMenu),a=t===i.value;return l.jsx(ZT,{scope:n.__scopeMenu,checked:a,children:l.jsx(bf,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":Yy(a),onSelect:Pe(r.onSelect,()=>{var u;return(u=i.onValueChange)==null?void 0:u.call(i,t)},{checkForDefaultPrevented:!1})})})});JT.displayName=XT;var Qy="MenuItemIndicator",[ZT,RV]=ia(Qy,{checked:!1}),eS=b.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...i}=n,a=RV(Qy,t);return l.jsx(ii,{present:r||Sh(a.checked)||a.checked===!0,children:l.jsx(Ye.span,{...i,ref:e,"data-state":Yy(a.checked)})})});eS.displayName=Qy;var kV="MenuSeparator",tS=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return l.jsx(Ye.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});tS.displayName=kV;var PV="MenuArrow",nS=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=Ef(t);return l.jsx(bT,{...i,...r,ref:e})});nS.displayName=PV;var jV="MenuSub",[J6,rS]=ia(jV),Ec="MenuSubTrigger",sS=b.forwardRef((n,e)=>{const t=oa(Ec,n.__scopeMenu),r=hu(Ec,n.__scopeMenu),i=rS(Ec,n.__scopeMenu),a=Wy(Ec,n.__scopeMenu),u=b.useRef(null),{pointerGraceTimerRef:h,onPointerGraceIntentChange:m}=a,p={__scopeMenu:n.__scopeMenu},v=b.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return b.useEffect(()=>v,[v]),b.useEffect(()=>{const y=h.current;return()=>{window.clearTimeout(y),m(null)}},[h,m]),l.jsx(qy,{asChild:!0,...p,children:l.jsx(GT,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":i.contentId,"data-state":aS(t.open),...n,ref:lf(e,i.onTriggerChange),onClick:y=>{var _;(_=n.onClick)==null||_.call(n,y),!(n.disabled||y.defaultPrevented)&&(y.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:Pe(n.onPointerMove,Kc(y=>{a.onItemEnter(y),!y.defaultPrevented&&!n.disabled&&!t.open&&!u.current&&(a.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{t.onOpenChange(!0),v()},100))})),onPointerLeave:Pe(n.onPointerLeave,Kc(y=>{var I,A;v();const _=(I=t.content)==null?void 0:I.getBoundingClientRect();if(_){const N=(A=t.content)==null?void 0:A.dataset.side,R=N==="right",L=R?-5:5,z=_[R?"left":"right"],F=_[R?"right":"left"];a.onPointerGraceIntentChange({area:[{x:y.clientX+L,y:y.clientY},{x:z,y:_.top},{x:F,y:_.top},{x:F,y:_.bottom},{x:z,y:_.bottom}],side:N}),window.clearTimeout(h.current),h.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(y),y.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Pe(n.onKeyDown,y=>{var I;const _=a.searchRef.current!=="";n.disabled||_&&y.key===" "||mV[r.dir].includes(y.key)&&(t.onOpenChange(!0),(I=t.content)==null||I.focus(),y.preventDefault())})})})});sS.displayName=Ec;var iS="MenuSubContent",oS=b.forwardRef((n,e)=>{const t=$T(_r,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,a=oa(_r,n.__scopeMenu),u=hu(_r,n.__scopeMenu),h=rS(iS,n.__scopeMenu),m=b.useRef(null),p=gt(e,m);return l.jsx(Gc.Provider,{scope:n.__scopeMenu,children:l.jsx(ii,{present:r||a.open,children:l.jsx(Gc.Slot,{scope:n.__scopeMenu,children:l.jsx(Gy,{id:h.contentId,"aria-labelledby":h.triggerId,...i,ref:p,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:v=>{var y;u.isUsingKeyboardRef.current&&((y=m.current)==null||y.focus()),v.preventDefault()},onCloseAutoFocus:v=>v.preventDefault(),onFocusOutside:Pe(n.onFocusOutside,v=>{v.target!==h.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Pe(n.onEscapeKeyDown,v=>{u.onClose(),v.preventDefault()}),onKeyDown:Pe(n.onKeyDown,v=>{var I;const y=v.currentTarget.contains(v.target),_=pV[u.dir].includes(v.key);y&&_&&(a.onOpenChange(!1),(I=h.trigger)==null||I.focus(),v.preventDefault())})})})})})});oS.displayName=iS;function aS(n){return n?"open":"closed"}function Sh(n){return n==="indeterminate"}function Yy(n){return Sh(n)?"indeterminate":n?"checked":"unchecked"}function DV(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function MV(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function OV(n,e,t){const i=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let u=MV(n,Math.max(a,0));i.length===1&&(u=u.filter(p=>p!==t));const m=u.find(p=>p.toLowerCase().startsWith(i.toLowerCase()));return m!==t?m:void 0}function LV(n,e){const{x:t,y:r}=n;let i=!1;for(let a=0,u=e.length-1;a<e.length;u=a++){const h=e[a].x,m=e[a].y,p=e[u].x,v=e[u].y;m>r!=v>r&&t<(p-h)*(r-m)/(v-m)+h&&(i=!i)}return i}function VV(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return LV(t,e)}function Kc(n){return e=>e.pointerType==="mouse"?n(e):void 0}var FV=BT,UV=qy,zV=qT,BV=HT,$V=Ky,qV=WT,HV=bf,WV=KT,GV=YT,KV=JT,QV=eS,YV=tS,XV=nS,JV=sS,ZV=oS,Xy="DropdownMenu",[e3]=si(Xy,[UT]),Cn=UT(),[t3,lS]=e3(Xy),cS=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:i,defaultOpen:a,onOpenChange:u,modal:h=!0}=n,m=Cn(e),p=b.useRef(null),[v=!1,y]=ul({prop:i,defaultProp:a,onChange:u});return l.jsx(t3,{scope:e,triggerId:_s(),triggerRef:p,contentId:_s(),open:v,onOpenChange:y,onOpenToggle:b.useCallback(()=>y(_=>!_),[y]),modal:h,children:l.jsx(FV,{...m,open:v,onOpenChange:y,dir:r,modal:h,children:t})})};cS.displayName=Xy;var uS="DropdownMenuTrigger",dS=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...i}=n,a=lS(uS,t),u=Cn(t);return l.jsx(UV,{asChild:!0,...u,children:l.jsx(Ye.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:lf(e,a.triggerRef),onPointerDown:Pe(n.onPointerDown,h=>{!r&&h.button===0&&h.ctrlKey===!1&&(a.onOpenToggle(),a.open||h.preventDefault())}),onKeyDown:Pe(n.onKeyDown,h=>{r||(["Enter"," "].includes(h.key)&&a.onOpenToggle(),h.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(h.key)&&h.preventDefault())})})})});dS.displayName=uS;var n3="DropdownMenuPortal",hS=n=>{const{__scopeDropdownMenu:e,...t}=n,r=Cn(e);return l.jsx(zV,{...r,...t})};hS.displayName=n3;var fS="DropdownMenuContent",mS=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=lS(fS,t),a=Cn(t),u=b.useRef(!1);return l.jsx(BV,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:e,onCloseAutoFocus:Pe(n.onCloseAutoFocus,h=>{var m;u.current||(m=i.triggerRef.current)==null||m.focus(),u.current=!1,h.preventDefault()}),onInteractOutside:Pe(n.onInteractOutside,h=>{const m=h.detail.originalEvent,p=m.button===0&&m.ctrlKey===!0,v=m.button===2||p;(!i.modal||v)&&(u.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});mS.displayName=fS;var r3="DropdownMenuGroup",s3=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Cn(t);return l.jsx($V,{...i,...r,ref:e})});s3.displayName=r3;var i3="DropdownMenuLabel",o3=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Cn(t);return l.jsx(qV,{...i,...r,ref:e})});o3.displayName=i3;var a3="DropdownMenuItem",pS=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Cn(t);return l.jsx(HV,{...i,...r,ref:e})});pS.displayName=a3;var l3="DropdownMenuCheckboxItem",c3=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Cn(t);return l.jsx(WV,{...i,...r,ref:e})});c3.displayName=l3;var u3="DropdownMenuRadioGroup",d3=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Cn(t);return l.jsx(GV,{...i,...r,ref:e})});d3.displayName=u3;var h3="DropdownMenuRadioItem",f3=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Cn(t);return l.jsx(KV,{...i,...r,ref:e})});f3.displayName=h3;var m3="DropdownMenuItemIndicator",p3=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Cn(t);return l.jsx(QV,{...i,...r,ref:e})});p3.displayName=m3;var g3="DropdownMenuSeparator",gS=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Cn(t);return l.jsx(YV,{...i,...r,ref:e})});gS.displayName=g3;var y3="DropdownMenuArrow",v3=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Cn(t);return l.jsx(XV,{...i,...r,ref:e})});v3.displayName=y3;var x3="DropdownMenuSubTrigger",w3=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Cn(t);return l.jsx(JV,{...i,...r,ref:e})});w3.displayName=x3;var _3="DropdownMenuSubContent",E3=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Cn(t);return l.jsx(ZV,{...i,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});E3.displayName=_3;var b3=cS,T3=dS,S3=hS,I3=mS,N3=pS,C3=gS;function A3({...n}){return l.jsx(b3,{"data-slot":"dropdown-menu",...n})}function R3({...n}){return l.jsx(T3,{"data-slot":"dropdown-menu-trigger",...n})}function k3({className:n,sideOffset:e=4,...t}){return l.jsx(S3,{children:l.jsx(I3,{"data-slot":"dropdown-menu-content",sideOffset:e,className:lt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),...t})})}function L_({className:n,inset:e,variant:t="default",...r}){return l.jsx(N3,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":t,className:lt("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r})}function Mp({className:n,...e}){return l.jsx(C3,{"data-slot":"dropdown-menu-separator",className:lt("bg-border -mx-1 my-1 h-px",n),...e})}const yS="/assets/logo-DTJ_v5lK.png",P3=({activeTab:n,setActiveTab:e,onLoginClick:t,onSignupClick:r})=>{var p,v;const{user:i,logout:a}=ri(),[u,h]=b.useState(!1),m=[{id:"home",label:"Accueil",icon:XD},{id:"themes",label:"Thmes",icon:el},{id:"messages",label:"Messages",icon:Rc},{id:"discover",label:"Dcouvrir",icon:_b}];return l.jsxs("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50 shadow-sm",children:[l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>e("home"),children:[l.jsx("img",{src:yS,alt:"SecondLife Exchange",className:"h-10 w-auto"}),l.jsx("span",{className:"font-bold text-xl text-gray-900 hidden sm:inline",children:"SecondLife"})]}),l.jsx("nav",{className:"hidden md:flex items-center gap-1",children:m.map(y=>{const _=y.icon;return l.jsxs(rt,{variant:n===y.id?"default":"ghost",onClick:()=>e(y.id),className:n===y.id?"bg-emerald-500 text-white hover:bg-emerald-600":"text-gray-700 hover:bg-gray-100",children:[l.jsx(_,{className:"w-4 h-4 mr-2"}),y.label]},y.id)})}),l.jsx("div",{className:"flex items-center gap-4",children:i?l.jsxs(A3,{open:u,onOpenChange:h,children:[l.jsx(R3,{className:"relative h-10 w-10 rounded-full focus:outline-none cursor-pointer",children:l.jsxs(yh,{className:"h-10 w-10 ring-2 ring-emerald-500",children:[l.jsx(vh,{src:i==null?void 0:i.photoURL,alt:i==null?void 0:i.displayName}),l.jsx(xh,{className:"bg-emerald-500 text-white",children:((p=i==null?void 0:i.displayName)==null?void 0:p.charAt(0).toUpperCase())||"U"})]})}),l.jsxs(k3,{className:"w-64 p-2",align:"end",children:[l.jsx("div",{className:"px-3 py-3 mb-2 bg-emerald-50 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs(yh,{className:"h-12 w-12 border-2 border-white shadow-sm",children:[l.jsx(vh,{src:i==null?void 0:i.photoURL,alt:i==null?void 0:i.displayName}),l.jsx(xh,{className:"bg-emerald-500 text-white text-lg",children:((v=i==null?void 0:i.displayName)==null?void 0:v.charAt(0).toUpperCase())||"U"})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-semibold text-gray-900 truncate",children:i==null?void 0:i.displayName}),l.jsx("p",{className:"text-sm text-gray-500 truncate",children:i==null?void 0:i.email})]})]})}),l.jsx(Mp,{}),l.jsx("div",{className:"px-3 py-2 mb-2",children:l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-center",children:[l.jsxs("div",{className:"bg-emerald-50 rounded-lg p-2",children:[l.jsx("p",{className:"text-xs text-gray-600",children:"changes"}),l.jsx("p",{className:"text-lg font-bold text-emerald-600",children:(i==null?void 0:i.exchangedItems)||0})]}),l.jsxs("div",{className:"bg-orange-50 rounded-lg p-2",children:[l.jsx("p",{className:"text-xs text-gray-600",children:"CO conomis"}),l.jsxs("p",{className:"text-lg font-bold text-orange-600",children:[(i==null?void 0:i.co2Saved)||0,"kg"]})]})]})}),l.jsx(Mp,{}),l.jsxs(L_,{onClick:()=>{e("profile"),h(!1)},className:"cursor-pointer px-3 py-2.5 rounded-lg hover:bg-emerald-50 transition-colors",children:[l.jsx(Ab,{className:"mr-3 h-5 w-5 text-emerald-600"}),l.jsx("span",{className:"font-medium",children:"Mon profil"})]}),l.jsx(Mp,{}),l.jsxs(L_,{onClick:()=>{a(),e("home"),h(!1)},className:"cursor-pointer px-3 py-2.5 rounded-lg hover:bg-red-50 text-red-600 transition-colors",children:[l.jsx(Ib,{className:"mr-3 h-5 w-5"}),l.jsx("span",{className:"font-medium",children:"Se dconnecter"})]})]})]}):l.jsxs(l.Fragment,{children:[l.jsx(rt,{variant:"ghost",onClick:t,className:"text-emerald-600 hover:text-emerald-700 hover:bg-emerald-50",children:"Se connecter"}),l.jsx(rt,{onClick:r,className:"bg-emerald-500 text-white hover:bg-emerald-600",children:"S'inscrire"})]})})]})}),l.jsx("div",{className:"md:hidden border-t border-gray-200",children:l.jsx("nav",{className:"flex justify-around p-2",children:m.map(y=>{const _=y.icon;return l.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>e(y.id),className:n===y.id?"bg-emerald-500 text-white":"text-gray-700",children:l.jsx(_,{className:"w-4 h-4"})},y.id)})})})]})},j3=({onLegalClick:n})=>{const e=new Date().getFullYear();return l.jsx("footer",{className:"bg-gray-50 border-t border-gray-200 mt-12",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[l.jsxs("div",{className:"col-span-1 md:col-span-2",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("img",{src:yS,alt:"SecondLife",className:"h-10 w-auto"}),l.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"SecondLife"})]}),l.jsx("p",{className:"text-sm text-gray-600 max-w-md",children:"La plateforme d'change d'objets pour une consommation responsable et circulaire."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Lgal"}),l.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[l.jsx("li",{children:l.jsx("button",{onClick:()=>n("mentions"),className:"hover:text-emerald-600 transition-colors text-left",children:"Mentions lgales"})}),l.jsx("li",{children:l.jsx("button",{onClick:()=>n("cgu"),className:"hover:text-emerald-600 transition-colors text-left",children:"CGU"})}),l.jsx("li",{children:l.jsx("button",{onClick:()=>n("confidentialite"),className:"hover:text-emerald-600 transition-colors text-left",children:"Politique de confidentialit"})}),l.jsx("li",{children:l.jsx("button",{onClick:()=>n("cookies"),className:"hover:text-emerald-600 transition-colors text-left",children:"Gestion des cookies"})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Contact"}),l.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[l.jsx("li",{children:l.jsx("a",{href:"mailto:contact@secondlife.fr",className:"hover:text-emerald-600 transition-colors",children:"contact@secondlife.fr"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-emerald-600 transition-colors",children:"FAQ"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-emerald-600 transition-colors",children:"Support"})})]})]})]}),l.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 text-center text-sm text-gray-500",children:l.jsxs("p",{children:[" ",e," SecondLife Exchange. Tous droits rservs."]})})]})})};function De({className:n,...e}){return l.jsx("div",{"data-slot":"card",className:lt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",n),...e})}function Ge({className:n,...e}){return l.jsx("div",{"data-slot":"card-header",className:lt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function Ke({className:n,...e}){return l.jsx("h4",{"data-slot":"card-title",className:lt("leading-none",n),...e})}function kc({className:n,...e}){return l.jsx("p",{"data-slot":"card-description",className:lt("text-muted-foreground",n),...e})}function Le({className:n,...e}){return l.jsx("div",{"data-slot":"card-content",className:lt("px-6 [&:last-child]:pb-6",n),...e})}function D3({className:n,...e}){return l.jsx("div",{"data-slot":"card-footer",className:lt("flex items-center px-6 pb-6 [.border-t]:pt-6",n),...e})}const M3=Pb("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function zi({className:n,variant:e,asChild:t=!1,...r}){const i=t?ei:"span";return l.jsx(i,{"data-slot":"badge",className:lt(M3({variant:e}),n),...r})}const V_=new Date("2025-01-13"),fs=[{id:"1",name:"lectronique et Gadgets",category:"electronics",description:"changez vos appareils lectroniques et dcouvrez de nouveaux gadgets. Smartphones, tablettes, ordinateurs portables et accessoires.",icon:"Laptop",impact:{co2Saved:"45kg par appareil",wasteReduced:"2.3T de dchets lectroniques",description:"La production d'un smartphone gnre environ 85kg de CO. En changeant plutt qu'en achetant neuf, vous vitez cette empreinte carbone."},color:"blue",durationDays:7},{id:"2",name:"Mode et Vtements",category:"clothing",description:"Renouvelez votre garde-robe de manire responsable. Vtements, chaussures et accessoires pour tous les styles.",icon:"Shirt",impact:{co2Saved:"3kg par vtement",wasteReduced:"1.8T de textiles",description:"L'industrie de la mode est responsable de 10% des missions mondiales de CO. changer prolonge la vie des vtements et rduit la demande de production."},color:"pink",durationDays:7},{id:"3",name:"Livres et Culture",category:"books",description:"Partagez vos lectures et dcouvrez de nouvelles histoires. Romans, BD, livres techniques et magazines.",icon:"Book",impact:{co2Saved:"1.5kg par livre",wasteReduced:"500kg de papier",description:"La production d'un livre neuf ncessite environ 7.5kg de CO. changer des livres permet de partager la culture tout en prservant les forts."},color:"amber",durationDays:7},{id:"4",name:"Mobilier et Dcoration",category:"furniture",description:"Transformez votre intrieur avec des meubles de seconde main. Tables, chaises, lampes et objets dco.",icon:"Sofa",impact:{co2Saved:"150kg par meuble",wasteReduced:"3.5T de dchets",description:"Les meubles reprsentent une part importante des dchets. changer plutt que jeter prolonge leur dure de vie et conomise les ressources."},color:"purple",durationDays:7},{id:"5",name:"Sports et Loisirs",category:"sports",description:"quipement sportif et loisirs cratifs. Vlos, matriel de camping, instruments de musique et plus.",icon:"Bike",impact:{co2Saved:"25kg par quipement",wasteReduced:"800kg de matriel",description:"L'quipement sportif est souvent peu utilis. L'changer permet  d'autres d'en profiter sans produire de nouveaux objets."},color:"green",durationDays:7}],Jy=()=>{const e=Math.floor((new Date().getTime()-V_.getTime())/(1e3*60*60*24)),t=fs.reduce((v,y)=>v+y.durationDays,0),r=e%t;let i=0,a=0;for(let v=0;v<fs.length;v++){if(r<i+fs[v].durationDays){a=v;break}i+=fs[v].durationDays}const u=fs[a],h=Math.floor(e/t),m=new Date(V_.getTime()+(h*t+i)*24*60*60*1e3),p=new Date(m.getTime()+(u.durationDays-1)*24*60*60*1e3);return{theme:u,startDate:m.toISOString().split("T")[0],endDate:p.toISOString().split("T")[0]}},O3=()=>{const{theme:n,endDate:e}=Jy(),t=fs.findIndex(a=>a.id===n.id),r=[];let i=new Date(e);i.setDate(i.getDate()+1);for(let a=1;a<=3;a++){const u=(t+a)%fs.length,h=fs[u];r.push({theme:h,startDate:i.toISOString().split("T")[0]}),i=new Date(i),i.setDate(i.getDate()+h.durationDays)}return r},L3=async()=>{try{const e=(await Xo(sr(Ze,"users"))).size,r=(await Xo(sr(Ze,"items"))).size;return{participants:e,objectsAvailable:r}}catch(n){return console.error("Erreur lors de la rcupration des stats:",n),{participants:0,objectsAvailable:0}}},V3=({setActiveTab:n})=>{const{theme:e,endDate:t}=Jy(),[r,i]=b.useState({participants:0,objectsAvailable:0}),[a,u]=b.useState(!0);b.useEffect(()=>{(async()=>{u(!0);const p=await L3();i(p),u(!1)})()},[]);const h=m=>{const p=new Date(m).getTime()-new Date().getTime();return Math.max(0,Math.ceil(p/(1e3*60*60*24)))};return l.jsxs("div",{className:"space-y-10",children:[l.jsxs("section",{className:"relative overflow-hidden rounded-2xl bg-emerald-600",children:[l.jsx("div",{className:"absolute -top-24 -right-24 h-64 w-64 rounded-full bg-white/10"}),l.jsx("div",{className:"absolute -bottom-24 -left-24 h-64 w-64 rounded-full bg-black/10"}),l.jsxs("div",{className:"relative p-8 md:p-12 text-white",children:[l.jsx(zi,{className:"bg-white/15 text-white border-white/20 mb-4",children:"conomie circulaire"}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-10 items-center",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl md:text-5xl font-bold mb-4 leading-tight",children:["changez autrement,",l.jsx("br",{}),"gardez lessentiel"]}),l.jsx("p",{className:"text-emerald-50 mb-6 max-w-xl",children:"Donnez une seconde vie  vos objets. Chaque semaine, un thme pour changer simplement et rduire le gaspillage."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsxs(rt,{size:"lg",className:"bg-white text-emerald-700 hover:bg-emerald-50 font-semibold",onClick:()=>n("themes"),children:["Voir le thme de la semaine",l.jsx(r_,{className:"ml-2 w-5 h-5"})]}),l.jsx(rt,{size:"lg",variant:"outline",className:"border-white/30 text-white hover:bg-white/10",onClick:()=>n("discover"),children:"Dcouvrir"})]})]}),l.jsxs("div",{className:"bg-white/10 border border-white/15 rounded-2xl p-6",children:[l.jsx("p",{className:"text-sm text-emerald-50 mb-3",children:"Focus cette semaine"}),l.jsx("p",{className:"text-2xl font-bold",children:e.name}),l.jsx("p",{className:"text-emerald-50 mt-2 line-clamp-3",children:e.description}),l.jsxs("div",{className:"mt-5 grid grid-cols-3 gap-3 text-center",children:[l.jsxs("div",{className:"rounded-xl bg-black/10 p-3",children:[l.jsx("p",{className:"text-xs text-emerald-50",children:"Jours"}),l.jsx("p",{className:"text-lg font-bold",children:h(t)})]}),l.jsxs("div",{className:"rounded-xl bg-black/10 p-3",children:[l.jsx("p",{className:"text-xs text-emerald-50",children:"Membres"}),l.jsx("p",{className:"text-lg font-bold",children:a?"":r.participants})]}),l.jsxs("div",{className:"rounded-xl bg-black/10 p-3",children:[l.jsx("p",{className:"text-xs text-emerald-50",children:"Objets"}),l.jsx("p",{className:"text-lg font-bold",children:a?"":r.objectsAvailable})]})]}),l.jsx(rt,{className:"mt-6 w-full bg-white text-emerald-700 hover:bg-emerald-50 font-semibold",onClick:()=>n("themes"),children:"Participer"})]})]})]})]}),l.jsxs("section",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx(De,{className:"shadow-sm",children:l.jsxs(Le,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Objets changs"}),l.jsx(Ui,{className:"w-5 h-5 text-emerald-600"})]}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:a?"":r.objectsAvailable})]})}),l.jsx(De,{className:"shadow-sm",children:l.jsxs(Le,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Membres actifs"}),l.jsx(RM,{className:"w-5 h-5 text-emerald-600"})]}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:a?"":r.participants})]})}),l.jsx(De,{className:"shadow-sm",children:l.jsxs(Le,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Thmes disponibles"}),l.jsx(el,{className:"w-5 h-5 text-emerald-600"})]}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"5"})]})}),l.jsx(De,{className:"shadow-sm",children:l.jsxs(Le,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"CO conomis"}),l.jsx(Gi,{className:"w-5 h-5 text-emerald-600"})]}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:a?"":`${(r.objectsAvailable*15).toFixed(0)}kg`})]})})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-6 text-center",children:"Comment a marche ?"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{title:"Proposez un objet",text:"Ajoutez les objets que vous n'utilisez plus."},{title:"Trouvez un change",text:"Parcourez les propositions de la communaut."},{title:"changez facilement",text:"Discutez et organisez lchange simplement."}].map((m,p)=>l.jsxs(De,{className:"hover:shadow-md transition-shadow",children:[l.jsxs(Ge,{children:[l.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-100 flex items-center justify-center mb-4",children:l.jsx("span",{className:"text-xl font-bold text-emerald-700",children:p+1})}),l.jsx(Ke,{children:m.title})]}),l.jsx(Le,{className:"text-gray-600",children:m.text})]},p))})]}),l.jsxs(De,{className:"border border-emerald-100 bg-emerald-50/50",children:[l.jsx(Ge,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ki,{className:"w-6 h-6 text-emerald-700"}),l.jsx(Ke,{className:"text-2xl",children:"Notre impact collectif"})]})}),l.jsxs(Le,{className:"space-y-4",children:[l.jsx("p",{className:"text-gray-700",children:"En changeant plutt qu'en achetant neuf, vous rduisez lempreinte carbone et limitez la production de dchets."}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-white rounded-xl p-5 text-center shadow-sm",children:[l.jsx(Gi,{className:"w-8 h-8 text-emerald-700 mx-auto mb-2"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a?"":`${(r.objectsAvailable*15).toFixed(0)}kg`}),l.jsx("p",{className:"text-sm text-gray-600",children:"CO conomis"})]}),l.jsxs("div",{className:"bg-white rounded-xl p-5 text-center shadow-sm",children:[l.jsx(Ui,{className:"w-8 h-8 text-emerald-700 mx-auto mb-2"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a?"":r.objectsAvailable}),l.jsx("p",{className:"text-sm text-gray-600",children:"Objets sauvs"})]}),l.jsxs("div",{className:"bg-white rounded-xl p-5 text-center shadow-sm",children:[l.jsx(Ki,{className:"w-8 h-8 text-emerald-700 mx-auto mb-2"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a?"":`${(r.objectsAvailable*1.2).toFixed(0)}kg`}),l.jsx("p",{className:"text-sm text-gray-600",children:"Dchets vits"})]})]})]})]}),l.jsx(De,{className:"border border-emerald-100 bg-white",children:l.jsxs(Le,{className:"p-10 text-center",children:[l.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-3 text-gray-900",children:"Prt  rejoindre le mouvement ?"}),l.jsx("p",{className:"text-gray-600 mb-6 max-w-2xl mx-auto",children:"Inscrivez-vous gratuitement et commencez  changer ds aujourd'hui."}),l.jsxs(rt,{size:"lg",className:"bg-emerald-600 hover:bg-emerald-700 text-white font-semibold",onClick:()=>n("themes"),children:["Dcouvrir les objets disponibles",l.jsx(r_,{className:"ml-2 w-5 h-5"})]})]})})]})};var Zy="Tabs",[F3]=si(Zy,[xf]),vS=xf(),[U3,ev]=F3(Zy),xS=b.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:i,defaultValue:a,orientation:u="horizontal",dir:h,activationMode:m="automatic",...p}=n,v=cf(h),[y,_]=ul({prop:r,onChange:i,defaultProp:a});return l.jsx(U3,{scope:t,baseId:_s(),value:y,onValueChange:_,orientation:u,dir:v,activationMode:m,children:l.jsx(Ye.div,{dir:v,"data-orientation":u,...p,ref:e})})});xS.displayName=Zy;var wS="TabsList",_S=b.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...i}=n,a=ev(wS,t),u=vS(t);return l.jsx(AT,{asChild:!0,...u,orientation:a.orientation,dir:a.dir,loop:r,children:l.jsx(Ye.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});_S.displayName=wS;var ES="TabsTrigger",bS=b.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:i=!1,...a}=n,u=ev(ES,t),h=vS(t),m=IS(u.baseId,r),p=NS(u.baseId,r),v=r===u.value;return l.jsx(RT,{asChild:!0,...h,focusable:!i,active:v,children:l.jsx(Ye.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":p,"data-state":v?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:m,...a,ref:e,onMouseDown:Pe(n.onMouseDown,y=>{!i&&y.button===0&&y.ctrlKey===!1?u.onValueChange(r):y.preventDefault()}),onKeyDown:Pe(n.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&u.onValueChange(r)}),onFocus:Pe(n.onFocus,()=>{const y=u.activationMode!=="manual";!v&&!i&&y&&u.onValueChange(r)})})})});bS.displayName=ES;var TS="TabsContent",SS=b.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:i,children:a,...u}=n,h=ev(TS,t),m=IS(h.baseId,r),p=NS(h.baseId,r),v=r===h.value,y=b.useRef(v);return b.useEffect(()=>{const _=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(_)},[]),l.jsx(ii,{present:i||v,children:({present:_})=>l.jsx(Ye.div,{"data-state":v?"active":"inactive","data-orientation":h.orientation,role:"tabpanel","aria-labelledby":m,hidden:!_,id:p,tabIndex:0,...u,ref:e,style:{...n.style,animationDuration:y.current?"0s":void 0},children:_&&a})})});SS.displayName=TS;function IS(n,e){return`${n}-trigger-${e}`}function NS(n,e){return`${n}-content-${e}`}var z3=xS,B3=_S,$3=bS,q3=SS;function CS({className:n,...e}){return l.jsx(z3,{"data-slot":"tabs",className:lt("flex flex-col gap-2",n),...e})}function AS({className:n,...e}){return l.jsx(B3,{"data-slot":"tabs-list",className:lt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",n),...e})}function Vi({className:n,...e}){return l.jsx($3,{"data-slot":"tabs-trigger",className:lt("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...e})}function Pc({className:n,...e}){return l.jsx(q3,{"data-slot":"tabs-content",className:lt("flex-1 outline-none",n),...e})}const H3={excellent:"bg-emerald-100 text-emerald-700 border border-emerald-200",good:"bg-amber-100 text-amber-800 border border-amber-200",fair:"bg-slate-100 text-slate-700 border border-slate-200"},W3={excellent:"Excellent",good:"Bon",fair:"Correct"},Op=({item:n,onVote:e,onContact:t})=>{const r=n.status==="exchanged",i=H3[n.condition]||"bg-slate-100 text-slate-700 border border-slate-200",a=W3[n.condition]||"tat";return l.jsxs(De,{className:["group overflow-hidden rounded-2xl border bg-white","shadow-sm hover:shadow-md transition-all",r?"opacity-80":""].join(" "),children:[l.jsxs("div",{className:"relative aspect-square overflow-hidden bg-gray-100",children:[l.jsx("img",{src:n.image,alt:n.title,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-[1.03]"}),l.jsx("div",{className:"absolute left-3 top-3",children:l.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${i}`,children:a})}),l.jsx("div",{className:"absolute right-3 top-3",children:l.jsxs("div",{className:"flex items-center gap-1 rounded-full bg-white/90 px-2.5 py-1 text-xs font-medium text-gray-800 shadow-sm",children:[l.jsx(i_,{className:"h-3.5 w-3.5 text-emerald-600"}),l.jsx("span",{children:n.votes})]})}),r&&l.jsx("div",{className:"absolute inset-0 bg-black/45 flex items-center justify-center",children:l.jsxs("div",{className:"rounded-full bg-white px-4 py-2 text-gray-900 flex items-center gap-2 font-semibold shadow-lg",children:[l.jsx(Tb,{className:"w-5 h-5 text-emerald-600"}),l.jsx("span",{children:"chang"})]})})]}),l.jsxs(Ge,{className:"pb-2",children:[l.jsx("h3",{className:"font-semibold text-gray-900 line-clamp-1",children:n.title}),l.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mt-1",children:n.description})]}),l.jsx(Le,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(yh,{className:"w-8 h-8 ring-2 ring-emerald-100",children:[l.jsx(vh,{src:n.userAvatar,alt:n.userName}),l.jsx(xh,{children:n.userName.charAt(0)})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:n.userName}),l.jsx("p",{className:"text-xs text-gray-500",children:new Date(n.createdAt).toLocaleDateString("fr-FR")})]})]})}),l.jsxs(D3,{className:"border-t bg-white p-3 flex gap-2",children:[l.jsxs(rt,{variant:"outline",size:"sm",className:"flex-1 rounded-xl",onClick:()=>e==null?void 0:e(n.id),disabled:r,children:[l.jsx(i_,{className:"w-4 h-4 mr-2 text-emerald-600"}),"Voter"]}),l.jsxs(rt,{size:"sm",className:["flex-1 rounded-xl bg-emerald-600 hover:bg-emerald-700","disabled:bg-gray-300 disabled:text-gray-600 disabled:cursor-not-allowed"].join(" "),onClick:()=>t==null?void 0:t(n),disabled:r,children:[l.jsx(Rc,{className:"w-4 h-4 mr-2"}),r?"Indisponible":"Contacter"]})]})]})};var tv="Dialog",[RS]=si(tv),[G3,$r]=RS(tv),kS=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:a,modal:u=!0}=n,h=b.useRef(null),m=b.useRef(null),[p=!1,v]=ul({prop:r,defaultProp:i,onChange:a});return l.jsx(G3,{scope:e,triggerRef:h,contentRef:m,contentId:_s(),titleId:_s(),descriptionId:_s(),open:p,onOpenChange:v,onOpenToggle:b.useCallback(()=>v(y=>!y),[v]),modal:u,children:t})};kS.displayName=tv;var PS="DialogTrigger",K3=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=$r(PS,t),a=gt(e,i.triggerRef);return l.jsx(Ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":sv(i.open),...r,ref:a,onClick:Pe(n.onClick,i.onOpenToggle)})});K3.displayName=PS;var nv="DialogPortal",[Q3,jS]=RS(nv,{forceMount:void 0}),DS=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,a=$r(nv,e);return l.jsx(Q3,{scope:e,forceMount:t,children:b.Children.map(r,u=>l.jsx(ii,{present:t||a.open,children:l.jsx(yf,{asChild:!0,container:i,children:u})}))})};DS.displayName=nv;var Ih="DialogOverlay",MS=b.forwardRef((n,e)=>{const t=jS(Ih,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,a=$r(Ih,n.__scopeDialog);return a.modal?l.jsx(ii,{present:r||a.open,children:l.jsx(Y3,{...i,ref:e})}):null});MS.displayName=Ih;var Y3=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=$r(Ih,t);return l.jsx(_f,{as:ei,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(Ye.div,{"data-state":sv(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Zo="DialogContent",OS=b.forwardRef((n,e)=>{const t=jS(Zo,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,a=$r(Zo,n.__scopeDialog);return l.jsx(ii,{present:r||a.open,children:a.modal?l.jsx(X3,{...i,ref:e}):l.jsx(J3,{...i,ref:e})})});OS.displayName=Zo;var X3=b.forwardRef((n,e)=>{const t=$r(Zo,n.__scopeDialog),r=b.useRef(null),i=gt(e,t.contentRef,r);return b.useEffect(()=>{const a=r.current;if(a)return $y(a)},[]),l.jsx(LS,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pe(n.onCloseAutoFocus,a=>{var u;a.preventDefault(),(u=t.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Pe(n.onPointerDownOutside,a=>{const u=a.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0;(u.button===2||h)&&a.preventDefault()}),onFocusOutside:Pe(n.onFocusOutside,a=>a.preventDefault())})}),J3=b.forwardRef((n,e)=>{const t=$r(Zo,n.__scopeDialog),r=b.useRef(!1),i=b.useRef(!1);return l.jsx(LS,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var u,h;(u=n.onCloseAutoFocus)==null||u.call(n,a),a.defaultPrevented||(r.current||(h=t.triggerRef.current)==null||h.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var m,p;(m=n.onInteractOutside)==null||m.call(n,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=a.target;((p=t.triggerRef.current)==null?void 0:p.contains(u))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),LS=b.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...u}=n,h=$r(Zo,t),m=b.useRef(null),p=gt(e,m);return Dy(),l.jsxs(l.Fragment,{children:[l.jsx(df,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:l.jsx(uf,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":sv(h.open),...u,ref:p,onDismiss:()=>h.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(Z3,{titleId:h.titleId}),l.jsx(t5,{contentRef:m,descriptionId:h.descriptionId})]})]})}),rv="DialogTitle",VS=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=$r(rv,t);return l.jsx(Ye.h2,{id:i.titleId,...r,ref:e})});VS.displayName=rv;var FS="DialogDescription",US=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=$r(FS,t);return l.jsx(Ye.p,{id:i.descriptionId,...r,ref:e})});US.displayName=FS;var zS="DialogClose",BS=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=$r(zS,t);return l.jsx(Ye.button,{type:"button",...r,ref:e,onClick:Pe(n.onClick,()=>i.onOpenChange(!1))})});BS.displayName=zS;function sv(n){return n?"open":"closed"}var $S="DialogTitleWarning",[Z6,qS]=w4($S,{contentName:Zo,titleName:rv,docsSlug:"dialog"}),Z3=({titleId:n})=>{const e=qS($S),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},e5="DialogDescriptionWarning",t5=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${qS(e5).contentName}}.`;return b.useEffect(()=>{var a;const i=(a=n.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},n5=kS,r5=DS,s5=MS,i5=OS,o5=VS,a5=US,l5=BS;function Tf(n){return l.jsx(n5,{"data-slot":"dialog",...n})}function c5(n){return l.jsx(r5,{"data-slot":"dialog-portal",...n})}const HS=b.forwardRef(({className:n,...e},t)=>l.jsx(s5,{ref:t,"data-slot":"dialog-overlay",className:lt("fixed inset-0 z-50 bg-black/50","data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));HS.displayName="DialogOverlay";const fu=b.forwardRef(({className:n,children:e,...t},r)=>l.jsxs(c5,{children:[l.jsx(HS,{}),l.jsxs(i5,{ref:r,"data-slot":"dialog-content",className:lt("fixed left-1/2 top-1/2 z-50 grid w-full translate-x-[-50%] translate-y-[-50%] gap-4","max-w-[calc(100%-1.5rem)] sm:max-w-lg","rounded-xl border bg-background p-6 shadow-lg","outline-none","data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","max-h-[85vh] overflow-y-auto",n),...t,children:[e,l.jsxs(l5,{className:lt("absolute right-4 top-4 rounded-md p-1 opacity-70 transition-opacity","hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2","disabled:pointer-events-none"),children:[l.jsx(cu,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));fu.displayName="DialogContent";function Sf(n){const{className:e,...t}=n;return l.jsx("div",{"data-slot":"dialog-header",className:lt("flex flex-col gap-2 text-center sm:text-left",e),...t})}const mu=b.forwardRef(({className:n,...e},t)=>l.jsx(o5,{ref:t,"data-slot":"dialog-title",className:lt("text-lg font-semibold leading-none",n),...e}));mu.displayName="DialogTitle";const pu=b.forwardRef(({className:n,...e},t)=>l.jsx(a5,{ref:t,"data-slot":"dialog-description",className:lt("text-sm text-muted-foreground",n),...e}));pu.displayName="DialogDescription";function ea({className:n,type:e,...t}){return l.jsx("input",{type:e,"data-slot":"input",className:lt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var u5="Label",WS=b.forwardRef((n,e)=>l.jsx(Ye.label,{...n,ref:e,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=n.onMouseDown)==null||i.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));WS.displayName=u5;var d5=WS;function zn({className:n,...e}){return l.jsx(d5,{"data-slot":"label",className:lt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}function If({className:n,...e}){return l.jsx("textarea",{"data-slot":"textarea",className:lt("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}function F_(n,[e,t]){return Math.min(t,Math.max(e,n))}function h5(n){const e=b.useRef({value:n,previous:n});return b.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var f5="VisuallyHidden",GS=b.forwardRef((n,e)=>l.jsx(Ye.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));GS.displayName=f5;var m5=[" ","Enter","ArrowUp","ArrowDown"],p5=[" ","Enter"],gu="Select",[Nf,Cf,g5]=jy(gu),[Tl]=si(gu,[g5,gf]),Af=gf(),[y5,ho]=Tl(gu),[v5,x5]=Tl(gu),KS=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:a,value:u,defaultValue:h,onValueChange:m,dir:p,name:v,autoComplete:y,disabled:_,required:I,form:A}=n,N=Af(e),[R,L]=b.useState(null),[z,F]=b.useState(null),[K,J]=b.useState(!1),te=cf(p),[C=!1,S]=ul({prop:r,defaultProp:i,onChange:a}),[P,O]=ul({prop:u,defaultProp:h,onChange:m}),D=b.useRef(null),U=R?A||!!R.closest("form"):!0,[j,ve]=b.useState(new Set),be=Array.from(j).map(ie=>ie.props.value).join(";");return l.jsx(wT,{...N,children:l.jsxs(y5,{required:I,scope:e,trigger:R,onTriggerChange:L,valueNode:z,onValueNodeChange:F,valueNodeHasChildren:K,onValueNodeHasChildrenChange:J,contentId:_s(),value:P,onValueChange:O,open:C,onOpenChange:S,dir:te,triggerPointerDownPosRef:D,disabled:_,children:[l.jsx(Nf.Provider,{scope:e,children:l.jsx(v5,{scope:n.__scopeSelect,onNativeOptionAdd:b.useCallback(ie=>{ve(ye=>new Set(ye).add(ie))},[]),onNativeOptionRemove:b.useCallback(ie=>{ve(ye=>{const q=new Set(ye);return q.delete(ie),q})},[]),children:t})}),U?l.jsxs(yI,{"aria-hidden":!0,required:I,tabIndex:-1,name:v,autoComplete:y,value:P,onChange:ie=>O(ie.target.value),disabled:_,form:A,children:[P===void 0?l.jsx("option",{value:""}):null,Array.from(j)]},be):null]})})};KS.displayName=gu;var QS="SelectTrigger",YS=b.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...i}=n,a=Af(t),u=ho(QS,t),h=u.disabled||r,m=gt(e,u.onTriggerChange),p=Cf(t),v=b.useRef("touch"),[y,_,I]=vI(N=>{const R=p().filter(F=>!F.disabled),L=R.find(F=>F.value===u.value),z=xI(R,N,L);z!==void 0&&u.onValueChange(z.value)}),A=N=>{h||(u.onOpenChange(!0),I()),N&&(u.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)})};return l.jsx(_T,{asChild:!0,...a,children:l.jsx(Ye.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":gI(u.value)?"":void 0,...i,ref:m,onClick:Pe(i.onClick,N=>{N.currentTarget.focus(),v.current!=="mouse"&&A(N)}),onPointerDown:Pe(i.onPointerDown,N=>{v.current=N.pointerType;const R=N.target;R.hasPointerCapture(N.pointerId)&&R.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&N.pointerType==="mouse"&&(A(N),N.preventDefault())}),onKeyDown:Pe(i.onKeyDown,N=>{const R=y.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&_(N.key),!(R&&N.key===" ")&&m5.includes(N.key)&&(A(),N.preventDefault())})})})});YS.displayName=QS;var XS="SelectValue",JS=b.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,children:a,placeholder:u="",...h}=n,m=ho(XS,t),{onValueNodeHasChildrenChange:p}=m,v=a!==void 0,y=gt(e,m.onValueNodeChange);return hn(()=>{p(v)},[p,v]),l.jsx(Ye.span,{...h,ref:y,style:{pointerEvents:"none"},children:gI(m.value)?l.jsx(l.Fragment,{children:u}):a})});JS.displayName=XS;var w5="SelectIcon",ZS=b.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return l.jsx(Ye.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});ZS.displayName=w5;var _5="SelectPortal",eI=n=>l.jsx(yf,{asChild:!0,...n});eI.displayName=_5;var ta="SelectContent",tI=b.forwardRef((n,e)=>{const t=ho(ta,n.__scopeSelect),[r,i]=b.useState();if(hn(()=>{i(new DocumentFragment)},[]),!t.open){const a=r;return a?lu.createPortal(l.jsx(nI,{scope:n.__scopeSelect,children:l.jsx(Nf.Slot,{scope:n.__scopeSelect,children:l.jsx("div",{children:n.children})})}),a):null}return l.jsx(rI,{...n,ref:e})});tI.displayName=ta;var Or=10,[nI,fo]=Tl(ta),E5="SelectContentImpl",rI=b.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:u,side:h,sideOffset:m,align:p,alignOffset:v,arrowPadding:y,collisionBoundary:_,collisionPadding:I,sticky:A,hideWhenDetached:N,avoidCollisions:R,...L}=n,z=ho(ta,t),[F,K]=b.useState(null),[J,te]=b.useState(null),C=gt(e,ee=>K(ee)),[S,P]=b.useState(null),[O,D]=b.useState(null),U=Cf(t),[j,ve]=b.useState(!1),be=b.useRef(!1);b.useEffect(()=>{if(F)return $y(F)},[F]),Dy();const ie=b.useCallback(ee=>{const[ge,...we]=U().map(Se=>Se.ref.current),[Ae]=we.slice(-1),$e=document.activeElement;for(const Se of ee)if(Se===$e||(Se==null||Se.scrollIntoView({block:"nearest"}),Se===ge&&J&&(J.scrollTop=0),Se===Ae&&J&&(J.scrollTop=J.scrollHeight),Se==null||Se.focus(),document.activeElement!==$e))return},[U,J]),ye=b.useCallback(()=>ie([S,F]),[ie,S,F]);b.useEffect(()=>{j&&ye()},[j,ye]);const{onOpenChange:q,triggerPointerDownPosRef:Z}=z;b.useEffect(()=>{if(F){let ee={x:0,y:0};const ge=Ae=>{var $e,Se;ee={x:Math.abs(Math.round(Ae.pageX)-((($e=Z.current)==null?void 0:$e.x)??0)),y:Math.abs(Math.round(Ae.pageY)-(((Se=Z.current)==null?void 0:Se.y)??0))}},we=Ae=>{ee.x<=10&&ee.y<=10?Ae.preventDefault():F.contains(Ae.target)||q(!1),document.removeEventListener("pointermove",ge),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",we,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",we,{capture:!0})}}},[F,q,Z]),b.useEffect(()=>{const ee=()=>q(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[q]);const[se,V]=vI(ee=>{const ge=U().filter($e=>!$e.disabled),we=ge.find($e=>$e.ref.current===document.activeElement),Ae=xI(ge,ee,we);Ae&&setTimeout(()=>Ae.ref.current.focus())}),Q=b.useCallback((ee,ge,we)=>{const Ae=!be.current&&!we;(z.value!==void 0&&z.value===ge||Ae)&&(P(ee),Ae&&(be.current=!0))},[z.value]),ce=b.useCallback(()=>F==null?void 0:F.focus(),[F]),me=b.useCallback((ee,ge,we)=>{const Ae=!be.current&&!we;(z.value!==void 0&&z.value===ge||Ae)&&D(ee)},[z.value]),de=r==="popper"?bg:sI,ue=de===bg?{side:h,sideOffset:m,align:p,alignOffset:v,arrowPadding:y,collisionBoundary:_,collisionPadding:I,sticky:A,hideWhenDetached:N,avoidCollisions:R}:{};return l.jsx(nI,{scope:t,content:F,viewport:J,onViewportChange:te,itemRefCallback:Q,selectedItem:S,onItemLeave:ce,itemTextRefCallback:me,focusSelectedItem:ye,selectedItemText:O,position:r,isPositioned:j,searchRef:se,children:l.jsx(_f,{as:ei,allowPinchZoom:!0,children:l.jsx(df,{asChild:!0,trapped:z.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:Pe(i,ee=>{var ge;(ge=z.trigger)==null||ge.focus({preventScroll:!0}),ee.preventDefault()}),children:l.jsx(uf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>z.onOpenChange(!1),children:l.jsx(de,{role:"listbox",id:z.contentId,"data-state":z.open?"open":"closed",dir:z.dir,onContextMenu:ee=>ee.preventDefault(),...L,...ue,onPlaced:()=>ve(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...L.style},onKeyDown:Pe(L.onKeyDown,ee=>{const ge=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!ge&&ee.key.length===1&&V(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let Ae=U().filter($e=>!$e.disabled).map($e=>$e.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(Ae=Ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const $e=ee.target,Se=Ae.indexOf($e);Ae=Ae.slice(Se+1)}setTimeout(()=>ie(Ae)),ee.preventDefault()}})})})})})})});rI.displayName=E5;var b5="SelectItemAlignedPosition",sI=b.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,a=ho(ta,t),u=fo(ta,t),[h,m]=b.useState(null),[p,v]=b.useState(null),y=gt(e,C=>v(C)),_=Cf(t),I=b.useRef(!1),A=b.useRef(!0),{viewport:N,selectedItem:R,selectedItemText:L,focusSelectedItem:z}=u,F=b.useCallback(()=>{if(a.trigger&&a.valueNode&&h&&p&&N&&R&&L){const C=a.trigger.getBoundingClientRect(),S=p.getBoundingClientRect(),P=a.valueNode.getBoundingClientRect(),O=L.getBoundingClientRect();if(a.dir!=="rtl"){const $e=O.left-S.left,Se=P.left-$e,dt=C.left-Se,Dt=C.width+dt,or=Math.max(Dt,S.width),bn=window.innerWidth-Or,Wt=F_(Se,[Or,Math.max(Or,bn-or)]);h.style.minWidth=Dt+"px",h.style.left=Wt+"px"}else{const $e=S.right-O.right,Se=window.innerWidth-P.right-$e,dt=window.innerWidth-C.right-Se,Dt=C.width+dt,or=Math.max(Dt,S.width),bn=window.innerWidth-Or,Wt=F_(Se,[Or,Math.max(Or,bn-or)]);h.style.minWidth=Dt+"px",h.style.right=Wt+"px"}const D=_(),U=window.innerHeight-Or*2,j=N.scrollHeight,ve=window.getComputedStyle(p),be=parseInt(ve.borderTopWidth,10),ie=parseInt(ve.paddingTop,10),ye=parseInt(ve.borderBottomWidth,10),q=parseInt(ve.paddingBottom,10),Z=be+ie+j+q+ye,se=Math.min(R.offsetHeight*5,Z),V=window.getComputedStyle(N),Q=parseInt(V.paddingTop,10),ce=parseInt(V.paddingBottom,10),me=C.top+C.height/2-Or,de=U-me,ue=R.offsetHeight/2,ee=R.offsetTop+ue,ge=be+ie+ee,we=Z-ge;if(ge<=me){const $e=D.length>0&&R===D[D.length-1].ref.current;h.style.bottom="0px";const Se=p.clientHeight-N.offsetTop-N.offsetHeight,dt=Math.max(de,ue+($e?ce:0)+Se+ye),Dt=ge+dt;h.style.height=Dt+"px"}else{const $e=D.length>0&&R===D[0].ref.current;h.style.top="0px";const dt=Math.max(me,be+N.offsetTop+($e?Q:0)+ue)+we;h.style.height=dt+"px",N.scrollTop=ge-me+N.offsetTop}h.style.margin=`${Or}px 0`,h.style.minHeight=se+"px",h.style.maxHeight=U+"px",r==null||r(),requestAnimationFrame(()=>I.current=!0)}},[_,a.trigger,a.valueNode,h,p,N,R,L,a.dir,r]);hn(()=>F(),[F]);const[K,J]=b.useState();hn(()=>{p&&J(window.getComputedStyle(p).zIndex)},[p]);const te=b.useCallback(C=>{C&&A.current===!0&&(F(),z==null||z(),A.current=!1)},[F,z]);return l.jsx(S5,{scope:t,contentWrapper:h,shouldExpandOnScrollRef:I,onScrollButtonChange:te,children:l.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:K},children:l.jsx(Ye.div,{...i,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});sI.displayName=b5;var T5="SelectPopperPosition",bg=b.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=Or,...a}=n,u=Af(t);return l.jsx(ET,{...u,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});bg.displayName=T5;var[S5,iv]=Tl(ta,{}),Tg="SelectViewport",iI=b.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...i}=n,a=fo(Tg,t),u=iv(Tg,t),h=gt(e,a.onViewportChange),m=b.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(Nf.Slot,{scope:t,children:l.jsx(Ye.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Pe(i.onScroll,p=>{const v=p.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:_}=u;if(_!=null&&_.current&&y){const I=Math.abs(m.current-v.scrollTop);if(I>0){const A=window.innerHeight-Or*2,N=parseFloat(y.style.minHeight),R=parseFloat(y.style.height),L=Math.max(N,R);if(L<A){const z=L+I,F=Math.min(A,z),K=z-F;y.style.height=F+"px",y.style.bottom==="0px"&&(v.scrollTop=K>0?K:0,y.style.justifyContent="flex-end")}}}m.current=v.scrollTop})})})]})});iI.displayName=Tg;var oI="SelectGroup",[I5,N5]=Tl(oI),C5=b.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=_s();return l.jsx(I5,{scope:t,id:i,children:l.jsx(Ye.div,{role:"group","aria-labelledby":i,...r,ref:e})})});C5.displayName=oI;var aI="SelectLabel",A5=b.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=N5(aI,t);return l.jsx(Ye.div,{id:i.id,...r,ref:e})});A5.displayName=aI;var Nh="SelectItem",[R5,lI]=Tl(Nh),cI=b.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:a,...u}=n,h=ho(Nh,t),m=fo(Nh,t),p=h.value===r,[v,y]=b.useState(a??""),[_,I]=b.useState(!1),A=gt(e,z=>{var F;return(F=m.itemRefCallback)==null?void 0:F.call(m,z,r,i)}),N=_s(),R=b.useRef("touch"),L=()=>{i||(h.onValueChange(r),h.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(R5,{scope:t,value:r,disabled:i,textId:N,isSelected:p,onItemTextChange:b.useCallback(z=>{y(F=>F||((z==null?void 0:z.textContent)??"").trim())},[]),children:l.jsx(Nf.ItemSlot,{scope:t,value:r,disabled:i,textValue:v,children:l.jsx(Ye.div,{role:"option","aria-labelledby":N,"data-highlighted":_?"":void 0,"aria-selected":p&&_,"data-state":p?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...u,ref:A,onFocus:Pe(u.onFocus,()=>I(!0)),onBlur:Pe(u.onBlur,()=>I(!1)),onClick:Pe(u.onClick,()=>{R.current!=="mouse"&&L()}),onPointerUp:Pe(u.onPointerUp,()=>{R.current==="mouse"&&L()}),onPointerDown:Pe(u.onPointerDown,z=>{R.current=z.pointerType}),onPointerMove:Pe(u.onPointerMove,z=>{var F;R.current=z.pointerType,i?(F=m.onItemLeave)==null||F.call(m):R.current==="mouse"&&z.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Pe(u.onPointerLeave,z=>{var F;z.currentTarget===document.activeElement&&((F=m.onItemLeave)==null||F.call(m))}),onKeyDown:Pe(u.onKeyDown,z=>{var K;((K=m.searchRef)==null?void 0:K.current)!==""&&z.key===" "||(p5.includes(z.key)&&L(),z.key===" "&&z.preventDefault())})})})})});cI.displayName=Nh;var bc="SelectItemText",uI=b.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...a}=n,u=ho(bc,t),h=fo(bc,t),m=lI(bc,t),p=x5(bc,t),[v,y]=b.useState(null),_=gt(e,L=>y(L),m.onItemTextChange,L=>{var z;return(z=h.itemTextRefCallback)==null?void 0:z.call(h,L,m.value,m.disabled)}),I=v==null?void 0:v.textContent,A=b.useMemo(()=>l.jsx("option",{value:m.value,disabled:m.disabled,children:I},m.value),[m.disabled,m.value,I]),{onNativeOptionAdd:N,onNativeOptionRemove:R}=p;return hn(()=>(N(A),()=>R(A)),[N,R,A]),l.jsxs(l.Fragment,{children:[l.jsx(Ye.span,{id:m.textId,...a,ref:_}),m.isSelected&&u.valueNode&&!u.valueNodeHasChildren?lu.createPortal(a.children,u.valueNode):null]})});uI.displayName=bc;var dI="SelectItemIndicator",hI=b.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return lI(dI,t).isSelected?l.jsx(Ye.span,{"aria-hidden":!0,...r,ref:e}):null});hI.displayName=dI;var Sg="SelectScrollUpButton",fI=b.forwardRef((n,e)=>{const t=fo(Sg,n.__scopeSelect),r=iv(Sg,n.__scopeSelect),[i,a]=b.useState(!1),u=gt(e,r.onScrollButtonChange);return hn(()=>{if(t.viewport&&t.isPositioned){let h=function(){const p=m.scrollTop>0;a(p)};const m=t.viewport;return h(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),i?l.jsx(pI,{...n,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:m}=t;h&&m&&(h.scrollTop=h.scrollTop-m.offsetHeight)}}):null});fI.displayName=Sg;var Ig="SelectScrollDownButton",mI=b.forwardRef((n,e)=>{const t=fo(Ig,n.__scopeSelect),r=iv(Ig,n.__scopeSelect),[i,a]=b.useState(!1),u=gt(e,r.onScrollButtonChange);return hn(()=>{if(t.viewport&&t.isPositioned){let h=function(){const p=m.scrollHeight-m.clientHeight,v=Math.ceil(m.scrollTop)<p;a(v)};const m=t.viewport;return h(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),i?l.jsx(pI,{...n,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:m}=t;h&&m&&(h.scrollTop=h.scrollTop+m.offsetHeight)}}):null});mI.displayName=Ig;var pI=b.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,a=fo("SelectScrollButton",t),u=b.useRef(null),h=Cf(t),m=b.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return b.useEffect(()=>()=>m(),[m]),hn(()=>{var v;const p=h().find(y=>y.ref.current===document.activeElement);(v=p==null?void 0:p.ref.current)==null||v.scrollIntoView({block:"nearest"})},[h]),l.jsx(Ye.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Pe(i.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(r,50))}),onPointerMove:Pe(i.onPointerMove,()=>{var p;(p=a.onItemLeave)==null||p.call(a),u.current===null&&(u.current=window.setInterval(r,50))}),onPointerLeave:Pe(i.onPointerLeave,()=>{m()})})}),k5="SelectSeparator",P5=b.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return l.jsx(Ye.div,{"aria-hidden":!0,...r,ref:e})});P5.displayName=k5;var Ng="SelectArrow",j5=b.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=Af(t),a=ho(Ng,t),u=fo(Ng,t);return a.open&&u.position==="popper"?l.jsx(bT,{...i,...r,ref:e}):null});j5.displayName=Ng;function gI(n){return n===""||n===void 0}var yI=b.forwardRef((n,e)=>{const{value:t,...r}=n,i=b.useRef(null),a=gt(e,i),u=h5(t);return b.useEffect(()=>{const h=i.current,m=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(m,"value").set;if(u!==t&&v){const y=new Event("change",{bubbles:!0});v.call(h,t),h.dispatchEvent(y)}},[u,t]),l.jsx(GS,{asChild:!0,children:l.jsx("select",{...r,ref:a,defaultValue:t})})});yI.displayName="BubbleSelect";function vI(n){const e=ir(n),t=b.useRef(""),r=b.useRef(0),i=b.useCallback(u=>{const h=t.current+u;e(h),(function m(p){t.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>m(""),1e3))})(h)},[e]),a=b.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,a]}function xI(n,e,t){const i=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let u=D5(n,Math.max(a,0));i.length===1&&(u=u.filter(p=>p!==t));const m=u.find(p=>p.textValue.toLowerCase().startsWith(i.toLowerCase()));return m!==t?m:void 0}function D5(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var M5=KS,O5=YS,L5=JS,V5=ZS,F5=eI,U5=tI,z5=iI,B5=cI,$5=uI,q5=hI,H5=fI,W5=mI;function Ch({...n}){return l.jsx(M5,{"data-slot":"select",...n})}function Ah({...n}){return l.jsx(L5,{"data-slot":"select-value",...n})}function Rh({className:n,size:e="default",children:t,...r}){return l.jsxs(O5,{"data-slot":"select-trigger","data-size":e,className:lt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r,children:[t,l.jsx(V5,{asChild:!0,children:l.jsx(bb,{className:"size-4 opacity-50"})})]})}function kh({className:n,children:e,position:t="popper",...r}){return l.jsx(F5,{children:l.jsxs(U5,{"data-slot":"select-content",className:lt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[l.jsx(G5,{}),l.jsx(z5,{className:lt("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),l.jsx(K5,{})]})})}function Lr({className:n,children:e,...t}){return l.jsxs(B5,{"data-slot":"select-item",className:lt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[l.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:l.jsx(q5,{children:l.jsx(Eb,{className:"size-4"})})}),l.jsx($5,{children:e})]})}function G5({className:n,...e}){return l.jsx(H5,{"data-slot":"select-scroll-up-button",className:lt("flex cursor-default items-center justify-center py-1",n),...e,children:l.jsx($D,{className:"size-4"})})}function K5({className:n,...e}){return l.jsx(W5,{"data-slot":"select-scroll-down-button",className:lt("flex cursor-default items-center justify-center py-1",n),...e,children:l.jsx(bb,{className:"size-4"})})}const Rf="items",Q5=async n=>{try{return(await of(sr(Ze,Rf),{...n,createdAt:xt.now(),votes:0})).id}catch(e){throw console.error("Erreur lors de l'ajout de l'objet:",e),e}},Y5=async()=>{try{const n=sa(sr(Ze,Rf)),t=(await Xo(n)).docs.map(r=>{var i;return{id:r.id,...r.data(),createdAt:((i=r.data().createdAt)==null?void 0:i.toDate().toISOString())||new Date().toISOString()}});return t.sort((r,i)=>new Date(i.createdAt).getTime()-new Date(r.createdAt).getTime()),t}catch(n){return console.error("Erreur lors de la rcupration des objets:",n),[]}},X5=async n=>{try{console.log(" Recherche objets pour thme:",n);const e=sa(sr(Ze,Rf),cl("themeId","==",n)),r=(await Xo(e)).docs.map(i=>{var u;const a=i.data();return console.log(" Objet trouv:",i.id,"themeId:",a.themeId),{id:i.id,...a,createdAt:((u=a.createdAt)==null?void 0:u.toDate().toISOString())||new Date().toISOString()}});return r.sort((i,a)=>new Date(a.createdAt).getTime()-new Date(i.createdAt).getTime()),console.log(" Total objets trouvs:",r.length),r}catch(e){return console.error(" Erreur getItemsByTheme:",e),[]}},J5=async n=>{try{const e=wt(Ze,Rf,n);await Ws(e,{votes:_c(1)})}catch(e){throw console.error("Erreur lors du vote:",e),e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5="type.googleapis.com/google.protobuf.Int64Value",e6="type.googleapis.com/google.protobuf.UInt64Value";function wI(n,e){const t={};for(const r in n)n.hasOwnProperty(r)&&(t[r]=e(n[r]));return t}function Ph(n){if(n==null)return null;if(n instanceof Number&&(n=n.valueOf()),typeof n=="number"&&isFinite(n)||n===!0||n===!1||Object.prototype.toString.call(n)==="[object String]")return n;if(n instanceof Date)return n.toISOString();if(Array.isArray(n))return n.map(e=>Ph(e));if(typeof n=="function"||typeof n=="object")return wI(n,e=>Ph(e));throw new Error("Data cannot be encoded in JSON: "+n)}function hl(n){if(n==null)return n;if(n["@type"])switch(n["@type"]){case Z5:case e6:{const e=Number(n.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+n);return e}default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(e=>hl(e)):typeof n=="function"||typeof n=="object"?wI(n,e=>hl(e)):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Bn extends Ss{constructor(e,t,r){super(`${ov}/${e}`,t||""),this.details=r,Object.setPrototypeOf(this,Bn.prototype)}}function t6(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function jh(n,e){let t=t6(n),r=t,i;try{const a=e&&e.error;if(a){const u=a.status;if(typeof u=="string"){if(!U_[u])return new Bn("internal","internal");t=U_[u],r=u}const h=a.message;typeof h=="string"&&(r=h),i=a.details,i!==void 0&&(i=hl(i))}}catch{}return t==="ok"?null:new Bn(t,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e,t,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Fn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||t.get().then(a=>this.auth=a,()=>{}),this.messaging||r.get().then(a=>this.messaging=a,()=>{}),this.appCheck||i==null||i.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:t,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="us-central1",r6=/^data: (.*?)(?:\n|$)/;function s6(n){let e=null;return{promise:new Promise((t,r)=>{e=setTimeout(()=>{r(new Bn("deadline-exceeded","deadline-exceeded"))},n)}),cancel:()=>{e&&clearTimeout(e)}}}class i6{constructor(e,t,r,i,a=Cg,u=(...h)=>fetch(...h)){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new n6(e,t,r,i),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{const h=new URL(a);this.customDomain=h.origin+(h.pathname==="/"?"":h.pathname),this.region=Cg}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function o6(n,e,t){const r=so(e);n.emulatorOrigin=`http${r?"s":""}://${e}:${t}`,r&&(kg(n.emulatorOrigin+"/backends"),Pg("Functions",!0))}function a6(n,e,t){const r=i=>c6(n,e,i,{});return r.stream=(i,a)=>d6(n,e,i,a),r}function _I(n){return n.emulatorOrigin&&so(n.emulatorOrigin)?"include":void 0}async function l6(n,e,t,r,i){t["Content-Type"]="application/json";let a;try{a=await r(n,{method:"POST",body:JSON.stringify(e),headers:t,credentials:_I(i)})}catch{return{status:0,json:null}}let u=null;try{u=await a.json()}catch{}return{status:a.status,json:u}}async function EI(n,e){const t={},r=await n.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(t.Authorization="Bearer "+r.authToken),r.messagingToken&&(t["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=r.appCheckToken),t}function c6(n,e,t,r){const i=n._url(e);return u6(n,i,t,r)}async function u6(n,e,t,r){t=Ph(t);const i={data:t},a=await EI(n,r),u=r.timeout||7e4,h=s6(u),m=await Promise.race([l6(e,i,a,n.fetchImpl,n),h.promise,n.cancelAllRequests]);if(h.cancel(),!m)throw new Bn("cancelled","Firebase Functions instance was deleted.");const p=jh(m.status,m.json);if(p)throw p;if(!m.json)throw new Bn("internal","Response is not valid JSON object.");let v=m.json.data;if(typeof v>"u"&&(v=m.json.result),typeof v>"u")throw new Bn("internal","Response is missing data field.");return{data:hl(v)}}function d6(n,e,t,r){const i=n._url(e);return h6(n,i,t,r||{})}async function h6(n,e,t,r){var _;t=Ph(t);const i={data:t},a=await EI(n,r);a["Content-Type"]="application/json",a.Accept="text/event-stream";let u;try{u=await n.fetchImpl(e,{method:"POST",body:JSON.stringify(i),headers:a,signal:r==null?void 0:r.signal,credentials:_I(n)})}catch(I){if(I instanceof Error&&I.name==="AbortError"){const N=new Bn("cancelled","Request was cancelled.");return{data:Promise.reject(N),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(N)}}}}}}const A=jh(0,null);return{data:Promise.reject(A),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(A)}}}}}}let h,m;const p=new Promise((I,A)=>{h=I,m=A});(_=r==null?void 0:r.signal)==null||_.addEventListener("abort",()=>{const I=new Bn("cancelled","Request was cancelled.");m(I)});const v=u.body.getReader(),y=f6(v,h,m,r==null?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const I=y.getReader();return{async next(){const{value:A,done:N}=await I.read();return{value:A,done:N}},async return(){return await I.cancel(),{done:!0,value:void 0}}}}},data:p}}function f6(n,e,t,r){const i=(u,h)=>{const m=u.match(r6);if(!m)return;const p=m[1];try{const v=JSON.parse(p);if("result"in v){e(hl(v.result));return}if("message"in v){h.enqueue(hl(v.message));return}if("error"in v){const y=jh(0,v);h.error(y),t(y);return}}catch(v){if(v instanceof Bn){h.error(v),t(v);return}}},a=new TextDecoder;return new ReadableStream({start(u){let h="";return m();async function m(){if(r!=null&&r.aborted){const p=new Bn("cancelled","Request was cancelled");return u.error(p),t(p),Promise.resolve()}try{const{value:p,done:v}=await n.read();if(v){h.trim()&&i(h.trim(),u),u.close();return}if(r!=null&&r.aborted){const _=new Bn("cancelled","Request was cancelled");u.error(_),t(_),await n.cancel();return}h+=a.decode(p,{stream:!0});const y=h.split(`
`);h=y.pop()||"";for(const _ of y)_.trim()&&i(_.trim(),u);return m()}catch(p){const v=p instanceof Bn?p:jh(0,null);u.error(v),t(v)}}},cancel(){return n.cancel()}})}const z_="@firebase/functions",B_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6="auth-internal",p6="app-check-internal",g6="messaging-internal";function y6(n){const e=(t,{instanceIdentifier:r})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider(m6),u=t.getProvider(g6),h=t.getProvider(p6);return new i6(i,a,u,h,r)};Wo(new Qi(ov,e,"PUBLIC").setMultipleInstances(!0)),ps(z_,B_,n),ps(z_,B_,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(n=Mg(),e=Cg){const r=Mh(jt(n),ov).getImmediate({identifier:e}),i=Y_("functions");return i&&x6(r,...i),r}function x6(n,e,t){o6(jt(n),e,t)}function w6(n,e,t){return a6(jt(n),e)}y6();const bI=async n=>{try{const e=v6(),r=await w6(e,"generateDescription")(n);if(r.data.success)return r.data.description;throw new Error("chec de la gnration")}catch(e){throw console.error("Erreur lors de la gnration:",e),e}},_6=({open:n,onOpenChange:e,themeId:t,themeName:r,preselectTheme:i=!1,onItemAdded:a})=>{const{user:u}=ri(),[h,m]=b.useState(""),[p,v]=b.useState(""),[y,_]=b.useState("good"),[I,A]=b.useState(i&&t?t:"none"),[N,R]=b.useState(""),[L,z]=b.useState(!1),[F,K]=b.useState(!1);b.useEffect(()=>{n&&A(i&&t?t:"none")},[n,i,t]);const J=S=>{var O;const P=(O=S.target.files)==null?void 0:O[0];if(P){const D=new FileReader;D.onloadend=()=>{R(D.result)},D.readAsDataURL(P)}},te=async()=>{var S;if(!h){Ve.error("Veuillez d'abord remplir le titre de l'objet");return}if(!I||I==="none"){Ve.error("Veuillez slectionner une catgorie/thme");return}K(!0);try{const P=((S=fs.find(D=>D.id===I))==null?void 0:S.name)||"Gnral",O=await bI({title:h,theme:P,condition:y});v(O),Ve.success("Description gnre avec succs !")}catch(P){console.error("Erreur gnration IA:",P),Ve.error("Erreur lors de la gnration de la description")}finally{K(!1)}},C=async S=>{if(S.preventDefault(),!u){Ve.error("Vous devez tre connect pour proposer un objet");return}if(!h||!p){Ve.error("Veuillez remplir tous les champs obligatoires");return}z(!0);try{await Q5({title:h,description:p,condition:y,category:"general",image:N||"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400&h=400&fit=crop",themeId:I,userId:u.uid,userName:u.displayName||"Utilisateur",userAvatar:u.photoURL||""}),Ve.success("Objet ajout avec succs !"),m(""),v(""),_("good"),A(i&&t?t:"none"),R(""),a(),e(!1)}catch{Ve.error("Erreur lors de l'ajout de l'objet")}finally{z(!1)}};return l.jsx(Tf,{open:n,onOpenChange:e,children:l.jsxs(fu,{className:"max-w-2xl max-h-[85vh] sm:max-h-[90vh] overflow-y-auto bg-white p-4 sm:p-6",children:[l.jsxs(Sf,{className:"space-y-1 sm:space-y-2",children:[l.jsx(mu,{className:"text-xl sm:text-2xl text-gray-900",children:"Proposer un objet"}),l.jsx(pu,{className:"text-sm text-gray-600",children:"Ajoutez les dtails de l'objet que vous souhaitez changer"})]}),l.jsxs("form",{onSubmit:C,className:"space-y-3 sm:space-y-4",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx(zn,{htmlFor:"theme",className:"text-sm font-medium text-gray-900",children:"Catgorie / Thme"}),l.jsxs(Ch,{value:I,onValueChange:A,children:[l.jsx(Rh,{className:"bg-white border-gray-300 text-gray-900 h-9 sm:h-10 text-sm",children:l.jsx(Ah,{placeholder:"Choisissez un thme"})}),l.jsxs(kh,{className:"bg-white",children:[l.jsx(Lr,{value:"none",children:"Aucun thme spcifique"}),fs.map(S=>l.jsx(Lr,{value:S.id,children:S.name},S.id))]})]}),l.jsx("p",{className:"text-xs text-gray-500",children:i?`Thme "${r}" pr-slectionn, vous pouvez le modifier`:"Choisissez le thme correspondant  votre objet"})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx(zn,{htmlFor:"title",className:"text-sm font-medium text-gray-900",children:"Titre de l'objet *"}),l.jsx(ea,{id:"title",placeholder:"Ex: iPhone 12 Pro - 128GB",value:h,onChange:S=>m(S.target.value),disabled:L,className:"bg-white border-gray-300 text-gray-900 placeholder:text-gray-400 h-9 sm:h-10 text-sm"})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(zn,{htmlFor:"description",className:"text-sm font-medium text-gray-900",children:"Description *"}),l.jsxs(rt,{type:"button",variant:"outline",size:"sm",onClick:te,disabled:F||L||!h||!I||I==="none",className:"h-7 text-xs gap-1.5",children:[l.jsx(Ry,{className:"w-3.5 h-3.5"}),F?"Gnration...":"Gnrer avec l'IA"]})]}),l.jsx(If,{id:"description",placeholder:"Dcrivez votre objet en dtail...",value:p,onChange:S=>v(S.target.value),disabled:L,rows:3,className:"bg-white border-gray-300 text-gray-900 placeholder:text-gray-400 text-sm resize-none"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Vous pouvez crire vous-mme ou utiliser l'IA pour gnrer une description"})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx(zn,{htmlFor:"condition",className:"text-sm font-medium text-gray-900",children:"tat *"}),l.jsxs(Ch,{value:y,onValueChange:S=>_(S),children:[l.jsx(Rh,{className:"bg-white border-gray-300 text-gray-900 h-9 sm:h-10 text-sm",children:l.jsx(Ah,{})}),l.jsxs(kh,{className:"bg-white",children:[l.jsx(Lr,{value:"excellent",children:"Excellent - Comme neuf"}),l.jsx(Lr,{value:"good",children:"Bon - Quelques traces d'usage"}),l.jsx(Lr,{value:"fair",children:"Correct - Signes d'usure visibles"})]})]})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx(zn,{htmlFor:"image",className:"text-sm font-medium text-gray-900",children:"Photo de l'objet"}),l.jsxs("div",{className:"flex flex-col gap-2 sm:gap-3",children:[l.jsx(ea,{id:"image",type:"file",accept:"image/*",onChange:J,disabled:L,className:"bg-white border-gray-300 text-gray-900 text-sm h-9 sm:h-10"}),N?l.jsx("div",{className:"relative w-full aspect-video rounded-lg overflow-hidden bg-gray-100 border border-gray-300",children:l.jsx("img",{src:N,alt:"Aperu",className:"w-full h-full object-cover"})}):l.jsx("div",{className:"w-full aspect-video rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Cb,{className:"w-6 h-6 sm:w-8 sm:h-8 mx-auto text-gray-400 mb-1 sm:mb-2"}),l.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Ajoutez une photo"})]})})]})]}),l.jsxs("div",{className:"flex gap-2 sm:gap-3 pt-2 sm:pt-4",children:[l.jsx(rt,{type:"button",variant:"outline",className:"flex-1 h-9 sm:h-10 text-sm",onClick:()=>e(!1),disabled:L,children:"Annuler"}),l.jsx(rt,{type:"submit",className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white h-9 sm:h-10 text-sm",disabled:L,children:L?"Ajout...":"Proposer"})]})]})]})})},E6=async(n,e,t)=>{try{const r=sa(sr(Ze,"conversations"),cl("participants","array-contains",n)),a=(await Xo(r)).docs.find(h=>{const m=h.data();return m.participants.includes(e)&&m.itemId===t});return a?(console.log("Conversation existante trouve:",a.id),a.id):(console.log("Cration d'une nouvelle conversation"),(await of(sr(Ze,"conversations"),{participants:[n,e],itemId:t,lastMessage:"",lastMessageTime:Wi(),createdAt:Wi(),updatedAt:Wi()})).id)}catch(r){throw console.error("Erreur lors de la rcupration/cration de conversation:",r),r}},b6=(n,e)=>{const t=sa(sr(Ze,"conversations"),cl("participants","array-contains",n),hb("updatedAt","desc"));return pb(t,r=>{const i=r.docs.map(a=>({id:a.id,...a.data()}));e(i)})},kf=async(n,e,t,r="text",i)=>{try{const a={senderId:e,text:t,type:r,createdAt:Wi(),read:!1};i&&(a.exchangeId=i),await of(sr(Ze,"messages",n,"messages"),a),await Ws(wt(Ze,"conversations",n),{lastMessage:t,lastMessageTime:Wi(),updatedAt:Wi()}),console.log("Message envoy avec succs")}catch(a){throw console.error("Erreur lors de l'envoi du message:",a),a}},T6=(n,e)=>{const t=sa(sr(Ze,"messages",n,"messages"),hb("createdAt","asc"));return pb(t,r=>{const i=r.docs.map(a=>({id:a.id,...a.data()}));e(i)})},S6=async(n,e)=>{try{const t=sa(sr(Ze,"messages",n,"messages"),cl("senderId","!=",e),cl("read","==",!1)),i=(await Xo(t)).docs.map(a=>Ws(wt(Ze,"messages",n,"messages",a.id),{read:!0}));await Promise.all(i)}catch(t){console.error("Erreur lors du marquage des messages comme lus:",t)}},$_={Laptop:ZD,Shirt:pM,Book:VD,Sofa:yM,Bike:MD},q_={emerald:{chip:"bg-emerald-100 text-emerald-700",iconBg:"bg-emerald-100",iconText:"text-emerald-700",border:"border-emerald-200"},amber:{chip:"bg-amber-100 text-amber-700",iconBg:"bg-amber-100",iconText:"text-amber-700",border:"border-amber-200"},blue:{chip:"bg-blue-100 text-blue-700",iconBg:"bg-blue-100",iconText:"text-blue-700",border:"border-blue-200"},purple:{chip:"bg-purple-100 text-purple-700",iconBg:"bg-purple-100",iconText:"text-purple-700",border:"border-purple-200"},slate:{chip:"bg-slate-100 text-slate-700",iconBg:"bg-slate-100",iconText:"text-slate-700",border:"border-slate-200"}},I6=({setActiveTab:n})=>{const{user:e}=ri(),[t,r]=b.useState(!1),[i,a]=b.useState("hero"),[u,h]=b.useState([]),[m,p]=b.useState([]),[v,y]=b.useState(new Set),[_,I]=b.useState(!0),{theme:A,endDate:N}=Jy(),R=O3();b.useEffect(()=>{L()},[A.id]);const L=async()=>{I(!0);try{const[C,S]=await Promise.all([Y5(),X5(A.id)]);h(C),p(S)}catch{Ve.error("Erreur lors du chargement des objets")}finally{I(!1)}},z=C=>{const S=new Date(C).getTime()-new Date().getTime();return Math.max(0,Math.ceil(S/(1e3*60*60*24)))},F=async C=>{if(!e){Ve.error("Connectez-vous pour voter");return}if(v.has(C)){Ve.info("Vous avez dj vot pour cet objet");return}try{await J5(C),h(u.map(S=>S.id===C?{...S,votes:S.votes+1}:S)),p(m.map(S=>S.id===C?{...S,votes:S.votes+1}:S)),y(new Set(v).add(C)),Ve.success("Vote enregistr !")}catch{Ve.error("Erreur lors du vote")}},K=async C=>{if(!e){Ve.error("Connectez-vous pour contacter");return}if(C.userId===e.uid){Ve.error("Vous ne pouvez pas vous contacter vous-mme");return}try{await E6(e.uid,C.userId,C.id),Ve.success(`Conversation ouverte avec ${C.userName}`),n&&n("messages")}catch(S){console.error("Erreur conversation:",S),Ve.error("Erreur lors de l'ouverture de la conversation")}},J=(C="hero")=>{if(!e){Ve.error("Connectez-vous pour proposer un objet",{description:"Crez un compte ou connectez-vous pour partager vos objets"});return}a(C),r(!0)},te=$_[A.icon]||el;return _?l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-emerald-500 border-t-transparent"})}):l.jsxs("div",{className:"space-y-8 bg-gray-50",children:[l.jsxs("section",{className:"relative overflow-hidden rounded-2xl bg-emerald-600",children:[l.jsx("div",{className:"absolute -top-24 -right-24 h-64 w-64 rounded-full bg-white/10"}),l.jsx("div",{className:"absolute -bottom-24 -left-24 h-64 w-64 rounded-full bg-black/10"}),l.jsxs("div",{className:"relative p-8 md:p-12 text-white",children:[l.jsx(zi,{className:"bg-white/15 text-white border-white/20 mb-4",children:"Thme de la semaine"}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-10 items-start",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[l.jsx("div",{className:"p-3 bg-white/15 rounded-xl",children:l.jsx(te,{className:"w-8 h-8"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:A.name}),l.jsx("p",{className:"text-emerald-50",children:A.description})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-6",children:[l.jsxs(rt,{size:"lg",className:"bg-white text-emerald-700 hover:bg-emerald-50 font-medium",onClick:()=>J("hero"),children:[!e&&l.jsx(wp,{className:"w-5 h-5 mr-2"}),l.jsx(_p,{className:"w-5 h-5 mr-2"}),"Proposer un objet"]}),l.jsx(rt,{size:"lg",variant:"outline",className:"border-white/30 text-white hover:bg-white/10",onClick:()=>{const C=document.getElementById("theme-items");C&&C.scrollIntoView({behavior:"smooth"})},children:"Voir les objets"})]})]}),l.jsxs("div",{className:"bg-white/10 border border-white/15 rounded-2xl p-6",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[l.jsxs("div",{className:"rounded-xl bg-black/10 p-4",children:[l.jsx(Sb,{className:"w-5 h-5 mb-2"}),l.jsx("p",{className:"text-sm opacity-90",children:"Se termine dans"}),l.jsxs("p",{className:"text-2xl font-bold",children:[z(N)," j"]})]}),l.jsxs("div",{className:"rounded-xl bg-black/10 p-4",children:[l.jsx(Ki,{className:"w-5 h-5 mb-2"}),l.jsx("p",{className:"text-sm opacity-90",children:"Objets du thme"}),l.jsx("p",{className:"text-2xl font-bold",children:m.length})]}),l.jsxs("div",{className:"rounded-xl bg-black/10 p-4",children:[l.jsx(Gi,{className:"w-5 h-5 mb-2"}),l.jsx("p",{className:"text-sm opacity-90",children:"CO conomis"}),l.jsx("p",{className:"text-2xl font-bold",children:A.impact.co2Saved})]})]}),l.jsx("div",{className:"mt-4 text-sm text-emerald-50",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ry,{className:"w-4 h-4"}),l.jsx("span",{children:"Votez pour les meilleurs objets et contactez les propritaires."})]})})]})]})]})]}),l.jsx("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs(De,{className:"shadow-sm border border-emerald-100",children:[l.jsxs(Ge,{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Gi,{className:"w-5 h-5 text-emerald-700"}),l.jsx(Ke,{children:"Impact cologique de ce thme"})]}),l.jsx(kc,{className:"text-gray-600",children:A.impact.description})]}),l.jsxs(Le,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-xl",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 flex items-center justify-center",children:l.jsx(Gi,{className:"w-6 h-6 text-emerald-700"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"CO conomis"}),l.jsx("p",{className:"text-lg font-semibold text-gray-900",children:A.impact.co2Saved})]})]}),l.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-xl",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-amber-100 flex items-center justify-center",children:l.jsx(Ki,{className:"w-6 h-6 text-amber-700"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Dchets rduits"}),l.jsx("p",{className:"text-lg font-semibold text-gray-900",children:A.impact.wasteReduced})]})]})]})]})}),l.jsx("section",{id:"theme-items",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs(CS,{defaultValue:"theme",className:"w-full",children:[l.jsxs(AS,{className:"grid w-full grid-cols-3 h-auto bg-white border shadow-sm",children:[l.jsxs(Vi,{value:"theme",className:"text-xs sm:text-sm px-2 py-3",children:[l.jsx("span",{className:"hidden sm:inline",children:"Thme actuel"}),l.jsx("span",{className:"sm:hidden",children:"Thme"}),l.jsxs("span",{className:"ml-1",children:["(",m.length,")"]})]}),l.jsxs(Vi,{value:"all",className:"text-xs sm:text-sm px-2 py-3",children:[l.jsx("span",{className:"hidden sm:inline",children:"Tous les objets"}),l.jsx("span",{className:"sm:hidden",children:"Tous"}),l.jsxs("span",{className:"ml-1",children:["(",u.length,")"]})]}),l.jsx(Vi,{value:"popular",className:"text-xs sm:text-sm px-2 py-3",children:"Populaires"})]}),l.jsxs(Pc,{value:"theme",className:"mt-6",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(C=>l.jsx(Op,{item:C,onVote:F,onContact:K},C.id))}),m.length===0&&l.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl border shadow-sm",children:[l.jsx("p",{className:"text-gray-600 mb-4",children:"Aucun objet propos pour ce thme."}),l.jsxs(rt,{className:"bg-emerald-600 hover:bg-emerald-700",onClick:()=>J("empty"),children:[!e&&l.jsx(wp,{className:"w-4 h-4 mr-2"}),l.jsx(_p,{className:"w-4 h-4 mr-2"}),"Soyez le premier  proposer un objet"]})]})]}),l.jsxs(Pc,{value:"all",className:"mt-6",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(C=>l.jsx(Op,{item:C,onVote:F,onContact:K},C.id))}),u.length===0&&l.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl border shadow-sm",children:[l.jsx("p",{className:"text-gray-600 mb-4",children:"Aucun objet disponible."}),l.jsxs(rt,{className:"bg-emerald-600 hover:bg-emerald-700",onClick:()=>J("empty"),children:[!e&&l.jsx(wp,{className:"w-4 h-4 mr-2"}),l.jsx(_p,{className:"w-4 h-4 mr-2"}),"Proposer un objet"]})]})]}),l.jsx(Pc,{value:"popular",className:"mt-6",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...u].sort((C,S)=>S.votes-C.votes).slice(0,6).map(C=>l.jsx(Op,{item:C,onVote:F,onContact:K},C.id))})})]})}),l.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:[l.jsxs("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6 flex items-center gap-2",children:[l.jsx(el,{className:"w-5 h-5 sm:w-6 sm:h-6 text-emerald-600"}),"Thmes  venir"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:R.slice(0,3).map(({theme:C,startDate:S})=>{const P=$_[C.icon]||el,O=C.color||"slate",D=q_[O]||q_.slate;return l.jsx(De,{className:`hover:shadow-md transition-shadow border ${D.border}`,children:l.jsxs(Ge,{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`p-2 rounded-lg ${D.iconBg}`,children:l.jsx(P,{className:`w-5 h-5 ${D.iconText}`})}),l.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${D.chip}`,children:new Date(S).toLocaleDateString("fr-FR",{day:"numeric",month:"short"})})]}),l.jsxs("div",{children:[l.jsx(Ke,{className:"text-lg sm:text-xl",children:C.name}),l.jsx(kc,{className:"mt-2",children:C.description})]})]})},C.id)})})]}),l.jsx(_6,{open:t,onOpenChange:r,themeId:A.id,themeName:A.name,preselectTheme:i==="hero",onItemAdded:L})]})},N6=({open:n,onOpenChange:e,item:t,onSuccess:r})=>{const[i,a]=b.useState(""),[u,h]=b.useState(""),[m,p]=b.useState("good"),[v,y]=b.useState(""),[_,I]=b.useState(!1);b.useEffect(()=>{n&&t&&(a(t.title),h(t.description),p(t.condition),y(t.image))},[n,t]);const A=R=>{var z;const L=(z=R.target.files)==null?void 0:z[0];if(L){const F=new FileReader;F.onloadend=()=>{y(F.result)},F.readAsDataURL(L)}},N=async R=>{if(R.preventDefault(),!i.trim()||!u.trim()){Ve.error("Veuillez remplir tous les champs");return}I(!0);try{await Ws(wt(Ze,"items",t.id),{title:i.trim(),description:u.trim(),condition:m,image:v}),Ve.success("Objet modifi avec succs !"),r(),e(!1)}catch(L){console.error("Erreur modification:",L),Ve.error("Erreur lors de la modification")}finally{I(!1)}};return l.jsx(Tf,{open:n,onOpenChange:e,children:l.jsxs(fu,{className:"max-w-2xl max-h-[85vh] overflow-y-auto bg-white",children:[l.jsxs(Sf,{children:[l.jsx(mu,{className:"text-2xl font-bold",children:"Modifier l'objet"}),l.jsx(pu,{children:"Modifiez les informations de votre objet"})]}),l.jsxs("form",{onSubmit:N,className:"space-y-4 mt-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(zn,{htmlFor:"title",children:"Titre *"}),l.jsx(ea,{id:"title",placeholder:"Ex: iPhone 12 Pro - 128GB",value:i,onChange:R=>a(R.target.value),disabled:_})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(zn,{htmlFor:"description",children:"Description *"}),l.jsx(If,{id:"description",placeholder:"Dcrivez votre objet en dtail...",value:u,onChange:R=>h(R.target.value),disabled:_,rows:4})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(zn,{htmlFor:"condition",children:"tat *"}),l.jsxs(Ch,{value:m,onValueChange:R=>p(R),children:[l.jsx(Rh,{children:l.jsx(Ah,{})}),l.jsxs(kh,{children:[l.jsx(Lr,{value:"excellent",children:"Excellent - Comme neuf"}),l.jsx(Lr,{value:"good",children:"Bon - Quelques traces d'usage"}),l.jsx(Lr,{value:"fair",children:"Correct - Signes d'usure visibles"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(zn,{htmlFor:"image",children:"Photo"}),v&&l.jsxs("div",{className:"relative w-full aspect-video rounded-lg overflow-hidden border-2 border-emerald-200 mb-2",children:[l.jsx("img",{src:v,alt:"Aperu",className:"w-full h-full object-cover"}),l.jsx(rt,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:()=>y(""),children:l.jsx(cu,{className:"w-4 h-4"})})]}),l.jsx(ea,{id:"image",type:"file",accept:"image/*",onChange:A,disabled:_})]}),l.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[l.jsx(rt,{type:"button",variant:"outline",className:"flex-1",onClick:()=>e(!1),disabled:_,children:"Annuler"}),l.jsx(rt,{type:"submit",className:"flex-1 bg-emerald-600 hover:bg-emerald-700",disabled:_,children:_?"Modification...":"Enregistrer les modifications"})]})]})]})})},C6=({setActiveTab:n})=>{var z;const{user:e,logout:t}=ri(),[r,i]=b.useState([]),[a,u]=b.useState(!0),[h,m]=b.useState(null),[p,v]=b.useState(!1);b.useEffect(()=>{e!=null&&e.uid&&y()},[e]);const y=async()=>{if(e!=null&&e.uid)try{u(!0);const F=sa(sr(Ze,"items"),cl("userId","==",e.uid)),J=(await Xo(F)).docs.map(te=>({id:te.id,...te.data()}));J.sort((te,C)=>new Date(C.createdAt).getTime()-new Date(te.createdAt).getTime()),i(J)}catch(F){console.error("Erreur chargement objets:",F),Ve.error("Erreur lors du chargement de vos objets")}finally{u(!1)}},_=async(F,K)=>{if(confirm(`tes-vous sr de vouloir supprimer "${K}" ?`))try{await Wj(wt(Ze,"items",F)),Ve.success("Objet supprim avec succs"),y()}catch(J){console.error("Erreur suppression:",J),Ve.error("Erreur lors de la suppression")}},I=F=>{m(F),v(!0)},A=()=>{y()};if(!e)return l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsx("p",{className:"text-gray-500",children:"Connectez-vous pour voir votre profil"})});const N=async()=>{try{await t(),Ve.success("Dconnexion russie"),n("home")}catch{Ve.error("Erreur lors de la dconnexion")}},R=new Date(e.joinedDate).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),L={excellent:"Excellent",good:"Bon",fair:"Correct"};return l.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[l.jsx("div",{className:"bg-white rounded-xl shadow-sm p-8",children:l.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6",children:[l.jsxs(yh,{className:"w-24 h-24",children:[l.jsx(vh,{src:e.photoURL,alt:e.displayName}),l.jsx(xh,{className:"bg-emerald-500 text-white text-3xl",children:((z=e.displayName)==null?void 0:z.charAt(0).toUpperCase())||"U"})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:e.displayName}),l.jsxs("div",{className:"flex flex-wrap gap-4 text-gray-600",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(iM,{className:"w-4 h-4"}),l.jsx("span",{children:e.email})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(el,{className:"w-4 h-4"}),l.jsxs("span",{children:["Membre depuis ",R]})]})]})]}),l.jsxs(rt,{onClick:N,variant:"outline",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[l.jsx(Ib,{className:"w-4 h-4 mr-2"}),"Se dconnecter"]})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-lg flex items-center justify-center",children:l.jsx(Ui,{className:"w-6 h-6 text-emerald-600"})})}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:e.exchangedItems||0}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Objets changs"})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx(Ki,{className:"w-6 h-6 text-blue-600"})})}),l.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:[e.co2Saved||0," kg"]}),l.jsx("p",{className:"text-gray-600 text-sm",children:"CO conomis"})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:l.jsx(EM,{className:"w-6 h-6 text-purple-600"})})}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:r.length}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Objets publis"})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-emerald-100 rounded-lg flex items-center justify-center",children:l.jsx(Ui,{className:"w-6 h-6 text-emerald-600"})}),l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Mes objets"})]}),l.jsxs(rt,{onClick:()=>n("themes"),className:"bg-emerald-600 hover:bg-emerald-700",children:[l.jsx(Ui,{className:"w-4 h-4 mr-2"}),"Ajouter un objet"]})]}),a?l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-gray-500",children:"Chargement..."})}):r.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Ui,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Vous n'avez pas encore d'objets"}),l.jsx(rt,{onClick:()=>n("themes"),className:"bg-emerald-600 hover:bg-emerald-700",children:"Ajouter mon premier objet"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(F=>l.jsx(De,{className:`${F.status==="exchanged"?"opacity-75":""}`,children:l.jsx(Le,{className:"p-4",children:l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{className:"relative w-24 h-24 flex-shrink-0",children:[l.jsx("img",{src:F.image,alt:F.title,className:"w-full h-full object-cover rounded-lg"}),F.status==="exchanged"&&l.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center rounded-lg",children:l.jsx(Tb,{className:"w-8 h-8 text-emerald-400"})})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[l.jsx("h3",{className:"font-semibold truncate",children:F.title}),F.status==="exchanged"?l.jsx(zi,{className:"bg-emerald-100 text-emerald-800 flex-shrink-0",children:"chang"}):l.jsx(zi,{className:"bg-blue-100 text-blue-800 flex-shrink-0",children:L[F.condition]})]}),l.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:F.description}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(rt,{size:"sm",variant:"outline",className:"flex-1",disabled:F.status==="exchanged",onClick:()=>I(F),children:[l.jsx(wM,{className:"w-3 h-3 mr-1"}),"Modifier"]}),l.jsx(rt,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>_(F.id,F.title),children:l.jsx(SM,{className:"w-3 h-3"})})]})]})]})})},F.id))})]}),l.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 rounded-xl shadow-sm p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"w-10 h-10 bg-emerald-500 rounded-lg flex items-center justify-center",children:l.jsx(Gi,{className:"w-6 h-6 text-white"})}),l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Votre impact cologique"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"CO conomis"}),l.jsxs("p",{className:"text-2xl font-bold text-emerald-600",children:[e.co2Saved||0," kg"]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Objets sauvs"}),l.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:e.exchangedItems||0})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Dchets vits"}),l.jsxs("p",{className:"text-2xl font-bold text-emerald-600",children:[((e.exchangedItems||0)*1.2).toFixed(1)," kg"]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:l.jsx(jD,{className:"w-6 h-6 text-purple-600"})}),l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Badges et ralisations"})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:`text-center p-4 rounded-lg border-2 ${(e.exchangedItems||0)>=1?"border-emerald-500 bg-emerald-50":"border-gray-200 bg-gray-50 opacity-50"}`,children:[l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("p",{className:"text-sm font-medium",children:"Premier change"})]}),l.jsxs("div",{className:`text-center p-4 rounded-lg border-2 ${(e.exchangedItems||0)>=10?"border-emerald-500 bg-emerald-50":"border-gray-200 bg-gray-50 opacity-50"}`,children:[l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("p",{className:"text-sm font-medium",children:"co-warrior"}),l.jsx("p",{className:"text-xs text-gray-500",children:"10 changes"})]}),l.jsxs("div",{className:`text-center p-4 rounded-lg border-2 ${(e.exchangedItems||0)>=50?"border-emerald-500 bg-emerald-50":"border-gray-200 bg-gray-50 opacity-50"}`,children:[l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("p",{className:"text-sm font-medium",children:"Ambassadeur"}),l.jsx("p",{className:"text-xs text-gray-500",children:"50 changes"})]}),l.jsxs("div",{className:`text-center p-4 rounded-lg border-2 ${(e.exchangedItems||0)>=100?"border-emerald-500 bg-emerald-50":"border-gray-200 bg-gray-50 opacity-50"}`,children:[l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("p",{className:"text-sm font-medium",children:"Lgende"}),l.jsx("p",{className:"text-xs text-gray-500",children:"100 changes"})]})]})]}),h&&l.jsx(N6,{open:p,onOpenChange:v,item:h,onSuccess:A})]})},A6=async(n,e,t,r,i)=>{try{const a=await wr(wt(Ze,"items",i));if(!a.exists())throw new Error("L'objet demand n'existe pas");const u={id:a.id,...a.data()},h=await of(sr(Ze,"exchanges"),{proposerUserId:e,recipientUserId:t,proposedItem:r,requestedItemId:i,conversationId:n,status:"pending",createdAt:Wi()});return await kf(n,e,` Proposition d'change : ${r.title} contre ${u.title}`,"exchange_proposal",h.id),console.log("Proposition d'change cre:",h.id),h.id}catch(a){throw console.error("Erreur lors de la cration de la proposition:",a),a}},R6=async n=>{try{const e=await wr(wt(Ze,"exchanges",n));if(!e.exists())throw new Error("change introuvable");const t=e.data();await Ws(wt(Ze,"exchanges",n),{status:"accepted",acceptedAt:Wi()}),await Ws(wt(Ze,"items",t.requestedItemId),{status:"exchanged",exchangeId:n}),await Ws(wt(Ze,"users",t.proposerUserId),{exchangedItems:_c(1),co2Saved:_c(15)}),await Ws(wt(Ze,"users",t.recipientUserId),{exchangedItems:_c(1),co2Saved:_c(15)}),await kf(t.conversationId,t.recipientUserId," change accept ! L'objet a t marqu comme chang.","exchange_accepted",n),console.log("change accept avec succs")}catch(e){throw console.error("Erreur lors de l'acceptation de l'change:",e),e}},k6=async(n,e)=>{try{const t=await wr(wt(Ze,"exchanges",n));if(!t.exists())throw new Error("change introuvable");const r=t.data();await Ws(wt(Ze,"exchanges",n),{status:"refused",refuseReason:e||"Aucune raison fournie"});const i=e?` change refus. Raison : ${e}`:" change refus.";await kf(r.conversationId,r.recipientUserId,i,"exchange_refused",n),console.log("change refus")}catch(t){throw console.error("Erreur lors du refus de l'change:",t),t}},P6=async n=>{try{const e=await wr(wt(Ze,"exchanges",n));return e.exists()?{id:e.id,...e.data()}:null}catch(e){return console.error("Erreur lors de la rcupration des dtails de l'change:",e),null}},j6=({open:n,onOpenChange:e,onSubmit:t,itemTitle:r})=>{const[i,a]=b.useState(""),[u,h]=b.useState(""),[m,p]=b.useState("good"),[v,y]=b.useState(""),[_,I]=b.useState(!1),[A,N]=b.useState(!1),R=F=>{var J;const K=(J=F.target.files)==null?void 0:J[0];if(K){const te=new FileReader;te.onloadend=()=>{y(te.result)},te.readAsDataURL(K)}},L=async()=>{if(!i){Ve.error("Veuillez d'abord remplir le titre de l'objet");return}N(!0);try{const F=await bI({title:i,theme:"change",condition:m});h(F),Ve.success("Description gnre avec succs !")}catch(F){console.error("Erreur gnration IA:",F),Ve.error("Erreur lors de la gnration de la description")}finally{N(!1)}},z=async F=>{if(F.preventDefault(),!i||!u||!v){Ve.error("Veuillez remplir tous les champs et ajouter une photo");return}I(!0);try{await t({title:i,description:u,condition:m,image:v}),a(""),h(""),p("good"),y(""),e(!1),Ve.success("Proposition envoye !")}catch(K){console.error("Erreur:",K),Ve.error("Erreur lors de l'envoi de la proposition")}finally{I(!1)}};return l.jsx(Tf,{open:n,onOpenChange:e,children:l.jsxs(fu,{className:"max-w-2xl max-h-[85vh] overflow-y-auto bg-white",children:[l.jsxs(Sf,{children:[l.jsx(mu,{className:"text-2xl font-bold",children:"Proposer un change"}),l.jsxs(pu,{children:["Dcrivez l'objet que vous proposez en change de ",l.jsx("strong",{className:"text-emerald-600",children:r})]})]}),l.jsxs("form",{onSubmit:z,className:"space-y-4 mt-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(zn,{htmlFor:"title",children:"Titre de votre objet *"}),l.jsx(ea,{id:"title",placeholder:"Ex: iPhone 12 Pro - 128GB",value:i,onChange:F=>a(F.target.value),disabled:_})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(zn,{htmlFor:"description",children:"Description *"}),l.jsxs(rt,{type:"button",variant:"outline",size:"sm",onClick:L,disabled:A||_||!i,className:"h-8 text-xs gap-1.5",children:[l.jsx(Ry,{className:"w-3.5 h-3.5"}),A?"Gnration...":"Gnrer avec l'IA"]})]}),l.jsx(If,{id:"description",placeholder:"Dcrivez votre objet en dtail...",value:u,onChange:F=>h(F.target.value),disabled:_,rows:4}),l.jsx("p",{className:"text-xs text-gray-500",children:"Vous pouvez crire vous-mme ou utiliser l'IA pour gnrer une description"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(zn,{htmlFor:"condition",children:"tat *"}),l.jsxs(Ch,{value:m,onValueChange:F=>p(F),children:[l.jsx(Rh,{children:l.jsx(Ah,{})}),l.jsxs(kh,{children:[l.jsx(Lr,{value:"excellent",children:"Excellent - Comme neuf"}),l.jsx(Lr,{value:"good",children:"Bon - Quelques traces d'usage"}),l.jsx(Lr,{value:"fair",children:"Correct - Signes d'usure visibles"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(zn,{htmlFor:"image",children:"Photo de votre objet *"}),l.jsx(ea,{id:"image",type:"file",accept:"image/*",onChange:R,disabled:_}),v?l.jsx("div",{className:"relative w-full aspect-video rounded-lg overflow-hidden border-2 border-emerald-200",children:l.jsx("img",{src:v,alt:"Aperu",className:"w-full h-full object-cover"})}):l.jsx("div",{className:"w-full aspect-video rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Cb,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Ajoutez une photo"})]})})]}),l.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[l.jsx(rt,{type:"button",variant:"outline",className:"flex-1",onClick:()=>e(!1),disabled:_,children:"Annuler"}),l.jsx(rt,{type:"submit",className:"flex-1 bg-emerald-600 hover:bg-emerald-700",disabled:_,children:_?"Envoi...":"Envoyer la proposition"})]})]})]})})},D6=({proposedItem:n,requestedItem:e,proposerName:t,status:r,refusalReason:i,isReceiver:a,onAccept:u,onRefuse:h})=>{const[m,p]=b.useState(!1),[v,y]=b.useState(""),_=()=>{h&&h(v),p(!1),y("")},I={excellent:"Excellent",good:"Bon",fair:"Correct"};return l.jsxs(l.Fragment,{children:[l.jsx(De,{className:"border-2 border-emerald-200 bg-gradient-to-br from-emerald-50 to-white shadow-lg",children:l.jsxs(Le,{className:"p-4 space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-10 h-10 bg-emerald-500 rounded-full flex items-center justify-center",children:l.jsx(dg,{className:"w-5 h-5 text-white"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-bold text-emerald-900",children:"Proposition d'change"}),l.jsxs("p",{className:"text-sm text-emerald-700",children:[t," propose un change"]})]}),r==="pending"&&l.jsx(zi,{className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:"En attente"}),r==="accepted"&&l.jsx(zi,{className:"bg-green-100 text-green-800 border-green-300",children:" Accept"}),r==="refused"&&l.jsx(zi,{className:"bg-red-100 text-red-800 border-red-300",children:" Refus"})]}),l.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] gap-4 items-center",children:[l.jsxs("div",{className:"bg-white rounded-lg p-3 border-2 border-emerald-300",children:[l.jsx("img",{src:n.image,alt:n.title,className:"w-full h-32 object-cover rounded-lg mb-2"}),l.jsx("h4",{className:"font-semibold text-sm truncate",children:n.title}),l.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 mb-1",children:n.description}),l.jsx(zi,{variant:"outline",className:"text-xs",children:I[n.condition]})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(dg,{className:"w-8 h-8 text-emerald-600"}),l.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"contre"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-3 border-2 border-blue-300",children:[e.image&&l.jsx("img",{src:e.image,alt:e.title,className:"w-full h-32 object-cover rounded-lg mb-2"}),l.jsx("h4",{className:"font-semibold text-sm truncate",children:e.title})]})]}),r==="refused"&&i&&l.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-3 rounded",children:l.jsxs("p",{className:"text-sm text-red-900",children:[l.jsx("strong",{children:"Raison du refus :"})," ",i]})}),a&&r==="pending"&&u&&h&&l.jsxs("div",{className:"flex gap-3 pt-2",children:[l.jsxs(rt,{onClick:()=>p(!0),variant:"outline",className:"flex-1 border-red-300 text-red-600 hover:bg-red-50",children:[l.jsx(cu,{className:"w-4 h-4 mr-2"}),"Refuser"]}),l.jsxs(rt,{onClick:u,className:"flex-1 bg-emerald-600 hover:bg-emerald-700",children:[l.jsx(Eb,{className:"w-4 h-4 mr-2"}),"Accepter l'change"]})]})]})}),l.jsx(Tf,{open:m,onOpenChange:p,children:l.jsxs(fu,{className:"bg-white",children:[l.jsxs(Sf,{children:[l.jsx(mu,{className:"text-xl font-bold text-gray-900",children:"Refuser la proposition"}),l.jsx(pu,{className:"text-gray-600 text-base",children:"Vous pouvez expliquer pourquoi vous refusez cet change (optionnel)"})]}),l.jsxs("div",{className:"space-y-4 mt-4",children:[l.jsxs("div",{children:[l.jsx(zn,{htmlFor:"reason",className:"text-gray-900 font-semibold text-base mb-2 block",children:"Raison du refus (optionnel)"}),l.jsx(If,{id:"reason",placeholder:"Ex: Je cherche un objet en meilleur tat...",value:v,onChange:A=>y(A.target.value),rows:3,className:"mt-2 bg-gray-50 border-gray-300 text-gray-900 placeholder:text-gray-500"})]}),l.jsxs("div",{className:"flex gap-3 pt-2",children:[l.jsx(rt,{variant:"outline",onClick:()=>p(!1),className:"flex-1 border-gray-300 text-gray-700 hover:bg-gray-100",children:"Annuler"}),l.jsx(rt,{onClick:_,className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-semibold",children:"Confirmer le refus"})]})]})]})})]})},M6=({conversationId:n,onBack:e})=>{const{user:t}=ri(),[r,i]=b.useState([]),[a,u]=b.useState(""),[h,m]=b.useState(!0),[p,v]=b.useState(!1),[y,_]=b.useState(""),[I,A]=b.useState("Utilisateur"),[N,R]=b.useState(),[L,z]=b.useState(""),[F,K]=b.useState("Objet"),[J,te]=b.useState(),[C,S]=b.useState(""),[P,O]=b.useState("available"),[D,U]=b.useState(!1),[j,ve]=b.useState({}),[be,ie]=b.useState(!1),ye=b.useRef(null),q=()=>{var de;(de=ye.current)==null||de.scrollIntoView({behavior:"smooth"})};b.useEffect(()=>{if(!t)return;(async()=>{var ee;try{const ge=await wr(wt(Ze,"conversations",n));if(ge.exists()){const we=ge.data(),Ae=we.participants.find(Se=>Se!==t.uid);if(_(Ae||""),z(we.itemId),Ae){const Se=await wr(wt(Ze,"users",Ae));if(Se.exists()){const dt=Se.data();A(dt.displayName||"Utilisateur"),R(dt.photoURL)}}const $e=await wr(wt(Ze,"items",we.itemId));if($e.exists()){const Se=$e.data();K(Se.title||"Objet"),te((ee=Se.images)==null?void 0:ee[0]),S(Se.userId||""),O(Se.status||"available")}}}catch(ge){console.error("Erreur chargement infos conversation:",ge)}})();const ue=T6(n,async ee=>{i(ee),m(!1),q();const ge=ee.filter(Se=>{var dt;return((dt=Se.type)==null?void 0:dt.includes("exchange"))&&Se.exchangeId}).map(Se=>P6(Se.exchangeId)),we=await Promise.all(ge),Ae={};we.forEach(Se=>{Se&&(Ae[Se.id]=Se)}),ve(Ae);const $e=we.some(Se=>Se&&Se.status==="pending");ie($e)});return t!=null&&t.uid&&S6(n,t.uid),()=>ue()},[n,t]),b.useEffect(()=>{q()},[r]);const Z=async()=>{if(!(!a.trim()||!(t!=null&&t.uid)||p)){v(!0);try{await kf(n,t.uid,a.trim()),u("")}catch(de){console.error("Erreur envoi message:",de),Ve.error("Erreur lors de l'envoi du message")}finally{v(!1)}}},se=de=>{de.key==="Enter"&&!de.shiftKey&&(de.preventDefault(),Z())},V=async de=>{if(!t||!y||!L){Ve.error("Erreur lors de la proposition");return}try{await A6(n,t.uid,y,de,L),Ve.success("Proposition envoye !")}catch(ue){throw console.error("Erreur proposition change:",ue),Ve.error("Erreur lors de l'envoi de la proposition"),ue}},Q=async de=>{try{await R6(de),Ve.success(" change accept !")}catch(ue){console.error("Erreur acceptation change:",ue),Ve.error("Erreur lors de l'acceptation")}},ce=async(de,ue)=>{try{await k6(de,ue),Ve.info("change refus")}catch(ee){console.error("Erreur refus change:",ee),Ve.error("Erreur lors du refus")}},me=de=>de?(de.toDate?de.toDate():new Date(de)).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}):"";return l.jsxs("div",{className:"flex flex-col h-[calc(100vh-200px)] max-w-4xl mx-auto",children:[l.jsx(De,{className:"mb-4",children:l.jsx(Le,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(rt,{variant:"ghost",size:"icon",onClick:e,className:"flex-shrink-0",children:l.jsx(RD,{className:"w-5 h-5"})}),l.jsx("div",{className:"flex-shrink-0",children:N?l.jsx("img",{src:N,alt:I,className:"w-12 h-12 rounded-full object-cover"}):l.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 flex items-center justify-center",children:l.jsx(Ab,{className:"w-6 h-6 text-emerald-600"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h2",{className:"font-semibold text-lg truncate",children:I}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[l.jsx(Ui,{className:"w-4 h-4"}),l.jsx("span",{className:"truncate",children:F})]})]}),J&&l.jsx("img",{src:J,alt:F,className:"w-12 h-12 rounded-lg object-cover flex-shrink-0"})]})})}),l.jsxs(De,{className:"flex-1 flex flex-col overflow-hidden",children:[l.jsx(Le,{className:"flex-1 overflow-y-auto p-4",children:h?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("p",{className:"text-gray-500",children:"Chargement..."})}):r.length===0?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center text-gray-500",children:[l.jsx(s_,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"}),l.jsx("p",{children:"Aucun message"}),l.jsx("p",{className:"text-sm",children:"Commencez la conversation"})]})}):l.jsxs("div",{className:"space-y-4",children:[r.map(de=>{const ue=de.senderId===((t==null?void 0:t.uid)||"");if(de.type==="exchange_proposal"&&de.exchangeId){const ee=j[de.exchangeId];if(ee)return l.jsx("div",{className:"my-4",children:l.jsx(D6,{proposedItem:ee.proposedItem,requestedItem:{title:F,image:J},proposerName:ue?"Vous":I,status:ee.status,refusalReason:ee.refuseReason,isReceiver:!ue,onAccept:!ue&&ee.status==="pending"?()=>Q(ee.id):void 0,onRefuse:!ue&&ee.status==="pending"?ge=>ce(ee.id,ge):void 0})},de.id)}return l.jsx("div",{className:`flex ${ue?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 ${ue?"bg-emerald-500 text-white":"bg-gray-100 text-gray-900"}`,children:[l.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:de.text}),l.jsx("p",{className:`text-xs mt-1 ${ue?"text-emerald-100":"text-gray-500"}`,children:me(de.createdAt)})]})},de.id)}),l.jsx("div",{ref:ye})]})}),l.jsxs("div",{className:"border-t p-4 space-y-3",children:[P!=="exchanged"&&(t==null?void 0:t.uid)!==C&&l.jsxs(rt,{onClick:()=>U(!0),variant:"outline",className:"w-full border-emerald-600 text-emerald-600 hover:bg-emerald-50 disabled:opacity-50 disabled:cursor-not-allowed",disabled:be,children:[l.jsx(dg,{className:"w-4 h-4 mr-2"}),be?"Proposition en attente...":"Proposer un change"]}),P==="exchanged"&&l.jsx("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-3 text-center",children:l.jsx("p",{className:"text-sm text-emerald-700 font-medium",children:" Cet objet a dj t chang"})}),(t==null?void 0:t.uid)===C&&P!=="exchanged"&&l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-center",children:l.jsx("p",{className:"text-sm text-blue-700 font-medium",children:" Ceci est votre objet"})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ea,{placeholder:"crivez votre message...",value:a,onChange:de=>u(de.target.value),onKeyPress:se,disabled:p,className:"flex-1"}),l.jsx(rt,{onClick:Z,disabled:!a.trim()||p,className:"bg-emerald-600 hover:bg-emerald-700",children:l.jsx(s_,{className:"w-4 h-4"})})]}),l.jsx("p",{className:"text-xs text-gray-500",children:" Appuyez sur Entre pour envoyer"})]})]}),l.jsx(j6,{open:D,onOpenChange:U,onSubmit:V,itemTitle:F})]})},O6=()=>{const{user:n}=ri(),[e,t]=b.useState([]),[r,i]=b.useState(!0),[a,u]=b.useState(null);b.useEffect(()=>{if(!n||!n.uid){i(!1);return}const m=b6(n.uid,async p=>{const v=await Promise.all(p.map(async y=>{var _;try{const I=y.participants.find(K=>K!==n.uid);if(!I)return y;const A=await wr(wt(Ze,"users",I)),N=A.exists()?A.data():{},R=N.displayName||N.name||"Utilisateur",L=N.photoURL||N.avatar,z=await wr(wt(Ze,"items",y.itemId)),F=z.exists()?z.data():{};return{...y,otherUserName:R,otherUserPhoto:L,itemTitle:F.title||"Objet",itemImage:(_=F.images)==null?void 0:_[0]}}catch(I){return console.error("Erreur lors de l'enrichissement:",I),y}}));t(v),i(!1)});return()=>m()},[n]);const h=m=>{if(!m)return"";const p=m.toDate?m.toDate():new Date(m),y=new Date().getTime()-p.getTime(),_=Math.floor(y/6e4),I=Math.floor(y/36e5),A=Math.floor(y/864e5);return _<1?" l'instant":_<60?`Il y a ${_} min`:I<24?`Il y a ${I}h`:A===1?"Hier":A<7?`Il y a ${A} jours`:p.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})};return n?a?l.jsx(M6,{conversationId:a,onBack:()=>u(null)}):r?l.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Rc,{className:"w-12 h-12 text-gray-400 mx-auto mb-4 animate-pulse"}),l.jsx("p",{className:"text-gray-500",children:"Chargement des conversations..."})]})}):e.length===0?l.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:l.jsx(De,{children:l.jsxs(Le,{className:"flex flex-col items-center justify-center py-16",children:[l.jsx(Rc,{className:"w-16 h-16 text-gray-300 mb-4"}),l.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Aucune conversation"}),l.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Commencez  changer en contactant des utilisateurs depuis leurs objets"})]})})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Messages"}),l.jsxs("p",{className:"text-gray-600",children:[e.length," conversation",e.length>1?"s":""]})]}),l.jsx("div",{className:"space-y-3",children:e.map(m=>{var p;return l.jsx(De,{className:"cursor-pointer hover:shadow-lg transition-all border-2 hover:border-emerald-200",onClick:()=>u(m.id),children:l.jsx(Le,{className:"p-4",children:l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"flex-shrink-0",children:m.otherUserPhoto?l.jsx("img",{src:m.otherUserPhoto,alt:m.otherUserName,className:"w-14 h-14 rounded-full object-cover"}):l.jsx("div",{className:"w-14 h-14 rounded-full bg-emerald-100 flex items-center justify-center",children:l.jsx("span",{className:"text-emerald-600 font-semibold text-lg",children:((p=m.otherUserName)==null?void 0:p.charAt(0).toUpperCase())||"U"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-start justify-between mb-1",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold text-lg truncate",children:m.otherUserName}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mt-1",children:[l.jsx(Ui,{className:"w-4 h-4"}),l.jsx("span",{className:"truncate",children:m.itemTitle})]})]}),l.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap ml-2",children:h(m.lastMessageTime)})]}),m.lastMessage&&l.jsx("p",{className:"text-sm text-gray-600 truncate mt-2",children:m.lastMessage})]}),m.itemImage&&l.jsx("div",{className:"flex-shrink-0",children:l.jsx("img",{src:m.itemImage,alt:m.itemTitle,className:"w-16 h-16 rounded-lg object-cover"})})]})})},m.id)})})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Rc,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Connectez-vous"}),l.jsx("p",{className:"text-gray-600",children:"Pour voir vos messages"})]})},L6=()=>{const n=[{id:1,title:"L'impact environnemental du numrique",description:"Dcouvrez pourquoi l'change d'appareils lectroniques est crucial pour notre plante",image:"https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=400&h=300&fit=crop",category:"environment",readTime:"5 min",url:"https://agirpourlatransition.ademe.fr/particuliers/bureau/numerique"},{id:2,title:"Comment rparer plutt que jeter",description:"Guide pratique pour donner une seconde vie  vos objets",image:"https://images.unsplash.com/photo-1581092918056-0c4c3acd3789?w=400&h=300&fit=crop",category:"repair",readTime:"8 min",url:"https://longuevieauxobjets.gouv.fr/"},{id:3,title:"Les principes de l'conomie circulaire",description:"Comprendre le modle conomique de demain",image:"https://images.unsplash.com/photo-1532996122724-e3c354a0b15b?w=400&h=300&fit=crop",category:"environment",readTime:"6 min",url:"https://economie-circulaire.ademe.fr/economie-circulaire"},{id:4,title:"L'impact de la fast fashion",description:"Pourquoi l'change de vtements est essentiel pour la plante",image:"https://images.unsplash.com/photo-1445205170230-053b83016050?w=400&h=300&fit=crop",category:"environment",readTime:"7 min",url:"https://agirpourlatransition.ademe.fr/particuliers/maison/dechets/fabriquer-vos-habits-durent"},{id:5,title:"Guide d'entretien des appareils",description:"Conseils pour prolonger la dure de vie de vos appareils",image:"https://images.unsplash.com/photo-1581092918056-0c4c3acd3789?w=400&h=300&fit=crop",category:"tips",readTime:"10 min",url:"https://longuevieauxobjets.gouv.fr/entretenir"},{id:6,title:"Les dchets lectroniques dans le monde",description:"Les chiffres qui font rflchir sur notre consommation",image:"https://images.unsplash.com/photo-1532996122724-e3c354a0b15b?w=400&h=300&fit=crop",category:"stats",readTime:"4 min",url:"https://librairie.ademe.fr/dechets-economie-circulaire/5226-evaluation-de-l-impact-environnemental-du-numerique-en-france-et-analyse-prospective.html"}],e=[{value:"59M tonnes",label:"Dchets lectroniques mondiaux",description:"Gnrs chaque anne dans le monde",source:"Global E-waste Monitor 2024"},{value:"10%",label:"missions de la mode",description:"Des missions mondiales de CO",source:"Ellen MacArthur Foundation"},{value:"17%",label:"Taux de recyclage",description:"Des dchets lectroniques recycls",source:"Global E-waste Monitor"},{value:"700Mds",label:"conomie potentielle",description:"Par an avec l'conomie circulaire",source:"Commission Europenne"},{value:"2.5 ans",label:"Dure de vie moyenne",description:"D'un smartphone avant remplacement",source:"ADEME France"},{value:"92M tonnes",label:"Textiles jets",description:"De vtements jets par an",source:"Fashion Revolution"}],t=[{category:"lectronique",tips:["Nettoyez rgulirement les ports de charge","Utilisez des protections d'cran et coques","vitez les tempratures extrmes","Mettez  jour les logiciels rgulirement"]},{category:"Vtements",tips:["Lavez  basse temprature","Rparez les petites dchirures rapidement","Utilisez des produits de lavage doux","vitez le sche-linge quand possible"]},{category:"Mobilier",tips:["Traitez le bois rgulirement","Resserrez les vis et fixations","Protgez des rayons directs du soleil","Nettoyez avec des produits adapts"]},{category:"Livres",tips:["Conservez dans un endroit sec","vitez l'exposition directe au soleil","Utilisez des signets plutt que corner les pages","Rangez verticalement pour viter les dformations"]}],r=[{title:"Qu'est-ce que l'conomie circulaire ?",description:"Une vido en franais qui explique simplement ce quest lconomie circulaire.",thumbnail:"https://img.youtube.com/vi/rUU7nky2MRY/maxresdefault.jpg",url:"https://www.youtube.com/watch?v=rUU7nky2MRY",duration:"3:15"},{title:"Rparer plutt que jeter !",description:"Une vido en franais qui encourage la rparation des objets plutt que de les jeter.",thumbnail:"https://img.youtube.com/vi/WMm9w0cM8lg/maxresdefault.jpg",url:"https://www.youtube.com/watch?v=WMm9w0cM8lg",duration:"4:00"}],i=h=>n.filter(m=>m.category===h),a={environment:{label:"Environnement",icon:Gi,badge:"bg-emerald-100 text-emerald-700 border border-emerald-200"},repair:{label:"Rparation",icon:Ep,badge:"bg-amber-100 text-amber-800 border border-amber-200"},stats:{label:"Stats",icon:Ki,badge:"bg-slate-100 text-slate-700 border border-slate-200"},tips:{label:"Conseils",icon:xp,badge:"bg-amber-100 text-amber-800 border border-amber-200"}},u=({article:h})=>{const m=a[h.category]||a.stats,p=m.icon;return l.jsxs(De,{className:"overflow-hidden rounded-2xl border bg-white shadow-sm hover:shadow-md transition-shadow",children:[l.jsx("div",{className:"aspect-video overflow-hidden bg-gray-100",children:l.jsx("img",{src:h.image,alt:h.title,className:"w-full h-full object-cover hover:scale-[1.03] transition-transform duration-300"})}),l.jsxs(Ge,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium ${m.badge}`,children:[l.jsx(p,{className:"w-3.5 h-3.5"}),m.label]}),l.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[l.jsx(Sb,{className:"w-3.5 h-3.5"}),h.readTime]})]}),l.jsx(Ke,{className:"text-lg",children:h.title}),l.jsx(kc,{children:h.description})]}),l.jsx(Le,{children:l.jsxs(rt,{variant:"outline",className:"w-full rounded-xl",onClick:()=>window.open(h.url,"_blank"),children:["Lire",l.jsx(GD,{className:"w-4 h-4 ml-2"})]})})]})};return l.jsxs("div",{className:"space-y-10",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Centre de dcouverte"}),l.jsx("p",{className:"text-lg text-gray-600",children:"Articles, chiffres et ressources pour comprendre lconomie circulaire."})]}),l.jsxs("section",{className:"relative overflow-hidden rounded-2xl bg-emerald-600 p-8 md:p-12 text-white",children:[l.jsx("div",{className:"absolute -top-24 -right-24 h-64 w-64 rounded-full bg-white/10"}),l.jsx("div",{className:"absolute -bottom-24 -left-24 h-64 w-64 rounded-full bg-black/10"}),l.jsxs("div",{className:"relative",children:[l.jsx("h2",{className:"text-3xl font-bold mb-3",children:"Pourquoi lconomie circulaire ?"}),l.jsx("p",{className:"text-emerald-50 max-w-2xl mb-8",children:"Moins de dchets, moins dextraction, plus de dure de vie : lchange a un vrai impact."}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:e.slice(0,3).map((h,m)=>l.jsxs("div",{className:"bg-white/10 border border-white/15 rounded-2xl p-6",children:[l.jsx("p",{className:"text-4xl font-bold mb-2",children:h.value}),l.jsx("p",{className:"text-lg font-medium mb-1",children:h.label}),l.jsx("p",{className:"text-sm text-emerald-50/90",children:h.description})]},m))})]})]}),l.jsx("section",{children:l.jsxs(CS,{defaultValue:"all",className:"w-full",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[l.jsx(_b,{className:"w-6 h-6 text-emerald-600"}),"Articles et ressources"]})}),l.jsxs(AS,{className:"grid w-full max-w-2xl grid-cols-5 bg-white border shadow-sm",children:[l.jsx(Vi,{value:"all",children:"Tous"}),l.jsxs(Vi,{value:"environment",children:[l.jsx(Gi,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Env"})]}),l.jsxs(Vi,{value:"repair",children:[l.jsx(Ep,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Rpa"})]}),l.jsxs(Vi,{value:"stats",children:[l.jsx(Ki,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Stats"})]}),l.jsxs(Vi,{value:"tips",children:[l.jsx(xp,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Conseils"})]})]}),l.jsx(Pc,{value:"all",className:"mt-6",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(h=>l.jsx(u,{article:h},h.id))})}),["environment","repair","stats","tips"].map(h=>l.jsx(Pc,{value:h,className:"mt-6",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i(h).map(m=>l.jsx(u,{article:m},m.id))})},h))]})}),l.jsxs("section",{children:[l.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[l.jsx(Ep,{className:"w-6 h-6 text-emerald-600"}),"Conseils dentretien"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map((h,m)=>l.jsxs(De,{className:"rounded-2xl shadow-sm",children:[l.jsx(Ge,{children:l.jsx(Ke,{children:h.category})}),l.jsx(Le,{children:l.jsx("ul",{className:"space-y-2",children:h.tips.map((p,v)=>l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx(xp,{className:"w-4 h-4 text-amber-500 mt-1 flex-shrink-0"}),l.jsx("span",{className:"text-sm text-gray-700",children:p})]},v))})})]},m))})]}),l.jsxs("section",{children:[l.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[l.jsx(Ki,{className:"w-6 h-6 text-emerald-600"}),"Statistiques cls"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((h,m)=>l.jsxs(De,{className:"rounded-2xl shadow-sm",children:[l.jsxs(Ge,{children:[l.jsx(Ke,{className:"text-3xl text-emerald-700",children:h.value}),l.jsx(kc,{className:"text-base font-medium text-gray-900",children:h.label})]}),l.jsxs(Le,{children:[l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:h.description}),l.jsxs("p",{className:"text-xs text-gray-500 italic",children:["Source: ",h.source]})]})]},m))})]}),l.jsxs("section",{children:[l.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[l.jsx(QD,{className:"w-6 h-6 text-emerald-600"}),"Ressources vido"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.map((h,m)=>l.jsx("a",{href:h.url,target:"_blank",rel:"noopener noreferrer",className:"group",children:l.jsxs(De,{className:"overflow-hidden rounded-2xl shadow-sm hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"aspect-video overflow-hidden bg-gray-100 relative",children:[l.jsx("img",{src:h.thumbnail,alt:h.title,className:"w-full h-full object-cover group-hover:scale-[1.03] transition-transform duration-300"}),l.jsx("div",{className:"absolute inset-0 bg-black/30 group-hover:bg-black/40 transition-colors flex items-center justify-center",children:l.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center group-hover:scale-110 transition-transform",children:l.jsx(cM,{className:"w-8 h-8 text-emerald-600 ml-1",fill:"currentColor"})})}),l.jsx("div",{className:"absolute bottom-2 right-2 bg-black/80 text-white px-2 py-1 rounded text-sm",children:h.duration})]}),l.jsxs(Ge,{children:[l.jsx(Ke,{children:h.title}),l.jsx(kc,{children:h.description})]})]})},m))})]})]})},V6=()=>l.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Mentions Lgales"}),l.jsxs(De,{children:[l.jsx(Ge,{children:l.jsx(Ke,{children:"diteur du site"})}),l.jsx(Le,{className:"space-y-4 text-gray-700",children:l.jsxs("p",{children:[l.jsx("strong",{children:"Nom du site :"})," SecondLife Exchange",l.jsx("br",{}),l.jsx("strong",{children:"Adresse :"})," [Adresse de l'entreprise]",l.jsx("br",{}),l.jsx("strong",{children:"Email :"})," contact@secondlife.fr",l.jsx("br",{}),l.jsx("strong",{children:"Directeur de la publication :"})," [Nom du directeur]"]})})]}),l.jsxs(De,{children:[l.jsx(Ge,{children:l.jsx(Ke,{children:"Hbergement"})}),l.jsx(Le,{className:"space-y-4 text-gray-700",children:l.jsxs("p",{children:[l.jsx("strong",{children:"Hbergeur :"})," Vercel Inc.",l.jsx("br",{}),l.jsx("strong",{children:"Adresse :"})," 340 S Lemon Ave #4133, Walnut, CA 91789, USA",l.jsx("br",{}),l.jsx("strong",{children:"Site web :"})," ",l.jsx("a",{href:"https://vercel.com",target:"_blank",rel:"noopener noreferrer",className:"text-emerald-600 hover:underline",children:"vercel.com"})]})})]}),l.jsxs(De,{children:[l.jsx(Ge,{children:l.jsx(Ke,{children:"Proprit intellectuelle"})}),l.jsxs(Le,{className:"space-y-4 text-gray-700",children:[l.jsx("p",{children:"L'ensemble du contenu de ce site (textes, images, graphismes, logo, icnes, etc.) est la proprit exclusive de SecondLife Exchange,  l'exception des marques, logos ou contenus appartenant  d'autres socits partenaires ou auteurs."}),l.jsx("p",{children:"Toute reproduction, distribution, modification, adaptation, retransmission ou publication de ces diffrents lments est strictement interdite sans l'accord exprs par crit de SecondLife Exchange."})]})]}),l.jsxs(De,{children:[l.jsx(Ge,{children:l.jsx(Ke,{children:"Donnes personnelles"})}),l.jsxs(Le,{className:"space-y-4 text-gray-700",children:[l.jsx("p",{children:"Conformment  la loi  Informatique et Liberts  du 6 janvier 1978 modifie et au Rglement Gnral sur la Protection des Donnes (RGPD), vous disposez d'un droit d'accs, de rectification, de suppression et d'opposition aux donnes personnelles vous concernant."}),l.jsxs("p",{children:["Pour exercer ces droits, veuillez nous contacter  l'adresse : ",l.jsx("a",{href:"mailto:contact@secondlife.fr",className:"text-emerald-600 hover:underline",children:"contact@secondlife.fr"})]})]})]}),l.jsxs(De,{children:[l.jsx(Ge,{children:l.jsx(Ke,{children:"Cookies"})}),l.jsx(Le,{className:"space-y-4 text-gray-700",children:l.jsx("p",{children:"Le site utilise des cookies pour amliorer l'exprience utilisateur et raliser des statistiques de visites. Vous pouvez grer vos prfrences de cookies via notre page ddie."})})]}),l.jsxs(De,{children:[l.jsx(Ge,{children:l.jsx(Ke,{children:"Limitation de responsabilit"})}),l.jsx(Le,{className:"space-y-4 text-gray-700",children:l.jsx("p",{children:"SecondLife Exchange ne pourra tre tenu responsable des dommages directs et indirects causs au matriel de l'utilisateur, lors de l'accs au site, et rsultant soit de l'utilisation d'un matriel ne rpondant pas aux spcifications, soit de l'apparition d'un bug ou d'une incompatibilit."})})]})]}),F6=()=>l.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Conditions Gnrales d'Utilisation"}),l.jsxs(De,{children:[l.jsx(Ge,{children:l.jsx(Ke,{children:"1. Objet"})}),l.jsxs(Le,{className:"space-y-4 text-gray-700",children:[l.jsx("p",{children:"Les prsentes Conditions Gnrales d'Utilisation (CGU) ont pour objet de dfinir les modalits et conditions d'utilisation de la plateforme SecondLife Exchange, ainsi que les droits et obligations des utilisateurs dans ce cadre."}),l.jsx("p",{children:"L'utilisation de la plateforme implique l'acceptation pleine et entire des prsentes CGU."})]})]}),l.jsxs(De,{children:[l.jsx(Ge,{children:l.jsx(Ke,{children:"2. Accs  la plateforme"})}),l.jsxs(Le,{className:"space-y-4 text-gray-700",children:[l.jsx("p",{children:"La plateforme SecondLife Exchange est accessible gratuitement  tout utilisateur disposant d'un accs  internet. Tous les cots affrents  l'accs  la plateforme, que ce soient les frais matriels, logiciels ou d'accs  internet, sont exclusivement  la charge de l'utilisateur."}),l.jsx("p",{children:"L'utilisateur non-membre n'a pas accs aux services rservs aux membres. Pour cela, il doit crer un compte en fournissant les informations ncessaires."})]})]}),l.jsxs(De,{children:[l.jsx(Ge,{children:l.jsx(Ke,{children:"3. Inscription et compte utilisateur"})}),l.jsxs(Le,{className:"space-y-4 text-gray-700",children:[l.jsx("p",{children:"Pour accder  l'ensemble des fonctionnalits de la plateforme, l'utilisateur doit crer un compte en fournissant une adresse email valide et un mot de passe."}),l.jsx("p",{children:"L'utilisateur s'engage  fournir des informations exactes et  les maintenir  jour. Il est responsable de la confidentialit de ses identifiants de connexion."}),l.jsx("p",{children:"L'utilisateur peut  tout moment supprimer son compte en contactant le service client."})]})]}),l.jsxs(De,{children:[l.jsx(Ge,{children:l.jsx(Ke,{children:"4. Services proposs"})}),l.jsxs(Le,{className:"space-y-4 text-gray-700",children:[l.jsx("p",{children:"SecondLife Exchange permet aux utilisateurs de :"}),l.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[l.jsx("li",{children:"Proposer des objets  changer"}),l.jsx("li",{children:"Rechercher des objets disponibles"}),l.jsx("li",{children:"Contacter d'autres utilisateurs pour organiser des changes"}),l.jsx("li",{children:"Participer aux thmes hebdomadaires"}),l.jsx("li",{children:"Consulter leur impact cologique"})]}),l.jsx("p",{children:"SecondLife Exchange agit uniquement comme intermdiaire de mise en relation. La plateforme n'est pas partie prenante des changes effectus entre utilisateurs."})]})]}),l.jsxs(De,{children:[l.jsx(Ge,{children:l.jsx(Ke,{children:"5. Obligations des utilisateurs"})}),l.jsxs(Le,{className:"space-y-4 text-gray-700",children:[l.jsx("p",{children:"L'utilisateur s'engage  :"}),l.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[l.jsx("li",{children:"Ne pas diffuser de contenus illicites, offensants ou contraires aux bonnes murs"}),l.jsx("li",{children:"Respecter les droits de proprit intellectuelle"}),l.jsx("li",{children:"Fournir des informations exactes sur les objets proposs"}),l.jsx("li",{children:"Ne pas usurper l'identit d'un tiers"}),l.jsx("li",{children:"Ne pas utiliser la plateforme  des fins commerciales sans autorisation"}),l.jsx("li",{children:"Respecter les autres utilisateurs"})]})]})]}),l.jsxs(De,{children:[l.jsx(Ge,{children:l.jsx(Ke,{children:"6. Responsabilit"})}),l.jsxs(Le,{className:"space-y-4 text-gray-700",children:[l.jsx("p",{children:"SecondLife Exchange ne peut tre tenue responsable des dommages rsultant :"}),l.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[l.jsx("li",{children:"Des changes effectus entre utilisateurs"}),l.jsx("li",{children:"De l'inexactitude des informations fournies par les utilisateurs"}),l.jsx("li",{children:"D'une utilisation frauduleuse ou abusive de la plateforme"}),l.jsx("li",{children:"D'une interruption du service, quelle qu'en soit la cause"})]}),l.jsx("p",{children:"Les changes se font sous l'entire responsabilit des utilisateurs. Il est recommand de prendre toutes les prcautions ncessaires lors des rencontres physiques."})]})]}),l.jsxs(De,{children:[l.jsx(Ge,{children:l.jsx(Ke,{children:"7. Modification des CGU"})}),l.jsxs(Le,{className:"space-y-4 text-gray-700",children:[l.jsx("p",{children:"SecondLife Exchange se rserve le droit de modifier les prsentes CGU  tout moment. Les utilisateurs seront informs de ces modifications par email ou via la plateforme."}),l.jsx("p",{children:"L'utilisation de la plateforme aprs modification des CGU vaut acceptation des nouvelles conditions."})]})]}),l.jsxs(De,{children:[l.jsx(Ge,{children:l.jsx(Ke,{children:"8. Droit applicable"})}),l.jsx(Le,{className:"space-y-4 text-gray-700",children:l.jsx("p",{children:"Les prsentes CGU sont rgies par le droit franais. En cas de litige, et aprs une tentative de rsolution amiable, les tribunaux franais seront seuls comptents."})})]})]}),U6=()=>l.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Politique de Confidentialit"}),l.jsxs(De,{children:[l.jsx(Ge,{children:l.jsx(Ke,{children:"1. Introduction"})}),l.jsx(Le,{className:"space-y-4 text-gray-700",children:l.jsx("p",{children:"SecondLife Exchange accorde une grande importance  la protection de vos donnes personnelles. Cette politique de confidentialit vous informe sur la manire dont nous collectons, utilisons et protgeons vos donnes conformment au Rglement Gnral sur la Protection des Donnes (RGPD)."})})]}),l.jsxs(De,{children:[l.jsx(Ge,{children:l.jsx(Ke,{children:"2. Responsable du traitement"})}),l.jsx(Le,{className:"space-y-4 text-gray-700",children:l.jsxs("p",{children:[l.jsx("strong",{children:"Responsable :"})," SecondLife Exchange",l.jsx("br",{}),l.jsx("strong",{children:"Email :"})," contact@secondlife.fr",l.jsx("br",{}),l.jsx("strong",{children:"Adresse :"})," [Adresse de l'entreprise]"]})})]}),l.jsxs(De,{children:[l.jsx(Ge,{children:l.jsx(Ke,{children:"3. Donnes collectes"})}),l.jsxs(Le,{className:"space-y-4 text-gray-700",children:[l.jsx("p",{children:"Nous collectons les donnes suivantes :"}),l.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Donnes d'identification :"})," nom, prnom, adresse email"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Donnes de connexion :"})," adresse IP, logs de connexion"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Donnes de profil :"})," photo de profil, ville"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Donnes d'utilisation :"})," objets proposs, changes effectus, interactions sur la plateforme"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Cookies :"})," donnes de navigation (voir politique cookies)"]})]})]})]}),l.jsxs(De,{children:[l.jsx(Ge,{children:l.jsx(Ke,{children:"4. Finalits du traitement"})}),l.jsxs(Le,{className:"space-y-4 text-gray-700",children:[l.jsx("p",{children:"Vos donnes sont utilises pour :"}),l.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[l.jsx("li",{children:"Crer et grer votre compte utilisateur"}),l.jsx("li",{children:"Permettre la mise en relation entre utilisateurs"}),l.jsx("li",{children:"Amliorer nos services et l'exprience utilisateur"}),l.jsx("li",{children:"Envoyer des communications relatives au service"}),l.jsx("li",{children:"Assurer la scurit de la plateforme"}),l.jsx("li",{children:"Raliser des statistiques anonymises"}),l.jsx("li",{children:"Respecter nos obligations lgales"})]})]})]}),l.jsxs(De,{children:[l.jsx(Ge,{children:l.jsx(Ke,{children:"5. Base lgale du traitement"})}),l.jsxs(Le,{className:"space-y-4 text-gray-700",children:[l.jsx("p",{children:"Le traitement de vos donnes repose sur :"}),l.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"L'excution du contrat :"})," pour fournir nos services"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Le consentement :"})," pour l'envoi de communications marketing"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"L'intrt lgitime :"})," pour amliorer nos services et assurer la scurit"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"L'obligation lgale :"})," pour respecter les rglementations en vigueur"]})]})]})]}),l.jsxs(De,{children:[l.jsx(Ge,{children:l.jsx(Ke,{children:"6. Destinataires des donnes"})}),l.jsxs(Le,{className:"space-y-4 text-gray-700",children:[l.jsx("p",{children:"Vos donnes peuvent tre transmises  :"}),l.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[l.jsx("li",{children:"Les autres utilisateurs de la plateforme (nom, photo de profil, objets proposs)"}),l.jsx("li",{children:"Nos prestataires techniques (hbergement, analytics)"}),l.jsx("li",{children:"Les autorits comptentes sur requte lgale"})]}),l.jsx("p",{children:"Vos donnes ne sont jamais vendues  des tiers  des fins commerciales."})]})]}),l.jsxs(De,{children:[l.jsx(Ge,{children:l.jsx(Ke,{children:"7. Dure de conservation"})}),l.jsxs(Le,{className:"space-y-4 text-gray-700",children:[l.jsx("p",{children:"Vos donnes sont conserves pendant la dure de votre utilisation de la plateforme, puis :"}),l.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Compte actif :"})," pendant toute la dure d'utilisation"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Aprs suppression du compte :"})," 30 jours (sauf obligations lgales)"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Donnes de connexion :"})," 12 mois"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Donnes comptables :"})," 10 ans"]})]})]})]}),l.jsxs(De,{children:[l.jsx(Ge,{children:l.jsx(Ke,{children:"8. Vos droits"})}),l.jsxs(Le,{className:"space-y-4 text-gray-700",children:[l.jsx("p",{children:"Conformment au RGPD, vous disposez des droits suivants :"}),l.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Droit d'accs :"})," obtenir la confirmation que vos donnes sont traites et en recevoir une copie"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Droit de rectification :"})," corriger vos donnes inexactes"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Droit  l'effacement :"})," supprimer vos donnes dans certaines conditions"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Droit  la limitation :"})," limiter le traitement de vos donnes"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Droit  la portabilit :"})," recevoir vos donnes dans un format structur"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Droit d'opposition :"})," vous opposer au traitement de vos donnes"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Droit de retirer votre consentement :"}),"  tout moment"]})]}),l.jsxs("p",{children:["Pour exercer ces droits, contactez-nous  : ",l.jsx("a",{href:"mailto:contact@secondlife.fr",className:"text-emerald-600 hover:underline",children:"contact@secondlife.fr"})]}),l.jsxs("p",{children:["Vous pouvez galement dposer une rclamation auprs de la CNIL : ",l.jsx("a",{href:"https://www.cnil.fr",target:"_blank",rel:"noopener noreferrer",className:"text-emerald-600 hover:underline",children:"www.cnil.fr"})]})]})]}),l.jsxs(De,{children:[l.jsx(Ge,{children:l.jsx(Ke,{children:"9. Scurit des donnes"})}),l.jsxs(Le,{className:"space-y-4 text-gray-700",children:[l.jsx("p",{children:"Nous mettons en uvre des mesures techniques et organisationnelles appropries pour protger vos donnes contre tout accs non autoris, perte, destruction ou altration :"}),l.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[l.jsx("li",{children:"Chiffrement des donnes sensibles (mots de passe)"}),l.jsx("li",{children:"Connexions scurises (HTTPS)"}),l.jsx("li",{children:"Accs restreint aux donnes personnelles"}),l.jsx("li",{children:"Sauvegardes rgulires"}),l.jsx("li",{children:"Surveillance des accs"})]})]})]}),l.jsxs(De,{children:[l.jsx(Ge,{children:l.jsx(Ke,{children:"10. Cookies"})}),l.jsx(Le,{className:"space-y-4 text-gray-700",children:l.jsxs("p",{children:["Pour plus d'informations sur l'utilisation des cookies, veuillez consulter notre",l.jsx("a",{href:"#",className:"text-emerald-600 hover:underline ml-1",children:"Politique de gestion des cookies"}),"."]})})]}),l.jsxs(De,{children:[l.jsx(Ge,{children:l.jsx(Ke,{children:"11. Modifications"})}),l.jsxs(Le,{className:"space-y-4 text-gray-700",children:[l.jsx("p",{children:"Nous nous rservons le droit de modifier cette politique de confidentialit  tout moment. Toute modification sera publie sur cette page avec une date de mise  jour."}),l.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Dernire mise  jour : 26 janvier 2026"})]})]})]}),z6=()=>l.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Politique de Gestion des Cookies"}),l.jsxs(De,{children:[l.jsx(Ge,{children:l.jsx(Ke,{children:"1. Qu'est-ce qu'un cookie ?"})}),l.jsx(Le,{className:"space-y-4 text-gray-700",children:l.jsx("p",{children:"Un cookie est un petit fichier texte dpos sur votre terminal (ordinateur, tablette, smartphone) lors de la visite d'un site web. Il permet de collecter des informations relatives  votre navigation et de vous proposer des services adapts."})})]}),l.jsxs(De,{children:[l.jsx(Ge,{children:l.jsx(Ke,{children:"2. Types de cookies utiliss"})}),l.jsxs(Le,{className:"space-y-4 text-gray-700",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mt-4",children:"Cookies essentiels"}),l.jsx("p",{children:"Ces cookies sont indispensables au fonctionnement du site. Ils permettent d'utiliser les fonctionnalits principales comme la connexion  votre compte, la mmorisation de votre panier, etc."}),l.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Cookie d'authentification :"})," maintient votre session active"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Cookie de prfrence :"})," mmorise vos choix (langue, thme)"]})]}),l.jsx("h3",{className:"font-semibold text-gray-900 mt-4",children:"Cookies analytiques"}),l.jsx("p",{children:"Ces cookies nous permettent de mesurer l'audience du site et d'analyser la navigation pour amliorer nos services."}),l.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Google Analytics :"})," statistiques de visite anonymises"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Donnes collectes :"})," pages visites, dure de session, source de trafic"]})]}),l.jsx("h3",{className:"font-semibold text-gray-900 mt-4",children:"Cookies fonctionnels"}),l.jsx("p",{children:"Ces cookies amliorent votre exprience en mmorisant vos prfrences."}),l.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[l.jsx("li",{children:"Mmorisation de votre localisation"}),l.jsx("li",{children:"Prfrences d'affichage"})]})]})]}),l.jsxs(De,{children:[l.jsx(Ge,{children:l.jsx(Ke,{children:"3. Dure de conservation"})}),l.jsx(Le,{className:"space-y-4 text-gray-700",children:l.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Cookies de session :"})," supprims  la fermeture du navigateur"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Cookies d'authentification :"})," 30 jours"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Cookies analytiques :"})," 13 mois maximum"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Cookies de prfrence :"})," 12 mois"]})]})})]}),l.jsxs(De,{children:[l.jsx(Ge,{children:l.jsx(Ke,{children:"4. Gestion des cookies"})}),l.jsxs(Le,{className:"space-y-4 text-gray-700",children:[l.jsx("p",{children:"Vous pouvez  tout moment grer vos prfrences en matire de cookies :"}),l.jsx("h3",{className:"font-semibold text-gray-900 mt-4",children:"Via votre navigateur"}),l.jsx("p",{children:"Vous pouvez configurer votre navigateur pour :"}),l.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[l.jsx("li",{children:"tre inform de la prsence de cookies"}),l.jsx("li",{children:"Accepter ou refuser les cookies au cas par cas"}),l.jsx("li",{children:"Refuser systmatiquement tous les cookies"}),l.jsx("li",{children:"Supprimer les cookies existants"})]}),l.jsxs("div",{className:"mt-4 space-y-2",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Chrome :"})," Paramtres  Confidentialit et scurit  Cookies"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Firefox :"})," Options  Vie prive et scurit  Cookies"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Safari :"})," Prfrences  Confidentialit  Cookies"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Edge :"})," Paramtres  Cookies et autorisations"]})]}),l.jsx("div",{className:"mt-6 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:l.jsxs("p",{className:"text-amber-800",children:[l.jsx("strong",{children:" Attention :"})," La dsactivation de certains cookies peut limiter votre accs  certaines fonctionnalits du site."]})})]})]}),l.jsxs(De,{children:[l.jsx(Ge,{children:l.jsx(Ke,{children:"5. Cookies tiers"})}),l.jsxs(Le,{className:"space-y-4 text-gray-700",children:[l.jsx("p",{children:"Notre site peut contenir des cookies provenant de services tiers :"}),l.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Google Analytics :"})," pour les statistiques de visite"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Firebase :"})," pour l'authentification et la base de donnes"]})]}),l.jsx("p",{children:"Ces services ont leurs propres politiques de confidentialit et de cookies. Nous vous invitons  les consulter."})]})]}),l.jsxs(De,{children:[l.jsx(Ge,{children:l.jsx(Ke,{children:"6. Consentement"})}),l.jsx(Le,{className:"space-y-4 text-gray-700",children:l.jsx("p",{children:"Conformment  la rglementation, votre consentement est requis pour le dpt de cookies non essentiels. Vous pouvez retirer votre consentement  tout moment via les paramtres de votre navigateur."})})]}),l.jsxs(De,{children:[l.jsx(Ge,{children:l.jsx(Ke,{children:"7. Contact"})}),l.jsx(Le,{className:"space-y-4 text-gray-700",children:l.jsxs("p",{children:["Pour toute question concernant notre politique de cookies, contactez-nous  :",l.jsx("a",{href:"mailto:contact@secondlife.fr",className:"text-emerald-600 hover:underline ml-1",children:"contact@secondlife.fr"})]})})]}),l.jsxs(De,{children:[l.jsx(Ge,{children:l.jsx(Ke,{children:"8. Mise  jour"})}),l.jsxs(Le,{className:"space-y-4 text-gray-700",children:[l.jsx("p",{children:"Cette politique peut tre modifie  tout moment. Nous vous invitons  la consulter rgulirement."}),l.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Dernire mise  jour : 26 janvier 2026"})]})]})]});var B6=(n,e,t,r,i,a,u,h)=>{let m=document.documentElement,p=["light","dark"];function v(I){(Array.isArray(n)?n:[n]).forEach(A=>{let N=A==="class",R=N&&a?i.map(L=>a[L]||L):i;N?(m.classList.remove(...R),m.classList.add(a&&a[I]?a[I]:I)):m.setAttribute(A,I)}),y(I)}function y(I){h&&p.includes(I)&&(m.style.colorScheme=I)}function _(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)v(r);else try{let I=localStorage.getItem(e)||t,A=u&&I==="system"?_():I;v(A)}catch{}},$6=b.createContext(void 0),q6={setTheme:n=>{},themes:[]},H6=()=>{var n;return(n=b.useContext($6))!=null?n:q6};b.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:u,themes:h,nonce:m,scriptProps:p})=>{let v=JSON.stringify([t,e,a,n,h,u,r,i]).slice(1,-1);return b.createElement("script",{...p,suppressHydrationWarning:!0,nonce:typeof window>"u"?m:"",dangerouslySetInnerHTML:{__html:`(${B6.toString()})(${v})`}})});const W6=({...n})=>{const{theme:e="system"}=H6();return l.jsx(TD,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...n})},G6=()=>{const{user:n,isLoading:e}=ri(),[t,r]=b.useState(null),[i,a]=b.useState("home"),[u,h]=b.useState(null);return e?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-emerald-50 to-teal-50",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-emerald-500 border-t-transparent"})}):t==="login"?l.jsx(jM,{onSwitchToSignup:()=>r("signup"),onClose:()=>r(null)}):t==="signup"?l.jsx(DM,{onSwitchToLogin:()=>r("login"),onClose:()=>r(null)}):l.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[l.jsx(P3,{activeTab:u?"legal":i,setActiveTab:m=>{a(m),h(null)},onLoginClick:()=>r("login"),onSignupClick:()=>r("signup")}),l.jsxs("main",{className:"flex-1 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full",children:[u==="mentions"&&l.jsx(V6,{}),u==="cgu"&&l.jsx(F6,{}),u==="confidentialite"&&l.jsx(U6,{}),u==="cookies"&&l.jsx(z6,{}),!u&&l.jsxs(l.Fragment,{children:[i==="home"&&l.jsx(V3,{setActiveTab:a}),i==="themes"&&l.jsx(I6,{setActiveTab:a}),i==="messages"&&(n?l.jsx(O6,{}):l.jsx("div",{className:"text-center py-12",children:"Connectez-vous pour voir vos messages"})),i==="profile"&&(n?l.jsx(C6,{setActiveTab:a}):l.jsx("div",{className:"text-center py-12",children:"Connectez-vous pour voir votre profil"})),i==="discover"&&l.jsx(L6,{})]})]}),l.jsx(j3,{onLegalClick:h})]})};function K6(){return l.jsxs(Xj,{children:[l.jsx(G6,{}),l.jsx(W6,{})]})}UN.createRoot(document.getElementById("root")).render(l.jsx(fe.StrictMode,{children:l.jsx(K6,{})}));
